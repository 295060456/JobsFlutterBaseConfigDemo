# <font color=red>[Dart.**`Flutter`**](https://flutter.dev/?utm_source=google&utm_medium=cpc&utm_campaign=brand_sem&utm_content=apac_apac&gad_source=1&gad_campaignid=13034410756&gbraid=0AAAAAC-INI-9jKGdZCm6a9Zp2RvENOQVv&gclid=Cj0KCQjwj8jDBhD1ARIsACRV2TuPZFDZ2Py9BmKbsRj_mVS18Mf58tJhFzuzJIuxzTe316eALXjyW0AaAhelEALw_wcB&gclsrc=aw.ds)é¶åœºğŸ§ªé¡¹ç›®Â </font><åŸºç¡€é…ç½®çš„è¯´æ˜>

<p align="left">
  <a><img src="https://img.shields.io/badge/flutter-3.22.1-blue" alt="Flutter"/></a>
  <a><img src="https://img.shields.io/badge/dart-3.3.4-orange" alt="Dart"/></a>
  <a><img src="https://img.shields.io/badge/platform-Android/iOS/web-critical" alt="Platforms"/></a>
  <a><img src="https://img.shields.io/github/actions/workflow/status/295060456/JobsFlutterBaseConfigDemo/ci.yml?branch=main" alt="Build Status"/></a>
  <a href="https://github.com/295060456/JobsFlutterBaseConfigDemo"><img src="https://img.shields.io/github/license/295060456/JobsFlutterBaseConfigDemo?style=flat&color=success" alt="License"/></a>
  <a><img src="https://img.shields.io/github/languages/top/295060456/JobsFlutterBaseConfigDemo?color=blueviolet" alt="Top Language"/></a>
  <a href="https://github.com/295060456/JobsFlutterBaseConfigDemo/stargazers"><img src="https://img.shields.io/github/stars/295060456/JobsFlutterBaseConfigDemo?style=flat-square&color=yellow" alt="Stars"/></a>
  <a href="https://github.com/295060456/JobsFlutterBaseConfigDemo/network"><img src="https://img.shields.io/github/forks/295060456/JobsFlutterBaseConfigDemo?style=flat-square&color=blue" alt="Forks"/></a>
  <a><img src="https://img.shields.io/github/issues/295060456/JobsFlutterBaseConfigDemo?color=important" alt="Issues"/></a>
  <a><img src="https://img.shields.io/github/last-commit/295060456/JobsFlutterBaseConfigDemo?color=ff69b4" alt="Last Commit"/></a>
  <a><img src="https://img.shields.io/github/languages/code-size/295060456/JobsFlutterBaseConfigDemo" alt="Code Size"/></a>
</p>

[toc]

å½“å‰æ€»è¡Œæ•°ï¼š

## ğŸ”¥<font id=å‰è¨€>å‰è¨€</font>

* **å·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨**
* **ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šï¼Œæ‰èƒ½çœ‹å¾—æ›´è¿œ**
* **é¢å‘ä¿¡ä»°ç¼–ç¨‹**

## ä¸€ã€ğŸ¯ç›®çš„å’ŒåŠŸæ•ˆ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

* å“æ§æ ‡å‡†ï¼ˆåªèƒ½ä¸¥æ ¼çš„ä¿è¯ç¼–è¯‘å™¨æ­£å¸¸ï¼Œè€Œä¸èƒ½å®Œå…¨ä¿è¯è¿è¡Œæ—¶çš„ä¸å‡ºé”™ï¼‰
  * ä¸€å®šè¦ä¿è¯è¿™ä¸ªå·¥ç¨‹çš„æˆåŠŸç¼–è¯‘é€šè¿‡ï¼Œæ–¹ä¾¿ä»¥åé¡¹ç›®ç›´æ¥è¿›è¡Œå¼•ç”¨ï¼Œä¹ƒè‡³å¼€æ–°ç‰ˆæœ¬
  * <font color=blue>**ç¤ºä¾‹Demoå¯èƒ½å› ä¸ºç›¸å…³Apiçš„å‡çº§ï¼Œæ²¡æœ‰åŠæ—¶çš„è¦†ç›–å¤„ç†ï¼Œå¯èƒ½ä¼šå‡ºç°é—ªé€€ã€‚ä¿®å¤å³å¯**</font>
* è‡ªæ­¤ä»¥åï¼Œæ‰€æœ‰æ–°å¼€çš„é¡¹ç›®éƒ½å¯ä»¥æ ¹æ®è¿™ä¸ª**æ ¹é¡¹ç›®**æ¥è¿›è¡Œç»Ÿä¸€çš„è°ƒé…å’Œä½¿ç”¨
  * å°†å®ƒä½œä¸ºæ‰€æœ‰é¡¹ç›®çš„æ¯ç‰ˆå’ŒåŸºç±»ï¼Œæœ€å¤§é™åº¦çš„åšåˆ°å…¨å±€çš„ç»Ÿä¸€
  * æ—¥ç§¯æœˆç´¯çš„è®°å½•ä¸€äº›å¹³æ—¶ç”Ÿäº§ç”Ÿæ´»ä¸­èŒå‘çš„ä¸€äº›ä¼˜ç§€çš„æƒ³æ³•ã€çµå…‰ä¸€ç°çš„åˆ›æ„ã€‚åŒ…æ‹¬ä½†ä¸ä»…é™äºï¼š<u>è¯­æ³•ç³–çš„å°è£…</u>ã€<u>æ–¹æ³•çš„è°ƒç”¨</u>ï¼Œ<u>ç¬¬ä¸‰æ–¹çš„é€‰ç”¨</u>ã€ä»¥åŠä¸€äº›å¿ƒå¾—ä½“ä¼š
* ä½œä¸ºæŸäº›ä»£ç **å®è·µé¶åœº**ï¼Œåœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæ˜¯éå¸¸æœ‰å¿…è¦çš„
  * ä¸ºæˆ‘ä»¬å¿«é€Ÿä¸”ç¨³å®šçš„å¤ç°ä¸€äº›ä¸šåŠ¡åœºæ™¯ï¼Œä½œä¸ºä»£ç å®éªŒå®¤ğŸ§ªï¼Œè€Œæ­å»ºçš„ä¸€ä¸ªå¹³å°
* ä½œä¸ºä»£ç ç¬”è®°ï¼Œè®°å½•ä¸€äº›å¸¸ç”¨çš„ä»£ç ï¼Œæ–¹ä¾¿æŸ¥é˜…
  * ä¸»è¦å½¢å¼æ˜¯å¯ä»¥è¿è¡Œçš„ä»£ç  + æ–‡å­—æ€§å™è¿° + å›¾æ–‡æ··ç¼–è®²è§£
  * ä½œä¸ºå­¦ä¹ çš„èµ„æ–™ï¼Œå¯ä»¥å¿«é€Ÿäº†è§£åˆ°ä¸€äº›å¸¸ç”¨çš„çŸ¥è¯†ï¼Œå¤§å¹…**é™ä½å­¦ä¹ æˆæœ¬**
  * ä½œä¸ºå…¶ä»–é¡¹ç›®çš„å‚è€ƒï¼Œå¯ä»¥å¿«é€Ÿçš„äº†è§£åˆ°é¡¹ç›®çš„æ¶æ„ï¼Œä»£ç è§„èŒƒï¼Œä»¥åŠä¸€äº›è®¾è®¡æ¨¡å¼
  * è¿™ä¹ˆä¸€äº›ä¼˜ç§€çš„æˆæœï¼Œå…¶æ¥æºä¸ä»…ä»…æ˜¯æ¥è‡ªäºä½œè€…æœ¬èº«çš„æŒç»­ä»˜å‡ºä¸ç§¯ç´¯ã€‚æ›´æ˜¯è¿™ä¸ªé¢†åŸŸå¤§å®¶åº­ä¸­å„è·¯ä¼˜ç§€ä½œè€…çš„æ™ºæ…§ç»“æ™¶
* ç‹¬ç«‹çš„æµ‹è¯•å•å…ƒ
  * å¯¹äºå•ä¸ªçš„**Flutter**å·¥ç¨‹æ–‡ä»¶ï¼ˆå°Demoï¼‰å¯ä»¥åˆ©ç”¨[**è¿è¡Œè„šæœ¬**](./ã€MacOSã€‘â˜€ï¸åŒå‡»è¿è¡ŒFlutteré¡¹ç›®ï¼ˆiOS æ¨¡æ‹Ÿå™¨ï¼‰.command)ï¼Œåœ¨MacOSçš„**ç»ˆç«¯**ç›´æ¥æ‹–å…¥è¿›è¡Œè¿è¡Œå’Œå±•ç¤ºï¼ˆç»ˆç«¯è¿è¡Œä¸æ”¯æŒæ–­ç‚¹ï¼Œåªèƒ½è¾“å‡ºæ—¥å¿—ï¼‰
  * ä¸ºäº†ä¿è¯å„ä¸ªDemoåœ¨å½¢å¼ä¸Šçš„ç‹¬ç«‹æ€§ï¼Œæ‰€ä»¥å°½å¯èƒ½çš„åœ¨å•ä¸ª`.dart`æ–‡ä»¶é‡Œé¢è¿›è¡Œå™è¿°ã€‚**æ¯ä¸€ä¸ªFlutterçš„Demoæ–‡ä»¶é‡Œï¼Œéƒ½ä¼šå­˜åœ¨å…¶ç¨‹åºçš„å…¥å£å‡½æ•°**

## äºŒã€ğŸ’¥ä»£ç è®²è§£ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

### 1ã€ğŸ–¨ï¸æ‰“å°æ–¹å¼ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

#### 1.1ã€<a href="#æå…‰åŸç”Ÿæ¨é€" style="font-size:17px; color:green;"><b>æå…‰åŸç”Ÿæ¨é€</b></a>å°è£…çš„å…¨å±€æ‰“å°ï¼ˆğŸ§¨å¼ºçƒˆæ¨èï¼‰<a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> è™½ç„¶è¿™ä¸ªæ–¹æ³•åŸæœ¬æ˜¯æ’ä»¶å†…éƒ¨å°è£…çš„ï¼Œä½†å®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå¯¹ `print()` çš„å¢å¼ºå°è£…ï¼Œç”¨æ³•é€šç”¨ã€æ•ˆæœæ›´å¼ºå¤§ã€‚

```dart
FlutterPluginEngagelab.printMy(xxx);
```

| ä¼˜ç‚¹                    | è¯´æ˜                    |
| ----------------------- | ----------------------- |
| âœ… ç»Ÿä¸€ç®¡ç†æ—¥å¿—è¾“å‡º      | æ–¹ä¾¿é›†ä¸­æ§åˆ¶            |
| âœ… å¯æ‰©å±•ï¼ˆåŠ é¢œè‰²/æ—¶é—´ï¼‰ | æ¯”åŸç”Ÿ `print()` æ›´çµæ´» |
| âœ… å¯åŠ æ—¥å¿—ç­‰çº§ / tag    | æ¯”å¦‚ `[INFO]` `[ERROR]` |
| âœ… å¯å±è”½ Release è¾“å‡º   | ä¿è¯çº¿ä¸Šä¸æš´éœ²è°ƒè¯•ä¿¡æ¯  |
| âœ… æ—¥å¿—æ›´ç¾è§‚ / å¯å†™æ–‡ä»¶ | åæœŸæ¥å…¥æ–‡ä»¶è®°å½•ä¹Ÿæ–¹ä¾¿  |

#### 1.2ã€`debugPrint` <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

```dart
debugPrint("XXX");
```

#### 1.3ã€`JobsPrint` <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> 1ï¸âƒ£ æ—¥å¿—æ‰“å°è¾“å‡ºæ–‡ä»¶å’Œè¡Œ
>
> 2ï¸âƒ£ å¦‚æœè¦æ‰“å°ç±»çš„å®ä¾‹ï¼Œéœ€è¦åœ¨ç±»ä¸­æ·»åŠ  Map<String, dynamic> toJson() æ–¹æ³•

```dart
import 'package:flutter_plugin_engagelab/flutter_plugin_engagelab.dart';

void JobsPrint(Object? message) {
  /// è·å–å½“å‰è°ƒç”¨æ ˆï¼Œç›®çš„æ˜¯æ‰¾åˆ°è°è°ƒç”¨äº†è¿™ä¸ªæ—¥å¿—å‡½æ•°ã€‚
  final StackTrace stackTrace = StackTrace.current;
  /// æŠŠå †æ ˆä¿¡æ¯æŒ‰è¡Œåˆ‡å‰²ä¸ºæ•°ç»„ã€‚æ¯ä¸€è¡Œå¤§æ¦‚è¡¨ç¤ºä¸€ä¸ªæ–¹æ³•çš„è°ƒç”¨æ ˆå¸§ã€‚
  final List<String> stackTraceLines = stackTrace.toString().split('\n');
  /// å–ç¬¬2è¡Œï¼ˆstackTraceLines[1]ï¼‰ï¼šå› ä¸ºç¬¬1è¡Œæ˜¯å½“å‰å‡½æ•°æœ¬èº«çš„è°ƒç”¨ï¼Œç¬¬2è¡Œæ‰æ˜¯è°ƒç”¨ JobsPrint() çš„åœ°æ–¹ã€‚
  /// ç„¶åä¼ ç»™ _formatStackTraceLine() æ–¹æ³•æå–å‡ºæ–‡ä»¶å’Œè¡Œå·ä¿¡æ¯ã€‚
  final String logLine = stackTraceLines.length > 1
      ? _formatStackTraceLine(stackTraceLines[1])
      : 'Unknown location';
  FlutterPluginEngagelab.printMy('[$logLine] ${_messageToString(message)}');
}
```

### 2ã€`SystemChrome`å¸¸ç”¨äºè®¾ç½®<u>**çŠ¶æ€æ å’Œç³»ç»Ÿåº•éƒ¨å¯¼èˆªæ æ ·å¼**</u>çš„é…ç½® <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

<font color=red>**å°¤å…¶åœ¨ APP å¯åŠ¨æ—¶ã€é¡µé¢åˆå§‹åŒ–æ—¶éå¸¸å¸¸è§**</font>

> 1ã€`SystemChrome`ï¼šæ¥è‡ª `package:flutter/services.dart`ï¼Œç”¨äºè®¾ç½®ç³»ç»Ÿçº§ UI äº¤äº’ï¼ˆå¦‚çŠ¶æ€æ ã€å¯¼èˆªæ ï¼‰
>
> 2ã€`SystemUiOverlayStyle`ï¼šä¸€ä¸ªæ•°æ®ç±»ï¼Œæè¿°çŠ¶æ€æ /å¯¼èˆªæ çš„é¢œè‰²ã€å›¾æ ‡äº®åº¦ç­‰

```dart
SystemChrome.setSystemUIOverlayStyle(const SystemUiOverlayStyle(
    statusBarColor: Colors.white, // çŠ¶æ€æ èƒŒæ™¯é¢œè‰²
    statusBarIconBrightness: Brightness.dark, // çŠ¶æ€æ å›¾æ ‡é¢œè‰²ï¼ˆé»‘è‰²ï¼‰
    statusBarBrightness: Brightness.light, // é€‚ç”¨äºiOS

    systemNavigationBarColor: Colors.white, // å¯¼èˆªæ èƒŒæ™¯é¢œè‰²
    systemNavigationBarIconBrightness: Brightness.dark, // å¯¼èˆªæ å›¾æ ‡ä¸ºé»‘è‰²
    systemNavigationBarDividerColor: Colors.white, // å¯¼èˆªæ åˆ†å‰²çº¿é¢œè‰²ï¼ˆå¯é€‰ï¼‰
  ));
```

###  3ã€é…ç½®é¦–é¡µå…¥å£ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

#### 3.1ã€é…ç½®é¡¹ç›®å…¥å£

```dart
Future<void> main() async{return runApp(XXX)};
void main() => runApp(XXX);
```

* **`MaterialApp`**

  ```dart
  import 'package:jobs_flutter_base_config/JobsDemoTools/JobsFlutterTools/JobsRunners/JobsMaterialRunner.dart';// å…¬å…±æµ‹è¯•å™¨è·¯å¾„
  void main() => runApp(const JobsMaterialRunner(CustomOverlayDemo(),title:'XXX'));
  /// æˆ–è€…
  void main() {
    runApp(JobsMaterialRunner.builder(
      title: 'Flutter Bloc Demo',
      builder: (ctx) {
        return BlocProvider(
          create: (_) => CounterBloc(),
          child: const CounterPage(),
        );
      },
    ));
  }
  ```

* **`CupertinoApp`**

  ```dart
  import 'package:jobs_flutter_base_config/JobsDemoTools/JobsFlutterTools/JobsRunners/JobsCupertinoRunner.dart';// å…¬å…±æµ‹è¯•å™¨è·¯å¾„
  void main() => runApp(const JobsCupertinoRunner(CustomOverlayDemo(),title:'XXX'));
  /// æˆ–è€…
  void main() {
    runApp(JobsCupertinoRunner.builder(
      title: 'Flutter Bloc Demo',
      builder: (ctx) {
        return BlocProvider(
          create: (_) => CounterBloc(),
          child: const CounterPage(),
        );
      },
    ));
  }
  ```

* **`GetMaterialApp`**

  ```dart
  import 'package:jobs_flutter_base_config/JobsDemoTools/JobsFlutterTools/JobsRunners/JobsGetXRunner.dart';// å…¬å…±æµ‹è¯•å™¨è·¯å¾„
  void main() =>
      runApp(JobsGetRunner(const PageB(), navigatorObservers:[routeObserver],title: 'è·¯ç”±å˜åŒ–çš„ç›‘å¬æµ‹è¯•'));
  /// æˆ–è€…
  void main() {
    runApp(JobsGetRunner.builder(
      title: 'Obx æµ‹è¯•',
      builder: (ctx) => Center(
        child: Obx(() => Text('å½“å‰å€¼ï¼š${controller.count}')),
      ),
    ));
  }
  ```

#### 3.2ã€é…ç½®é¦–é¡µå…¥å£

```dart
GetMaterialApp(
  initialRoute: AppPages.INITIAL,      // ä»å“ªä¸ªé¡µé¢å¼€å§‹
  initialBinding: MainBindings(),      // å¯åŠ¨å‰å…ˆæ³¨å…¥å“ªäº›ä¾èµ–
  getPages: AppPages.routes,           // æœ‰å“ªäº›é¡µé¢èƒ½è¢«è·³è½¬
)
```

```dart
MaterialApp(
  home: Builder(
    builder: (ctx) => Scaffold(
      appBar: AppBar(
        title:
            Text(title ?? (child?.runtimeType.toString() ?? 'Builder')),
      ),
      body: Center(
        child: builder != null
            ? builder!(ctx)
            : child ?? Text('è¯·ä¼ å…¥ child æˆ– builder'.tr),
      ),
    ),
  ),
)
```

```dart
CupertinoApp(
  home: Builder(
    builder: (ctx) => CupertinoPageScaffold(
      navigationBar: CupertinoNavigationBar(
        middle:
            Text(title ?? (child?.runtimeType.toString() ?? 'Builder')),
      ),
      child: SafeArea(
        child: child ?? Text('è¯·ä¼ å…¥ child æˆ– builder'.tr),
      ),
    ),
  ),
)
```

### 4ã€<font color=red>**Flutter é¡¹ç›®ä¸­æ¯”è¾ƒæ ‡å‡†ä¸”å®Œæ•´çš„å¯åŠ¨æµç¨‹**</font> <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> 1ï¸âƒ£ `SystemChrome` é™åˆ¶æ–¹å‘
>
> 2ï¸âƒ£ `WakelockPlus` ä¿æŒå±å¹•å¸¸äº®
>
> 3ï¸âƒ£ `GetX` ä¾èµ–æ³¨å…¥ã€è·¯ç”±
>
> 4ï¸âƒ£ `SpUtil` è¯»å–ç¼“å­˜
>
> 5ï¸âƒ£ `ScreenUtil` é€‚é…è®¾è®¡å›¾å°ºå¯¸
>
> 6ï¸âƒ£ `EasyLoading` å…¨å±€ loading æç¤º
>
> 7ï¸âƒ£ å¤šè¯­è¨€æ”¯æŒ
>
> 8ï¸âƒ£ è‡ªå®šä¹‰ç”Ÿå‘½å‘¨æœŸç›‘å¬

```dart
SystemChrome.setPreferredOrientations([
    DeviceOrientation.portraitUp,/// å¼ºåˆ¶è®¾ç½® App åªå…è®¸ç«–å±æœä¸Š
  ]).then((_) async {
    WakelockPlus.enable();/// ä¿æŒå±å¹•å¸¸äº®ï¼Œä¸è‡ªåŠ¨æ¯å±
    Get.put(AppLifecycleController()); /// æ³¨å†Œç”Ÿå‘½å‘¨æœŸç›‘å¬
    String currentLanguage =
        await SpUtil.getString("currentLanguageType") ?? "zh";
    NetworkService().setLanguageNum(currentLanguage);
    /// è‡ªå®šä¹‰è·¯ç”±ç›‘å¬å™¨ï¼Œå¯åœ¨é¡µé¢åˆ‡æ¢æ—¶åšè®°å½•ã€åŸ‹ç‚¹ã€ç»Ÿè®¡ç­‰ã€‚
    final AppNavigatorObserver appNavigatorObserver = AppNavigatorObserver();
    runApp(
      /// ScreenUtilInit æ˜¯ flutter_screenutil æä¾›çš„å…¥å£ï¼Œé…åˆè®¾è®¡ç¨¿å°ºå¯¸è¿›è¡Œå°ºå¯¸é€‚é…ï¼›
      /// 1125x2436 æ˜¯ iPhone X çš„è®¾è®¡å°ºå¯¸ï¼ˆå•ä½æ˜¯ pxï¼Œä¸æ˜¯ dpï¼‰ï¼›
      /// å¯è‡ªåŠ¨é€‚é…ä¸åŒåˆ†è¾¨ç‡è®¾å¤‡ï¼Œä¿è¯ UI ä¸å˜å½¢ã€‚
      ScreenUtilInit(
        designSize: const Size(1125, 2436), /// ç›®å‰ç»™åˆ°çš„è®¾è®¡å›¾å°ºå¯¸ï¼Œå¦‚æœ‰å˜åŠ¨ï¼Œåç»­å†æ”¹
        minTextAdapt: true,
        splitScreenMode: true,
        builder: (context, child) {
          return GetMaterialApp(
            debugShowCheckedModeBanner: false,
            title: 'XXXXX',
            navigatorObservers: [appNavigatorObserver],
            localizationsDelegates: const [
              GlobalMaterialLocalizations.delegate,
              GlobalWidgetsLocalizations.delegate,
              GlobalCupertinoLocalizations.delegate,
            ],
            supportedLocales: supportedLocales,/// æ”¯æŒè¯­è¨€åˆ—è¡¨ï¼›
            initialRoute: AppPages.INITIAL,
            initialBinding: MainBindings(),
            getPages: AppPages.routes,
            builder: EasyLoading.init(),/// é…ç½®å…¨å±€ loading æ ·å¼ï¼›
            translations: AppTranslations(),/// å®ç°äº† GetTranslations çš„ç±»ï¼Œæä¾›è¯­è¨€èµ„æºã€‚
            locale: Locale(currentLanguage),/// å½“å‰è¯­è¨€ï¼›
            fallbackLocale: const Locale("en"),/// æ— åŒ¹é…æ—¶çš„é»˜è®¤è¯­è¨€ã€‚
          );
        },
      ),
    );
    configLoading();/// é…ç½® EasyLoading çš„æ ·å¼ï¼Œå¦‚åŠ¨ç”»ã€å­—ä½“ã€é®ç½©ç­‰ã€‚
  });
```

### 5ã€[**`GetX`**](https://pub.dev/packages/get) <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

#### 5.1ã€[**`GetX`**](https://pub.dev/packages/get) ï¼ˆå…­ç§ï¼‰ä¾èµ–æ³¨å†Œæ–¹å¼å¯¹æ¯”è¡¨ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> åœ¨ä¸è®¾ç½® `permanent: true` çš„é»˜è®¤æƒ…å†µä¸‹ï¼Œ**Get.put()**ã€**Get.lazyPut()**ã€**Get.create()** æ‰€åˆ›å»ºçš„å¯¹è±¡ï¼Œ**ç”Ÿå‘½å‘¨æœŸéƒ½ä¸ä¼šæ°¸ä¹…ä¿ç•™**ï¼Œç”¨å®Œå°±â€œæ²¡äº†â€æˆ–â€œä¼šè¢«é‡Šæ”¾â€ï¼Œåªä¸è¿‡ï¼š
>
> - `put`/`lazyPut` æ˜¯**ç¼“å­˜åå¯èƒ½é‡Šæ”¾**ï¼›
> - `create` æ˜¯**å‹æ ¹å°±ä¸ç¼“å­˜**ï¼Œç”¨ä¸€æ¬¡ <font color=green>**new**</font> ä¸€æ¬¡ã€‚

|       ç‰¹æ€§       | <font color=red>`Get.put()`</font>                           | <font color=red>`Get.putAsync()`</font>            | <font color=red>`Get.lazyPut()`</font>            | <font color=red>`Get.create()`</font>      | `Get.putNamed()`                | `Get.replace()`                                              |
| :--------------: | :----------------------------------------------------------- | -------------------------------------------------- | ------------------------------------------------- | ------------------------------------------ | :------------------------------ | ------------------------------------------------------------ |
|     å…·ä½“å«ä¹‰     | ğŸ‘‰ æ³¨å†Œ**åŒæ­¥å¯¹è±¡**åˆ° [**`GetX`**](https://pub.dev/packages/get)  å®¹å™¨ | ğŸ‘‰ æ³¨å†Œ**å¼‚æ­¥å¯¹è±¡**ï¼Œç­‰å¾… Future å®Œæˆ               | ğŸ‘‰ æ³¨å†Œ**æ‡’åŠ è½½å¯¹è±¡**ï¼Œé¦–æ¬¡ä½¿ç”¨æ—¶æ‰åˆ›å»º            | ğŸ‘‰ æ³¨å†Œ**éå•ä¾‹å¯¹è±¡**ï¼Œæ¯æ¬¡ `find()` éƒ½æ–°å»º | ğŸ‘‰ æ³¨å†Œ**åŒç±»å‹å¯¹è±¡ï¼ˆå¸¦ tagï¼‰**  | ğŸ‘‰ æ›¿æ¢å·²æ³¨å†Œå¯¹è±¡ï¼Œç”¨äºçƒ­æ›´æ–°æˆ–ç¯å¢ƒåˆ‡æ¢                       |
|     æ˜¯å¦å¼‚æ­¥     | âŒ å¦                                                         | âœ… æ˜¯                                               | âŒ å¦                                              | âŒ å¦                                       | âŒ å¦                            | âŒ å¦                                                         |
|   å¯¹è±¡åˆ›å»ºæ—¶æœº   | âœ… ç«‹å³å®ä¾‹åŒ–                                                 | â³ ç­‰å¾…å¼‚æ­¥åˆå§‹åŒ–å®Œæˆ                               | â± é¦–æ¬¡ä½¿ç”¨æ—¶å®ä¾‹åŒ–                                | æ¯æ¬¡ `find()` éƒ½åˆ›å»ºæ–°å®ä¾‹                 | âœ… ç«‹å³å®ä¾‹åŒ–                    | âœ… ç«‹å³å®ä¾‹åŒ–                                                 |
| æ˜¯å¦éœ€è¦ `await` | âŒ ä¸éœ€è¦                                                     | âœ… éœ€è¦ `await`                                     | âŒ ä¸éœ€è¦                                          | âŒ ä¸éœ€è¦                                   | âŒ ä¸éœ€è¦                        | âŒ ä¸éœ€è¦                                                     |
| å¯¹è±¡æ˜¯å¦ç«‹å³å¯ç”¨ | âœ… æ˜¯                                                         | âŒ åˆå§‹åŒ–å‰ä¸å¯ç”¨                                   | âŒ é¦–æ¬¡è°ƒç”¨å‰ä¸å¯ç”¨                                | âŒ æ¯æ¬¡ä½¿ç”¨éƒ½éœ€é‡æ–°åˆ›å»º                     | âœ… æ˜¯                            | âœ… æ˜¯                                                         |
|     æ˜¯å¦å•ä¾‹     | âœ… æ˜¯ï¼ˆå…¨å±€å”¯ä¸€ï¼‰                                             | âœ… æ˜¯ï¼ˆå…¨å±€å”¯ä¸€ï¼‰                                   | âœ… æ˜¯ï¼ˆå…¨å±€å”¯ä¸€ï¼‰                                  | âŒ å¦ï¼Œæ¯æ¬¡éƒ½åˆ›å»º                           | âœ… æ˜¯ï¼Œä½†æ¯ä¸ª `tag` æ˜¯ç‹¬ç«‹çš„å•ä¾‹ | âœ… æ˜¯                                                         |
|   æ˜¯å¦è‡ªåŠ¨ä¿æ´»   | âŒ é»˜è®¤ä¸ä¿æ´»<br/>**é™¤éæ‰‹åŠ¨è®¾ç½®`permanent: true`**           | âŒ é»˜è®¤ä¸ä¿æ´»<br/>**é™¤éæ‰‹åŠ¨è®¾ç½®`permanent: true`** | âŒ é»˜è®¤ä¸ä¿æ´»<br>**é™¤éæ‰‹åŠ¨è®¾ç½®`permanent: true`** | âŒ ä¸é€‚ç”¨ï¼ˆä¸ä¼šç¼“å­˜ï¼‰                       | âŒ é»˜è®¤ä¸ä¿æ´»ï¼Œéœ€æ‰‹åŠ¨è®¾ç½®        | âœ… ä¼šç«‹å³æ›¿æ¢æ—§å¯¹è±¡                                           |
|      å¸¸ç”¨äº      | é¡µé¢ Controllerã€åŒæ­¥æœåŠ¡ç­‰                                  | å¯åŠ¨é˜¶æ®µå¼‚æ­¥æœåŠ¡ï¼ˆå¦‚ç¼“å­˜ã€æ•°æ®åº“ï¼‰                 | é¡µé¢æ‡’åŠ è½½é€»è¾‘ã€èŠ‚çœèµ„æº                          | å¼¹çª—ã€è¡¨å•ã€ä¸´æ—¶æ§åˆ¶å™¨                     | åŒç±»å‹å¤šå®ä¾‹ï¼ˆå¦‚ç”¨æˆ· A/Bï¼‰      | åˆ‡æ¢ç¯å¢ƒã€çƒ­æ›´æ–°ã€åŠ¨æ€æµ‹è¯•                                   |
|   ä½¿ç”¨ä½ç½®æ¨è   | é¡µé¢åŠ è½½/ä¾èµ–æ³¨å…¥é˜¶æ®µ                                        | `main()` å¯åŠ¨é˜¶æ®µ                                  | é¡µé¢é€»è¾‘ä¸­å»¶è¿Ÿä½¿ç”¨                                | åŠ¨æ€ç»„ä»¶ã€çŸ­ç”Ÿå‘½å‘¨æœŸé€»è¾‘                   | æ³¨å†ŒåŒç±»å¯¹è±¡åˆ°å¤šä¸ªä½ç½®          | æµ‹è¯•æˆ–æ›¿æ¢å·²æœ‰é€»è¾‘<br>âš ï¸ **ä½¿ç”¨å‰å¿…é¡»å·²ç»æ³¨å†Œäº†ä¸€ä¸ªæ—§å¯¹è±¡**ã€‚ |

* **Get.put()**

  ```dart
  /// å®šä¹‰ Controller
  import 'package:get/get.dart';

  class CounterController extends GetxController {
    var count = 0.obs;
    void increment() {
      count++;
    }
  }
  ```

  ```dart
  /// æ³¨å†Œ Controllerï¼ˆé€šå¸¸åœ¨é¡µé¢æˆ–å…¥å£ï¼‰
  void main() {
    Get.put(CounterController()); // ğŸ‘ˆ æ³¨å†Œä¸ºå…¨å±€å•ä¾‹
    runApp(MyApp());
  }
  ```

  ```dart
  /// ä½¿ç”¨ Controllerï¼ˆåœ¨é¡µé¢ä¸­ï¼‰
  import 'package:flutter/material.dart';
  import 'package:get/get.dart';

  class MyApp extends StatelessWidget {
    @override
    Widget build(BuildContext context) {
      return GetMaterialApp(
        home: CounterPage(),
      );
    }
  }

  class CounterPage extends StatelessWidget {
    late final CounterController homeController;
    if (Get.isRegistered<CounterController>()) {
      homeController = Get.find<CounterController>();// ğŸ‘ˆ è·å–å·²æ³¨å†Œçš„ Controller
    }
    @override
    Widget build(BuildContext context) {
      return Scaffold(
        appBar: AppBar(title: Text('Get.put() ç¤ºä¾‹')),
        body: Center(
          child: Obx(() => Text('ç‚¹å‡»æ¬¡æ•°: ${controller.count}',
              style: TextStyle(fontSize: 24))),
        ),
        floatingActionButton: FloatingActionButton(
          onPressed: controller.increment,
          child: Icon(Icons.add),
        ),
      );
    }
  }
  ```

* **Get.putAsync()**

  ```dart
  /// å®šä¹‰ä¸€ä¸ªå¼‚æ­¥åˆå§‹åŒ–çš„ Service
  import 'package:get/get.dart';

  class AuthService extends GetxService {
    late String token;

    Future<AuthService> init() async {
      await Future.delayed(Duration(seconds: 2)); // æ¨¡æ‹Ÿå¼‚æ­¥æ“ä½œ
      token = 'abc123_from_local_storage';
      return this;
    }

    String getToken() => token;
  }
  ```

  ```dart
  /// åœ¨ main() ä¸­æ³¨å†ŒæœåŠ¡ï¼ˆå¼‚æ­¥ï¼‰
  void main() async {
    WidgetsFlutterBinding.ensureInitialized();
    await Get.putAsync<AuthService>(() => AuthService().init()); // ğŸ‘ˆ å¼‚æ­¥æ³¨å†ŒæœåŠ¡
    runApp(MyApp());
  }
  ```

  ```dart
  /// åœ¨é¡µé¢ä¸­ä½¿ç”¨è¯¥æœåŠ¡
  import 'package:flutter/material.dart';
  import 'package:get/get.dart';

  class MyApp extends StatelessWidget {
    @override
    Widget build(BuildContext context) {
      return GetMaterialApp(
        home: AuthPage(),
      );
    }
  }

  class AuthPage extends StatelessWidget {
    late final authService;
    if (Get.isRegistered<AuthService>()) {
      authService = Get.find<AuthService>();// ğŸ‘ˆ è·å–å¼‚æ­¥æ³¨å†Œåçš„æœåŠ¡
    }
    @override
    Widget build(BuildContext context) {
      return Scaffold(
        appBar: AppBar(title: Text('Get.putAsync() ç¤ºä¾‹')),
        body: Center(
          child: Text('Token: ${authService.getToken()}',
              style: TextStyle(fontSize: 18)),
        ),
      );
    }
  }
  ```

* **Get.lazyPut()** <font color=red>**ä¸è¿”å›å®ä¾‹**</font>

  å½“ç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶ï¼Œå†å»åˆ›å»ºå®ƒçš„å®ä¾‹ï¼ˆæ‡’åŠ è½½ï¼‰

  > <font color=red>**`fenix: false`ï¼ˆé»˜è®¤ï¼‰**</font>ï¼š
  >
  > - ç¬¬ä¸€æ¬¡ç”¨æ—¶åˆ›å»ºå®ä¾‹ï¼›
  > - **è¢«é‡Šæ”¾ï¼ˆGCï¼‰åä¸ä¼šè‡ªåŠ¨å†åˆ›å»º**ï¼›
  > - å†æ¬¡è®¿é—®æ—¶ä¼šæŠ¥é”™ï¼š`Instance "HomeRequestManager" not found`.
  >
  > âœ… **`fenix: true`**ï¼š
  >
  > - ç¬¬ä¸€æ¬¡ç”¨æ—¶åˆ›å»ºï¼›
  > - å³ä½¿è¢«é‡Šæ”¾ï¼Œ**å†æ¬¡è®¿é—®æ—¶ä»ç„¶èƒ½è‡ªåŠ¨é‡æ–°åˆ›å»ºï¼**
  > - åƒâ€œå‡¤å‡°é‡ç”Ÿâ€ä¸€æ ·ï¼ˆè¿™å°±æ˜¯åå­— `fenix` çš„æ¥æºï¼‰

  ```dart
  /// æ³¨å†Œ
  Get.lazyPut(() => HomeRequestManager(), fenix: true);
  ```

  ```dart
  /// ä½¿ç”¨
  late final manager;
  if (Get.isRegistered<HomeRequestManager>()) {
  	manager = Get.find<HomeRequestManager>();
  }
  ```

* **Get.create()**

* **Get.putNamed()**

* **Get.replace()**

#### 5.2ã€[**`GetX`**](https://pub.dev/packages/get) çš„é”€æ¯æœºåˆ¶ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> 1ï¸âƒ£ [**`GetX`**](https://pub.dev/packages/get)  ä¸­çš„ä¾èµ–å¯¹è±¡å¦‚æœä¸æ˜¯ `permanent: true`ï¼Œé»˜è®¤åœ¨æ— äººä½¿ç”¨æ—¶å¯ä»¥è¢«é‡Šæ”¾ï¼ˆæˆ–ä½ æ‰‹åŠ¨é‡Šæ”¾ï¼‰ã€‚
>
> 2ï¸âƒ£ å³ä¾¿æ˜¯`permanent: true`ä¹Ÿå¯ä»¥æ‰‹åŠ¨è¿›è¡Œé‡Šæ”¾
>
> 3ï¸âƒ£ **æ‰‹åŠ¨é”€æ¯ç”¨ `Get.delete<T>()` æˆ– `Get.deleteAll()`**ã€‚

| æ–¹æ³•                       | è¯´æ˜                                                         |
| -------------------------- | ------------------------------------------------------------ |
| `Get.delete<T>()`          | æ‰‹åŠ¨é”€æ¯æŸä¸ªç±»å‹çš„ä¾èµ–ï¼Œå¦‚ `Get.delete<HomeController>()`    |
| `Get.delete<T>(tag: 'xx')` | é”€æ¯å¸¦æœ‰ç‰¹å®š `tag` çš„å¯¹è±¡                                    |
| `Get.deleteAll()`          | é”€æ¯æ‰€æœ‰æ³¨å†Œçš„ä¾èµ–ï¼ˆæ…ç”¨ï¼ï¼‰                                 |
| `Get.reload<T>()`          | å…ˆåˆ é™¤å†é‡æ–°åˆ›å»ºä¾èµ–ï¼ˆè‡ªåŠ¨è°ƒç”¨ `Get.create()` æˆ– `Get.lazyPut()`ï¼‰ |
| `Get.reset()`              | é‡ç½®æ•´ä¸ªä¾èµ–ç®¡ç†ç³»ç»Ÿï¼ˆæ¸…ç©ºæ‰€æœ‰ Controllerã€Serviceã€è·¯ç”±ä¿¡æ¯ç­‰ï¼‰ |
| `Get.resetLazy<T>()`       | é‡ç½®æŒ‡å®šç±»å‹çš„æ‡’åŠ è½½ä¾èµ–ï¼ˆé…åˆ `lazyPut`ï¼‰                   |

#### 5.3ã€**`GetxController`** ğŸ†š **`GetView<T>`** <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| é¡¹ç›®                | `GetxController`                  | `GetView<T>`                                 |
| ------------------- | --------------------------------- | -------------------------------------------- |
| ä½œç”¨                | ç®¡ç†ä¸šåŠ¡é€»è¾‘ & çŠ¶æ€               | å±•ç¤ºè§†å›¾ + è‡ªåŠ¨æ³¨å…¥ controller               |
| ç”¨äº                | ç¼–å†™é€»è¾‘ç±»                        | ç¼–å†™é¡µé¢ï¼ˆStatelessWidgetï¼‰                  |
| æ˜¯å¦åŒ…å« UI         | âŒ çº¯é€»è¾‘ç±»                        | âœ… åŒ…å« UI                                    |
| æ˜¯å¦éœ€è¦æ³¨å†Œ        | âœ… éœ€è¦æ‰‹åŠ¨æ³¨å†Œ `Get.put()` æˆ–ç»‘å®š | âœ… controller éœ€å…ˆæ³¨å†Œï¼Œæ‰èƒ½è¢« `GetView` ä½¿ç”¨ |
| controller è·å–æ–¹å¼ | è‡ªå·±å†™ `Get.find<>()` è·å–        | è‡ªåŠ¨é€šè¿‡ `controller` å˜é‡æä¾›               |

* `GetxController` æ˜¯ä¸€ä¸ªç»§æ‰¿è‡ª `Controller` çš„ç±»ï¼Œç”¨äºç®¡ç†ä½ çš„é¡µé¢çŠ¶æ€å’Œä¸šåŠ¡é€»è¾‘ã€‚

* `GetView<T>` æ˜¯ä¸€ä¸ªæ³›å‹ Widgetï¼Œ**ç”¨äºè‡ªåŠ¨æ³¨å…¥å¹¶è®¿é—®ä¸€ä¸ªå·²æ³¨å†Œçš„ `GetxController`**ï¼Œæ— éœ€æ‰‹åŠ¨ `Get.find<T>()`ã€‚

  > 1ï¸âƒ£ ç®€åŒ–è§†å›¾ä¸­çš„ controller è·å–
  >
  > 2ï¸âƒ£ é¿å…é‡å¤å†™ `final controller = Get.find<XXX>()`
  >
  > 3ï¸âƒ£ é€‚ç”¨äº `StatelessWidget`

  ```dart
  class CounterPage extends GetView<CounterController> {
    @override
    Widget build(BuildContext context) {
      return Scaffold(
        appBar: AppBar(title: Text('GetView ç¤ºä¾‹')),
        body: Center(
          child: Obx(() => Text('ç‚¹å‡»æ¬¡æ•°: ${controller.count}')),
        ),
        floatingActionButton: FloatingActionButton(
          onPressed: controller.increment,
          child: Icon(Icons.add),
        ),
      );
    }
  }
  /// ä¸¤ç§å†™æ³•å®Œå…¨ç­‰ä»·
  class CounterPage extends StatelessWidget {
    late final CounterController controller;
    if (Get.isRegistered<CounterController>()) {
      controller = Get.find<CounterController>();// ğŸ‘ˆ æ‰‹åŠ¨è·å–
    }
    @override
    Widget build(BuildContext context) {
      return Scaffold(
        appBar: AppBar(title: Text('StatelessWidget ç¤ºä¾‹')),
        body: Center(
          child: Obx(() => Text('ç‚¹å‡»æ¬¡æ•°: ${controller.count}')),
        ),
        floatingActionButton: FloatingActionButton(
          onPressed: controller.increment,
          child: Icon(Icons.add),
        ),
      );
    }
  }
  ```

#### 5.4ã€**`GetxService`** <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> `GetxService` æ˜¯ [**`GetX`**](https://pub.dev/packages/get)  æä¾›çš„**ä¸“é—¨ç”¨äºå…¨å±€å•ä¾‹ç®¡ç†çš„æœåŠ¡ç±»**ï¼Œé€‚åˆæ”¾ä¸€äº›åªéœ€è¦åˆ›å»ºä¸€æ¬¡ï¼Œæ•´ä¸ª App ç”Ÿå‘½å‘¨æœŸä¸­éƒ½ä¸é‡Šæ”¾çš„â€œåå°æœåŠ¡â€

| ç‰¹æ€§             | GetxController           | GetxService                    |
| ---------------- | ------------------------ | ------------------------------ |
| ç”Ÿå‘½å‘¨æœŸ         | è·Ÿéšé¡µé¢ï¼Œå¯é”€æ¯é‡å»º     | é»˜è®¤å¸¸é©»å†…å­˜ï¼Œä¸ä¼šè‡ªåŠ¨é‡Šæ”¾     |
| åˆ›å»ºæ–¹å¼         | é€šå¸¸ç”¨äº UI æ§åˆ¶å™¨       | é€šå¸¸ç”¨äºåå°æœåŠ¡ã€å·¥å…·ç±»       |
| æ˜¯å¦æ¨èå…¨å±€å•ä¾‹ | âŒ ä¸æ¨èï¼ˆå®¹æ˜“å†…å­˜æ³„æ¼ï¼‰ | âœ… æ¨èç”¨äºå…¨å±€æ³¨å†Œä¸€æ¬¡å³å¯     |
| ç¤ºä¾‹ç”¨é€”         | é¡µé¢çŠ¶æ€ç®¡ç†ã€äº¤äº’é€»è¾‘ç­‰ | ç½‘ç»œæœåŠ¡ã€ç¼“å­˜æœåŠ¡ã€é…ç½®æœåŠ¡ç­‰ |

* å®šä¹‰

  ```dart
  class AuthService extends GetxService {
    String? token;

    Future<AuthService> init() async {
      // åˆå§‹åŒ–ï¼Œä¾‹å¦‚ä»æœ¬åœ°ç¼“å­˜è¯»å– token
      token = await getSavedToken();
      return this;
    }

    Future<String?> getSavedToken() async {
      await Future.delayed(Duration(milliseconds: 300));
      return 'abc123';
    }
  }
  ```

* æ³¨å†ŒæœåŠ¡KKK

  ```dart
  Future<void> main() async {
    WidgetsFlutterBinding.ensureInitialized();
    await Get.putAsync<AuthService>(() => AuthService().init());
    runApp(MyApp());
  }
  ```

* ä½¿ç”¨

  ```dart
  late final AuthService authService;
  if (Get.isRegistered<AuthService>()) {
    authService = Get.find<AuthService>();
  }
  print(authService.token);
  ```

#### 5.5ã€<font id=GetPage>**`GetPage()`**</font> <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a> 

> 1ï¸âƒ£ ç”¨äºåœ¨ `GetMaterialApp` ä¸­æ³¨å†Œé¡µé¢ï¼Œå®ƒåŒ…å«äº†é¡µé¢è·¯å¾„ã€é¡µé¢æ„é€ å‡½æ•°ã€ç»‘å®šä¾èµ–ã€è½¬åœºåŠ¨ç”»ç­‰ä¿¡æ¯ã€‚
>
> 2ï¸âƒ£ æ˜¯ä¸“ä¸º `GetMaterialApp.getPages` æœåŠ¡

```dart
GetPage(
  name: '/home',                                   // è·¯ç”±è·¯å¾„
  page: () => HomeView(),                          // é¡µé¢æ„é€ å‡½æ•°
  binding: HomeBinding(),                          // å•ä¸ªä¾èµ–ç»‘å®š
  bindings: [                                      // å¯é€‰ï¼šå¤šä¸ªä¾èµ–ç»‘å®š
    HomeBinding(),
    OtherBinding(),
  ],
  transition: Transition.fadeIn,                   // é¡µé¢è·³è½¬åŠ¨ç”»
  transitionDuration: Duration(milliseconds: 300), // åŠ¨ç”»æŒç»­æ—¶é—´
  curve: Curves.easeInOut,                         // åŠ¨ç”»æ›²çº¿
  fullscreenDialog: false,                         // æ˜¯å¦ä¸ºå…¨å±å¯¹è¯æ¡†ï¼ˆiOS push æ¨¡æ€é¡µï¼‰
  middlewares: [AuthMiddleware()],                 // ä¸­é—´ä»¶ï¼šå¦‚ç™»å½•æ ¡éªŒã€æƒé™æ‹¦æˆª
  popGesture: true,                                // æ˜¯å¦å…è®¸ iOS ä¾§æ»‘è¿”å›
  preventDuplicates: true,                         // é˜²æ­¢é‡å¤è·³è½¬ï¼ˆå¦‚æœå½“å‰é¡µé¢å°±æ˜¯è¿™ä¸ªï¼‰
  participatesInRootNavigator: true,               // åµŒå¥—è·¯ç”±æ˜¯å¦ä½¿ç”¨ä¸»å¯¼èˆªå™¨
  opaque: true,                                    // æ˜¯å¦è¦†ç›–ä¸‹å±‚é¡µé¢ï¼ˆfalse å¯é€è§†ï¼‰
  showCupertinoParallax: true,                     // iOS åŠ¨ç”»æ˜¯å¦ä½¿ç”¨å¼¹æ€§æ»‘åŠ¨æ•ˆæœ
  children: [                                      // åµŒå¥—è·¯ç”±ï¼ˆå¯é€‰ï¼‰
    GetPage(
      name: '/home/detail',
      page: () => DetailView(),
    )
  ],
)
```

#### 5.6ã€ğŸ§­[**`GetX`**](https://pub.dev/packages/get) è·¯ç”± <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

>  [**`GetX`**](https://pub.dev/packages/get)  çš„è·¯ç”±ç³»ç»Ÿæ˜¯ä¸€å¥—é›†å‘½åè·¯ç”±ã€ä¾èµ–æ³¨å…¥ã€ä¸­é—´ä»¶ã€åŠ¨ç”»äºä¸€ä½“çš„å¼ºå¤§è·¯ç”±ç®¡ç†æœºåˆ¶ï¼Œæ¨èç”¨ `GetPage` + å‘½åè·³è½¬æ–¹å¼ä¸ºä¸»çº¿ç»“æ„ï¼

| é¡¹ç›®               | Flutter åŸç”Ÿå¯¼èˆª      | GetX è·¯ç”±ç³»ç»Ÿ                     |
| ------------------ | --------------------- | --------------------------------- |
| è·³è½¬æ–¹å¼           | `Navigator.push(...)` | `Get.to(...)`ã€`Get.toNamed(...)` |
| æ˜¯å¦éœ€è¦ context   | âœ… å¿…é¡»                | âŒ ä¸éœ€è¦                          |
| å‘½åè·¯ç”±           | âœ… æ”¯æŒ                | âœ… æ”¯æŒï¼Œæ›´å¼ºå¤§                    |
| æ˜¯å¦æ”¯æŒä¾èµ–æ³¨å…¥   | âŒ ä¸æ”¯æŒ              | âœ… æ”¯æŒ binding                    |
| æ˜¯å¦æ”¯æŒä¸­é—´ä»¶æ‹¦æˆª | âŒ ä¸æ”¯æŒ              | âœ… æ”¯æŒ                            |
| è½¬åœºåŠ¨ç”»           | å¤æ‚                  | ç®€å•ï¼ˆå†…å»º `Transition` æšä¸¾ï¼‰    |
| åµŒå¥—è·¯ç”± / å­è·¯ç”±  | è¾ƒå¤æ‚                | âœ… æ”¯æŒ children åµŒå¥—è·¯ç”±          |

##### 5.6.1ã€[**`GetX`**](https://pub.dev/packages/get) å…è·¯ç”±ç®¡ç†é¡µé¢ï¼ˆç›´æ¥è·³ **`Widget`**ï¼‰

  > âœ… ä¼˜ç‚¹ï¼šä¸ç”¨æå‰æ³¨å†Œé¡µé¢
  > âŒ ç¼ºç‚¹ï¼šä¸æ”¯æŒ **binding**ã€åŠ¨ç”»ã€ä¸­é—´ä»¶

  ```dart
  Get.to(ProfileView());        // æ­£å¸¸è·³è½¬
  Get.to(() => const PageB());  // ğŸ‘ˆ å…è·¯ç”±è¡¨è·³è½¬
  ```

| å†™æ³•                           | å«ä¹‰                                                         | æ˜¯å¦æ¨è                                 |
| ------------------------------ | ------------------------------------------------------------ | ---------------------------------------- |
| `Get.to(const PageB());`       | **ç«‹å³åˆ›å»ºé¡µé¢å®ä¾‹**ï¼Œç„¶åä¼ ç»™ `Get.to()`                    | âœ… æ¨èï¼Œä»…å½“ä¸å…³å¿ƒæƒ°æ€§åŠ è½½æ—¶             |
| `Get.to(() => const PageB());` | **ä¼ å…¥ä¸€ä¸ªæ„é€ å‡½æ•°ï¼ˆå‡½æ•°ä½“ï¼‰,[`GetX`](https://pub.dev/packages/get)  ä¼šå»¶è¿Ÿè°ƒç”¨** | âœ… æ›´æ¨èï¼Œå°¤å…¶åœ¨å¤æ‚è·¯ç”±æˆ–éœ€è¦æ‡’åŠ è½½åœºæ™¯ |

```dart
class PageB extends StatelessWidget {
  const PageB({super.key});
  @override
  Widget build(BuildContext context) {
    return Center(
      child: Column(
        mainAxisSize: MainAxisSize.min, /// âœ… å†…å®¹å±…ä¸­ç´§å‡‘æ’åˆ—
        children: [
          Text('å½“å‰é¡µé¢ï¼šPage B'.tr, style: normalTextStyle(fontSize: 24)),
          const SizedBox(height: 20), /// âœ… é—´è·
          ElevatedButton(
            onPressed: () {
              Get.to(() => const PageC()); /// ğŸ‘ˆ å…è·¯ç”±è¡¨è·³è½¬
            },
            child: Text('Go to Page C'.tr),
          ),
        ],
      ),
    );
  }
}

TextStyle normalTextStyle({
  double fontSize = 16,
  Color color = Colors.yellow,
  FontWeight fontWeight = FontWeight.normal,
}) =>
    TextStyle(
      fontSize: fontSize,
      color: color,
      fontWeight: fontWeight,
      decoration: TextDecoration.none,
    );
```

```dart
Get.off(SettingsView());      // æ›¿æ¢å½“å‰é¡µ
Get.offAll(LoginView());      // æ¸…ç©ºæ ˆåè·³è½¬
```

##### 5.6.2ã€å‘½åè·¯ç”±ï¼ˆæ¨èæ–¹å¼ï¼‰

> éœ€è¦é…åˆ<a href="#GetPage" style="font-size:17px; color:green;"><b>GetPage()</b></a> æ³¨å†Œ 

```dart
Get.toNamed('/home');
Get.offNamed('/login');
Get.offAllNamed('/splash');
```

* è·¯ç”±è¡¨

  ```dart
  // app/routes/app_routes.dart
  abstract class AppRoutes {
    static const home = '/home';
    static const login = '/login';
  }

  // app/routes/app_pages.dart
  class AppPages {
    static final routes = [
      GetPage(
        name: AppRoutes.home,
        page: () => HomeView(),
        binding: HomeBinding(),
      ),
      GetPage(
        name: AppRoutes.login,
        page: () => LoginView(),
      ),
    ];
  }

  // main.dart
  GetMaterialApp(
    initialRoute: AppRoutes.home,
    getPages: AppPages.routes,
  );

  // é¡µé¢è·³è½¬
  Get.toNamed(AppRoutes.login); // âœ… å‘½åè·³è½¬
  ```

* è·¯ç”±å®ˆå«ï¼šè·³è½¬æ—¶è¿›è¡ŒéªŒæƒ

  ```dart
  /// âœ… ç™»å½•äº†ï¼Œå°±è·³è½¬æˆåŠŸåˆ°é¦–é¡µï¼›
  /// âŒ æœªç™»å½•ï¼Œå°±è¢«æ‹¦æˆªå¹¶è·³è½¬åˆ°ç™»é™†ï¼›
  if (!LoginManager.isLogin) {
    Get.offAllNamed('/login');
  } else {
    Get.toNamed('/home');
  }
  ```

  ç­‰ä»·äº

  ```dart
  /// åˆ›å»ºä¸€ä¸ªä¸­é—´ä»¶ç±»ï¼š
  class AuthMiddleware extends GetMiddleware {
    @override
    RouteSettings? redirect(String? route) {
      if (!LoginManager.isLogin) {
        return const RouteSettings(name: '/login');
      }
      return null; // âœ… å…è®¸è·³è½¬
    }
  }
  ```

  ```dart
  /// åŠ åˆ°è·¯ç”±ä¸­ï¼š
  GetPage(
    name: '/home',
    page: () => HomeView(),
    binding: HomeBinding(),
    middlewares: [AuthMiddleware()],
  )
  ```

  ```dart
  Get.toNamed('/home');
  ```


#### 5.7ã€**`Get.dialog()`** <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> `Get.dialog()` é»˜è®¤ç”¨å½“å‰ä¸Šä¸‹æ–‡æ‰¾ Navigator

[**`GetX`**](https://pub.dev/packages/get) æ¡†æ¶æä¾›çš„å¼¹çª—æ–¹æ³•

| å‚æ•°å               | ç±»å‹       | è¯´æ˜                                           |
| -------------------- | ---------- | ---------------------------------------------- |
| `barrierDismissible` | `bool`     | æ˜¯å¦ç‚¹å‡»èƒŒæ™¯å…³é—­å¼¹çª—ï¼Œé»˜è®¤ `true`              |
| `useSafeArea`        | `bool`     | æ˜¯å¦ä½¿ç”¨ SafeAreaï¼Œé»˜è®¤ `true`                 |
| `name`               | `String?`  | ç»™å¼¹çª—è®¾ç½®ä¸€ä¸ªè·¯ç”±åï¼ˆå¯é€‰ï¼‰                   |
| `transitionDuration` | `Duration` | åŠ¨ç”»æŒç»­æ—¶é—´ï¼Œé»˜è®¤ 200ms                       |
| `transitionCurve`    | `Curve`    | åŠ¨ç”»æ›²çº¿ï¼Œå¦‚ `Curves.easeInOut`                |
| `opaque`             | `bool`     | æ˜¯å¦å®Œå…¨é®æŒ¡ï¼Œé»˜è®¤ `false`                     |
| `barrierColor`       | `Color`    | èƒŒæ™¯é¢œè‰²ï¼Œé»˜è®¤ `Colors.black.withOpacity(0.5)` |

```dart
ElevatedButton(
  onPressed: () async {
    final result = await Get.dialog<String>(
      _CustomDialogContent(),

      barrierDismissible: true, // âœ… ç‚¹å‡»å¼¹çª—å¤–åŒºåŸŸæ˜¯å¦å…³é—­å¼¹çª—ï¼ˆtrue = å¯å…³é—­ï¼‰
      barrierColor: Colors.black.withOpacity(0.5), // âœ… å¼¹çª—èƒŒæ™¯é®ç½©é¢œè‰²ï¼ˆé€šå¸¸ä¸ºåŠé€æ˜é»‘è‰²ï¼‰
      useSafeArea: true, // âœ… æ˜¯å¦è‡ªåŠ¨é¿å¼€çŠ¶æ€æ /åˆ˜æµ·/åº•éƒ¨å®‰å…¨åŒºï¼ˆé»˜è®¤ trueï¼‰

      navigatorKey: Get.key, // âœ… æŒ‡å®šä½¿ç”¨å“ªä¸ª Navigatorï¼ˆé»˜è®¤ç”¨ Get.key å°±è¡Œï¼‰
      arguments: {'from': 'æŒ‰é’®ç‚¹å‡»'}, // âœ… å‘å¼¹çª—å†…éƒ¨ä¼ é€’å‚æ•°ï¼ˆå¯é€šè¿‡ Get.arguments è·å–ï¼‰

      transitionDuration: Duration(milliseconds: 400), // âœ… åŠ¨ç”»æŒç»­æ—¶é—´ï¼ˆé»˜è®¤ 200msï¼‰
      transitionCurve: Curves.easeInOutBack, // âœ… åŠ¨ç”»æ›²çº¿ï¼ˆå†³å®šè¿›å‡ºå¼¹çª—çš„è¿åŠ¨æ–¹å¼ï¼‰

      name: '/custom-dialog', // âœ… è·¯ç”±åç§°ï¼ˆå¯é€‰ï¼Œæ–¹ä¾¿è°ƒè¯•æˆ–æ‹¦æˆªè·¯ç”±ï¼‰
      routeSettings: RouteSettings(name: '/custom-dialog-settings'), // âœ… æ›´å®Œæ•´çš„è·¯ç”±é…ç½®ï¼ˆé…åˆå¯¼èˆªç³»ç»Ÿï¼‰
    );

    if (result != null) {
      Get.snackbar('è¿”å›ç»“æœ', 'ä½ é€‰æ‹©äº†: $result'); // âœ… å¼¹çª—å…³é—­åè·å–è¿”å›å€¼
    }
  },
  child: Text('æ‰“å¼€è‡ªå®šä¹‰å¼¹çª—'),
)
```

#### 5.8ã€**`Get.key` **<a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> **`Get.key` å°±æ˜¯ç»™å…¨å±€ Navigator æ‰“äº†ä¸ª tagï¼ˆæ ‡ç­¾ï¼‰**ï¼Œå³ï¼š**å…¨å±€ Navigator Key**ã€‚[**`GetX`**](https://pub.dev/packages/get)  æŠŠå®ƒæ³¨å†Œåˆ°è‡ªå·±çš„å®¹å™¨é‡Œï¼Œä¹‹åä½ æ‰€æœ‰ï¼ˆpushã€popã€dialog ç­‰ï¼‰ç›¸å…³æ“ä½œéƒ½å¯ä»¥**ä¸éœ€è¦ contextï¼Œç›´æ¥é€šè¿‡è¿™ä¸ª tag æ‰¾åˆ°å¹¶è°ƒç”¨ Navigator çš„åŠŸèƒ½ã€‚**ï¼ˆ<font color=red>ç±»ä¼¼äºiOSçš„**é€šçŸ¥æœºåˆ¶**</font>ï¼‰

| ä¼ ç»Ÿ Flutter              | [**`GetX`**](https://pub.dev/packages/get)                   |
| ------------------------- | ------------------------------------------------------------ |
| Navigator.of(context)     | Get.key.currentState                                         |
| å¼¹çª—å¿…é¡»è¦ context        | `Get.dialog()` æ— éœ€ context                                  |
| æ¯ä¸ªé¡µé¢è¦ä¼  BuildContext | [**`GetX`**](https://pub.dev/packages/get)  å®¹å™¨ä¸­å…¨å±€æŒæœ‰å¯¼èˆªå™¨ |
| UI å’ŒçŠ¶æ€ç®¡ç†è€¦åˆä¸¥é‡     | UI/é€»è¾‘å¯åˆ†ç¦»ï¼ŒController ä¹Ÿèƒ½å¯¼èˆª                           |

âœ… åœºæ™¯ï¼šä»é UI å±‚ï¼ˆæ¯”å¦‚ Service/Controllerï¼‰å¼¹å‡ºä¸€ä¸ª Dialogï¼Œè€Œä¸ä¾èµ– `BuildContext`

```dart
void main() {
  runApp(GetMaterialApp(
    navigatorKey: Get.key, // âœ… æ³¨å†Œå…¨å±€å¯¼èˆªå™¨ å¿…é¡»åˆå§‹åŒ–æ—¶é…ç½®ä¸€æ¬¡
    home: MyHomePage(),
  ));
}

class AuthService {
  void checkLoginAndShowDialog() {
    /// âœ… ä¸ä¾èµ– context å°±èƒ½æ˜¾ç¤º UI
    Get.dialog(
      AlertDialog(
        title: Text('æœªç™»å½•'),
        content: Text('è¯·å…ˆç™»å½•æ‰èƒ½ç»§ç»­æ“ä½œ'),
        actions: [
          TextButton(
            onPressed: () => Get.back(),
            child: Text('å–æ¶ˆ'),
          ),
          TextButton(
            onPressed: () {
              Get.back();
              Get.toNamed('/login'); // å¯ä»¥ç»§ç»­è·³è½¬
            },
            child: Text('å»ç™»å½•'),
          ),
        ],
      ),
      navigatorKey: Get.key, // âœ… å…³é”®ç‚¹ï¼šæŒ‡å‘å…¨å±€ Navigatorï¼ˆæ­¤ä¾‹é‡Œé¢å¯ä»¥ä¸å†™ï¼‰
      barrierDismissible: false,
    );
  }
}

ElevatedButton(
  onPressed: () {
    AuthService().checkLoginAndShowDialog(); // âœ… ä¸ç”¨ contextï¼Œä¹Ÿèƒ½å¼¹çª—
  },
  child: Text('æ‰§è¡Œéœ€è¦ç™»å½•çš„æ“ä½œ'),
)
```

* âœ… é‚£ä»€ä¹ˆæ—¶å€™ **å¿…é¡»å†™ `navigatorKey: Get.key`**ï¼Ÿ

  * â— åœºæ™¯1ï¼šé¡µé¢è¿˜æ²¡åŠ è½½å®Œæˆï¼ˆæ¯”å¦‚åœ¨ `initState` æˆ– `GetxController.onInit()` é‡Œç›´æ¥å¼¹ï¼‰

    ```dart
    @override
    void initState() {
      super.initState();
      Future.delayed(Duration.zero, () {
        Get.dialog(AlertDialog(...)); // âŒ å¯èƒ½æ‰¾ä¸åˆ° Navigator.currentContext
      });
    }
    ```

  * â— åœºæ™¯2ï¼šç”¨äº†åµŒå¥—çš„<a href="#Shellé¡µé¢" style="font-size:17px; color:green;"><b> Shellé¡µé¢</b></a> / å­<a href="#Navigator" style="font-size:17px; color:green;"><b> `Navigator`</b></a>   ï¼ˆå¦‚ `BottomNavigationBar` + `Tab`ï¼‰

    ```dart
    Scaffold(
      body: Navigator( // ğŸ‘ˆ åµŒå¥— navigatorï¼ŒGet.dialog æ‰¾ä¸åˆ°ä¸Šå±‚ Navigator
        key: shellKey,
        ...
      ),
    );
    ```

> ğŸ§  **`navigatorKey: Get.key` æ˜¯ä¿é™©æœºåˆ¶ï¼š**
>  å½“ä½ åœ¨ UI æŒ‰é’®ä¸­å¼¹çª—ï¼Œä¸å†™ä¹Ÿå¯ä»¥ï¼›
>  ä½†å¦‚æœä½ åœ¨â€œé UI ä¸Šä¸‹æ–‡â€æˆ–â€œåµŒå¥—å¯¼èˆªç»“æ„â€ä¸­è°ƒç”¨å¼¹çª—ï¼Œ**å°±å¿…é¡»æ˜¾å¼æŒ‡å®š `navigatorKey` æ¥é¿å…æ‰¾ä¸åˆ° Navigator çš„é”™è¯¯ã€‚**
>
> **å®Œå…¨å¯ä»¥å…»æˆä¹ æƒ¯ï¼š**
>  ğŸ‘‰ **ä»»ä½•æ—¶å€™ç”¨ `Get.dialog()`ï¼Œéƒ½å†™ä¸Š `navigatorKey: Get.key`**ï¼Œ
>  âœ… å…¼å®¹æ‰€æœ‰åœºæ™¯ã€ç”Ÿå‘½å‘¨æœŸã€åµŒå¥—ç»“æ„ï¼Œç»å¯¹ä¸ç¿»è½¦ã€‚

#### 5.9ã€[**`GetX`**](https://pub.dev/packages/get) å¤šè¯­è¨€åŒ–  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> å¦‚æœæ‰¾ä¸åˆ°å¯¹åº” keyï¼Œä¼š **åŸæ ·è¿”å›åŸå§‹å­—ç¬¦ä¸²**ï¼ˆå³ `"ç­‰å¾…çŠ¶æ€å˜åŒ–"`ï¼‰ï¼Œä¸ä¼šæŠ¥é”™æˆ–å´©æºƒã€‚

```dart
String status = "ç­‰å¾…çŠ¶æ€å˜åŒ–".tr;
```

#### 5.10ã€å…³äº[**`GetX`**](https://pub.dev/packages/get) çš„äºŒæ¬¡ï¼ˆè¯­æ³•ç³–ğŸ¬ï¼‰å°è£…

```dart
import 'package:get/get.dart';

/// è‡ªåŠ¨æ³¨å†Œæˆ–è·å– Controllerï¼ˆç«‹å³åˆ›å»ºå¹¶è¿”å›ï¼‰
/// ç”¨æ³•ï¼š
///   final c = getOrPut(() => MyController());
T getOrPut<T extends GetxController>(
  T Function() creator, {
  bool permanent = false,
}) {
  if (Get.isRegistered<T>()) {
    return Get.find<T>();
  } else {
    return Get.put<T>(creator(), permanent: permanent);
  }
}

/// è‡ªåŠ¨æ‡’åŠ è½½æ³¨å†Œæˆ–è·å– Controllerï¼ˆç¬¬ä¸€æ¬¡ç”¨æ—¶æ‰åˆ›å»ºï¼‰
/// ç”¨æ³•ï¼š
///   final c = getOrLazyPut(() => MyController(), fenix: true);
T getOrLazyPut<T extends GetxController>(
  T Function() creator, {
  bool fenix = false,
}) {
  if (Get.isRegistered<T>()) {
    return Get.find<T>();
  } else {
    Get.lazyPut<T>(creator, fenix: fenix);
    return Get.find<T>();
  }
}
```

```dart
late final MyTabCtrl tabController = getOrPut(() => MyTabCtrl());
```

#### 5.11ã€åŸºäº[**`GetX`**](https://pub.dev/packages/get) æœ€ä½³å®è·µçš„å®Œæ•´é¡¹ç›®ç»“æ„æ¨¡æ¿ï¼ˆé¡¹ç›®åä¸ºï¼š`getx_demo`ï¼‰ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

```bash
lib/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ modules/
â”‚   â”‚   â”œâ”€â”€ home/
â”‚   â”‚   â”‚   â”œâ”€â”€ bindings/          # é¡µé¢ç»‘å®š
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ home_binding.dart
â”‚   â”‚   â”‚   â”œâ”€â”€ controllers/       # æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ home_controller.dart
â”‚   â”‚   â”‚   â”œâ”€â”€ views/             # é¡µé¢è§†å›¾
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ home_view.dart
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ app_pages.dart         # é¡µé¢è·¯ç”±æ€»è¡¨
â”‚   â”‚   â””â”€â”€ app_routes.dart        # è·¯ç”±åå¸¸é‡
â”œâ”€â”€ main.dart
```

```dart
/// home_controller.dart
import 'package:get/get.dart';

class HomeController extends GetxController {
  var count = 0.obs;
  void increment() {
    count++;
  }
}
```

```dart
/// home_view.dart
import 'package:flutter/material.dart';
import 'package:get/get.dart';
import 'package:getx_demo/app/modules/home/controllers/home_controller.dart';

class HomeView extends GetView<HomeController> {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text("Home")),
      body: Center(
        child: Obx(() => Text("ç‚¹å‡»æ¬¡æ•°: ${controller.count}",
            style: TextStyle(fontSize: 24))),
      ),
      floatingActionButton: FloatingActionButton(
        onPressed: controller.increment,
        child: Icon(Icons.add),
      ),
    );
  }
}
```

```dart
/// home_binding.dart
import 'package:get/get.dart';
import 'package:getx_demo/app/modules/home/controllers/home_controller.dart';

class HomeBinding extends Bindings {
  @override
  void dependencies() {
    Get.lazyPut<HomeController>(() => HomeController());
  }
}
```

```dart
/// app_routes.dart
abstract class AppRoutes {
  static const HOME = '/home';
}
```

```dart
/// app_pages.dart
import 'package:get/get.dart';
import 'package:getx_demo/app/modules/home/bindings/home_binding.dart';
import 'package:getx_demo/app/modules/home/views/home_view.dart';
import 'app_routes.dart';

class AppPages {
  static const INITIAL = AppRoutes.HOME;

  static final routes = [
    GetPage(
      name: AppRoutes.HOME,
      page: () => HomeView(),
      binding: HomeBinding(),
    ),
  ];
}
```

```dart
/// main.dart
import 'package:flutter/material.dart';
import 'package:get/get.dart';
import 'package:getx_demo/app/routes/app_pages.dart';

void main() {
  runApp(MyApp());
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return GetMaterialApp(
      debugShowCheckedModeBanner: false,
      initialRoute: AppPages.INITIAL,
      getPages: AppPages.routes,
    );
  }
}
```

### 6ã€`WidgetsFlutterBinding`ç¡®ä¿ Flutter æ¡†æ¶ä¸åº•å±‚å¹³å°ï¼ˆå¦‚ MethodChannelã€æ’ä»¶ï¼‰ä¹‹é—´çš„æ¡¥æ¢å·²å®Œæˆåˆå§‹åŒ– <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> Flutter æœ‰ä¸€ä¸ªå«åš **`WidgetsBinding`** çš„ä¸œè¥¿ï¼Œå®ƒæ˜¯æ‰€æœ‰ Widget æ¡†æ¶çš„æ ¸å¿ƒï¼Œå®ƒè´Ÿè´£ï¼š
>
> - ç®¡ç†ç”Ÿå‘½å‘¨æœŸï¼ˆå¦‚ `build`ã€`rebuild`ï¼‰
> - ç®¡ç† `SchedulerBinding`ï¼ˆå¸§è°ƒåº¦ï¼‰
> - ç®¡ç†å¹³å°é€šé“ï¼ˆå¦‚ä½¿ç”¨ `MethodChannel` è°ƒç”¨åŸç”Ÿæ–¹æ³•ï¼‰
>
> åœ¨ `runApp()` ä¹‹å‰ï¼Œä½ å¿…é¡»ä¿è¯è¿™ä¸ª Binding å·²ç»åˆå§‹åŒ–ã€‚

```dart
WidgetsFlutterBinding.ensureInitialized();
```

æ¯”å¦‚ï¼Œåœ¨ä½¿ç”¨ä»¥ä¸‹åŠŸèƒ½å‰ï¼Œä¸€å®šè¦è¿›è¡Œåˆå§‹åŒ–ï¼š

- ä½¿ç”¨ `SharedPreferences.getInstance()`
- è°ƒç”¨ `SystemChrome.setPreferredOrientations(...)`
- ä½¿ç”¨ `await Firebase.initializeApp()`
- ä½¿ç”¨ `PathProvider.getApplicationDocumentsDirectory()`
- è°ƒç”¨åŸç”Ÿæ’ä»¶ï¼ˆä»»ä½•ä¸å¹³å°é€šé“æœ‰å…³çš„ï¼‰

> å¦‚æœæ²¡æœ‰è°ƒç”¨ `WidgetsFlutterBinding.ensureInitialized()`ï¼Œå¯èƒ½ä¼šæŠ¥é”™ç±»ä¼¼ï¼š
>
> ```shell
> Binding has not yet been initialized.
> ```

### 7ã€`DartPingIOS`åœ¨ iOS ä¸Šå¯ç”¨ native å±‚å®ç°çš„ ping åŠŸèƒ½ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> 1ã€å› ä¸º iOS çš„ç½‘ç»œæƒé™å’Œé™åˆ¶è¾ƒå¤šï¼Œ`dart_ping` éœ€è¦é€šè¿‡åŸç”Ÿæ’ä»¶é…åˆå®ç° `ping`ï¼Œæ‰€ä»¥éœ€è¦å…ˆè¿›è¡Œæ‰‹åŠ¨æ³¨å†Œ
>
> 2ã€è¿™ä¸ªè°ƒç”¨å¯¹ **Android ä¸éœ€è¦**ï¼ˆåœ¨ Android ä¸Šä½¿ç”¨ `Ping` ä¸éœ€è¦é¢å¤–å¤„ç†ï¼Œç›´æ¥ç”¨å³å¯ï¼‰

* æ³¨å†Œ

  ```dart
  DartPingIOS.register();
  ```

* ä½¿ç”¨

  ```dart
  final ping = Ping('8.8.8.8', count: 4);

  ping.stream.listen((event) {
    print(event.summary); // æˆ– event.response
  });
  ```

* é…ç½®

  * `Info.plist `

    ```xml
    <key>NSAppTransportSecurity</key>
    <dict>
      <key>NSAllowsArbitraryLoads</key>
      <true/>
    </dict>
    ```

  * `pubspec.yaml`

    ```yaml
    dependencies:
      dart_ping: any
    # iOS éœ€è¦å•ç‹¬å¼•å…¥
    dart_ping_ios: any
    ```

### 8ã€åˆ©ç”¨**`SharedPreferences`**å¯¹æ•°æ®è¿›è¡Œå­˜å– <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> 1ï¸âƒ£ å°è£…åŸç”Ÿ `SharedPreferences` æ”¯æŒçš„æ‰€æœ‰ç±»å‹
>
> 2ï¸âƒ£ é¢å¤–æ”¯æŒäº†è‡ªå®šä¹‰å¯¹è±¡ï¼ˆBeanï¼‰çš„å­˜å–
>
> ğŸ’¥ Flutter.**`SharedPreferences`** == OC.**`NSUserDefaults`** == Swift.**`UserDefaults`**

```dart
/// SpUtil.dart
import 'dart:convert';
import 'package:shared_preferences/shared_preferences.dart';
import 'app_json_serializable.dart';
/// å­˜å‚¨é…ç½®ä¿¡æ¯çš„å·¥å…·ç±»
class SpUtil {
  /// ä¿å­˜Stringç±»å‹æ•°æ®
  static Future<void> saveString(String key, String value) async {
    final prefs = await SharedPreferences.getInstance();
    await prefs.setString(key, value);
  }
  /// è·å–Stringç±»å‹æ•°æ®
  static Future<String?> getString(String key) async {
    final prefs = await SharedPreferences.getInstance();
    return prefs.getString(key);
  }
  /// ä¿å­˜Intç±»å‹æ•°æ®
  static Future<void> saveInt(String key, int value) async {
    final prefs = await SharedPreferences.getInstance();
    await prefs.setInt(key, value);
  }
  /// è·å–Intç±»å‹æ•°æ®
  static Future<int?> getInt(String key) async {
    final prefs = await SharedPreferences.getInstance();
    return prefs.getInt(key);
  }
  /// ä¿å­˜Doubleç±»å‹æ•°æ®
  static Future<void> saveDouble(String key, double value) async {
    final prefs = await SharedPreferences.getInstance();
    await prefs.setDouble(key, value);
  }
  /// è·å–Doubleç±»å‹æ•°æ®
  static Future<double?> getDouble(String key) async {
    final prefs = await SharedPreferences.getInstance();
    return prefs.getDouble(key);
  }
  /// ä¿å­˜Boolç±»å‹æ•°æ®
  static Future<void> saveBool(String key, bool value) async {
    final prefs = await SharedPreferences.getInstance();
    await prefs.setBool(key, value);
  }
  /// è·å–Boolç±»å‹æ•°æ®
  static Future<bool?> getBool(String key) async {
    final prefs = await SharedPreferences.getInstance();
    return prefs.getBool(key);
  }
  /// ä¿å­˜Stringç±»å‹åˆ—è¡¨æ•°æ®
  static Future<void> saveStringList(String key, List<String> value) async {
    final prefs = await SharedPreferences.getInstance();
    await prefs.setStringList(key, value);
  }
  /// è·å–Stringç±»å‹åˆ—è¡¨æ•°æ®
  static Future<List<String>?> getStringList(String key) async {
    final prefs = await SharedPreferences.getInstance();
    return prefs.getStringList(key);
  }
  /// é€šè¿‡keyåˆ é™¤æŒ‡å®šæ•°æ®
  static Future<void> remove(String key) async {
    final prefs = await SharedPreferences.getInstance();
    await prefs.remove(key);
  }
  /// æ¸…ç©ºæ•°æ®
  static Future<void> clear() async {
    final prefs = await SharedPreferences.getInstance();
    await prefs.clear();
  }
  /// ä¿å­˜åºåˆ—åŒ–çš„bean
  static Future<void> saveBean<T extends AppJsonSerializable>(
      String key, T value) async {
    final prefs = await SharedPreferences.getInstance();
    String jsonString = jsonEncode(value.toJson());
    await prefs.setString(key, jsonString);
  }
  /// æ‹¿å‡ºbean
  static Future<T?> getBean<T extends AppJsonSerializable>(
      String key, T Function(Map<String, dynamic>) fromJson) async {
    final prefs = await SharedPreferences.getInstance();
    String? jsonString = prefs.getString(key);
    if (jsonString != null) {
      Map<String, dynamic> jsonMap = jsonDecode(jsonString);
      return fromJson(jsonMap);
    }
    return null;
  }
}
```

### 9ã€Flutteræ ‡å‡†<a href="#æ¨¡æ€" style="color:green; font-size:25px;"><b>æ¨¡æ€</b></a>å¼¹çª—ç»„ä»¶ï¼ˆSDKè‡ªå¸¦çš„ï¼‰<a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

Flutter SDKï¼ˆç³»ç»Ÿè‡ªå¸¦ï¼‰çš„æ¨¡æ€å¼¹çª—æ±‡æ€»è¡¨ï¼ˆæˆªè‡³ 2025ï¼‰

| åç§°                        | ç±»å‹ | ç”¨é€”è¯´æ˜                           | æ‰€å±åº“                           |
| --------------------------- | ---- | ---------------------------------- | -------------------------------- |
| `AlertDialog`               | ç»„ä»¶ | æ ‡å‡†æç¤ºå¯¹è¯æ¡†                     | `package:flutter/material.dart`  |
| `SimpleDialog`              | ç»„ä»¶ | ç®€å•é€‰é¡¹å¯¹è¯æ¡†                     | `package:flutter/material.dart`  |
| `Dialog`                    | ç»„ä»¶ | å¯è‡ªå®šä¹‰å†…å®¹                       | `package:flutter/material.dart`  |
| `showDialog()`              | æ–¹æ³• | é€šç”¨å¼¹çª—å°è£…                       | `package:flutter/material.dart`  |
| `showGeneralDialog()`       | æ–¹æ³• | è‡ªå®šä¹‰å†…å®¹å’ŒåŠ¨ç”»çš„åº•å±‚å¼¹çª—æ–¹æ³•     | `package:flutter/material.dart`  |
| `showModalBottomSheet()`    | æ–¹æ³• | å¼¹å‡ºåº•éƒ¨æ¨¡æ€å¼¹çª—                   | `package:flutter/material.dart`  |
| `showDatePicker()`          | æ–¹æ³• | å¼¹å‡ºæ—¥æœŸé€‰æ‹©å™¨                     | `package:flutter/material.dart`  |
| `showTimePicker()`          | æ–¹æ³• | å¼¹å‡ºæ—¶é—´é€‰æ‹©å™¨                     | `package:flutter/material.dart`  |
| `showSearch()`              | æ–¹æ³• | å¼¹å‡ºæœç´¢é¡µï¼ˆå…¨å±å¼¹çª—ï¼‰             | `package:flutter/material.dart`  |
| `showAboutDialog()`         | æ–¹æ³• | æ˜¾ç¤ºåº”ç”¨ä¿¡æ¯å¼¹çª—                   | `package:flutter/material.dart`  |
| `showLicensePage()`         | æ–¹æ³• | æ˜¾ç¤º License é¡µé¢                  | `package:flutter/material.dart`  |
| `LicensePage`               | ç»„ä»¶ | License é¡µé¢å®¹å™¨                   | `package:flutter/material.dart`  |
| `showCupertinoDialog()`     | æ–¹æ³• | å¼¹å‡º iOS é£æ ¼å¼¹çª—                  | `package:flutter/cupertino.dart` |
| `CupertinoAlertDialog`      | ç»„ä»¶ | iOS é£æ ¼å¯¹è¯æ¡†ç»„ä»¶                 | `package:flutter/cupertino.dart` |
| `showCupertinoModalPopup()` | æ–¹æ³• | å¼¹å‡º iOS é£æ ¼åº•éƒ¨å¼¹çª—              | `package:flutter/cupertino.dart` |
| `CupertinoActionSheet`      | ç»„ä»¶ | iOS é£æ ¼åº•éƒ¨å¼¹çª—å†…å®¹               | `package:flutter/cupertino.dart` |
| `CupertinoPopupSurface`     | ç»„ä»¶ | å¼¹çª—è¡¨é¢ç»„ä»¶ï¼ˆç”¨äºè‡ªå®šä¹‰å¼¹çª—å¤–è§‚ï¼‰ | `package:flutter/cupertino.dart` |


* `AlertDialog`ï¼ˆæœ€å¸¸ç”¨ï¼‰

  ```dart
  showDialog(
    context: context,
    builder: (context) {
      return AlertDialog(
        title: Text('æç¤º'),
        content: Text('ä½ ç¡®å®šè¦åˆ é™¤å—ï¼Ÿ'),
        actions: [
          TextButton(
            onPressed: () => Navigator.of(context).pop(false),
            child: Text('å–æ¶ˆ'),
          ),
          TextButton(
            onPressed: () => Navigator.of(context).pop(true),
            child: Text('ç¡®å®š'),
          ),
        ],
      );
    },
  );
  ```

* `SimpleDialog`

  ```dart
  /// é€‚åˆå±•ç¤ºå¤šä¸ªé€‰é¡¹
  showDialog(
    context: context,
    builder: (context) {
      return SimpleDialog(
        title: Text('è¯·é€‰æ‹©'),
        children: [
          SimpleDialogOption(
            onPressed: () => Navigator.pop(context, 'A'),
            child: Text('é€‰é¡¹A'),
          ),
          SimpleDialogOption(
            onPressed: () => Navigator.pop(context, 'B'),
            child: Text('é€‰é¡¹B'),
          ),
        ],
      );
    },
  );
  ```

* `Dialog`

  ```dart
  /// ä¸€ä¸ªåŸºç¡€çš„å¯¹è¯æ¡†å®¹å™¨ï¼Œé€šå¸¸ç”¨äºè‡ªå®šä¹‰å¼¹çª—
  showDialog(
    context: context,
    builder: (context) {
      return Dialog(
        shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(12)),
        child: Padding(
          padding: const EdgeInsets.all(16.0),
          child: Column(
            mainAxisSize: MainAxisSize.min,
            children: [
              Text('è‡ªå®šä¹‰å†…å®¹'),
              SizedBox(height: 10),
              ElevatedButton(
                onPressed: () => Navigator.pop(context),
                child: Text('å…³é—­'),
              ),
            ],
          ),
        ),
      );
    },
  );
  ```

* `showDialog`

  ```dart
  /// å¼‚æ­¥ç­‰å¾…ç”¨æˆ·è¿”å›ç»“æœ
  bool? confirmed = await showDialog<bool>(
    context: context,
    builder: (context) {
      return AlertDialog(
        title: Text('ç¡®è®¤'),
        content: Text('æ˜¯å¦ä¿å­˜ï¼Ÿ'),
        actions: [
          TextButton(onPressed: () => Navigator.pop(context, false), child: Text('å–æ¶ˆ')),
          TextButton(onPressed: () => Navigator.pop(context, true), child: Text('ç¡®å®š')),
        ],
      );
    },
  );
  if (confirmed == true) {
    // ç”¨æˆ·ç‚¹å‡»äº†ç¡®å®š
  }
  ```

* `showGeneralDialog`

  ```dart
  /// å®Œå…¨è‡ªå®šä¹‰å¼¹çª— + åŠ¨ç”»
  showGeneralDialog(
    context: context,
    barrierDismissible: true,
    barrierLabel: 'å¼¹çª—',
    barrierColor: Colors.black54,
    transitionDuration: Duration(milliseconds: 300),
    pageBuilder: (_, __, ___) {
      return Center(
        child: Container(
          width: 250,
          height: 150,
          padding: EdgeInsets.all(20),
          color: Colors.white,
          child: Text('è‡ªå®šä¹‰å¼¹çª—å†…å®¹'),
        ),
      );
    },
    transitionBuilder: (_, animation, __, child) {
      return ScaleTransition(
        scale: animation,
        child: child,
      );
    },
  );
  ```

  ...demoæœªå®Œå¾…è¡¥å……


### 10ã€[**EasyLoading**](https://pub.dev/documentation/flutter_easyloading/latest/) <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| ç±»å‹       | æ–¹æ³•                                    | è¯´æ˜                |
| ---------- | --------------------------------------- | ------------------- |
| åŠ è½½ä¸­     | `EasyLoading.show()`                    | æ˜¾ç¤ºé»˜è®¤åŠ è½½åŠ¨ç”»    |
| è‡ªå®šä¹‰æç¤º | `EasyLoading.show(status: 'åŠ è½½ä¸­...')` | è‡ªå®šä¹‰æç¤ºæ–‡æœ¬      |
| æˆåŠŸæç¤º   | `EasyLoading.showSuccess('æˆåŠŸ')`       | æ˜¾ç¤ºå¸¦ âœ… çš„æˆåŠŸæç¤º |
| å¤±è´¥æç¤º   | `EasyLoading.showError('å¤±è´¥')`         | æ˜¾ç¤ºå¸¦ âŒ çš„é”™è¯¯æç¤º |
| ä¿¡æ¯æç¤º   | `EasyLoading.showInfo('ä¿¡æ¯')`          | æ˜¾ç¤º â„¹ï¸ çš„ä¿¡æ¯æç¤º   |
| å…³é—­æç¤º   | `EasyLoading.dismiss()`                 | éšè—æ‰€æœ‰æç¤º        |

```dart
void configLoading() {
  // EasyLoading.instance
  //   ..loadingStyle = EasyLoadingStyle.light
  //   ..backgroundColor = Colors.white // è‡ªå®šä¹‰èƒŒæ™¯é¢œè‰²
  //   ..dismissOnTap = true; // ç‚¹å‡»ä¸èƒ½å…³é—­åŠ è½½æ¡†

  EasyLoading.instance
    ..indicatorType = EasyLoadingIndicatorType.fadingCircle
    ..loadingStyle = EasyLoadingStyle.custom
    ..backgroundColor = Colors.white
    ..indicatorColor = const Color(theme01MainColor)
    ..textColor = const Color(theme01MainColor)
    ..dismissOnTap = true; // ç‚¹å‡»ä¸èƒ½å…³é—­åŠ è½½æ¡†
  // ..maskType = EasyLoadingMaskType.custom
  // ..maskColor = Colors.black.withOpacity(0.1)
}
```

```yaml
/// pubspec.yaml
dependencies:
  flutter_easyloading: ^3.0.5
```

### 11ã€<font id=æå…‰åŸç”Ÿæ¨é€>[**æå…‰åŸç”Ÿæ¨é€**](https://www.engagelab.com/zh_CN)</font>ï¼š[FlutterPluginEngagelab](https://pub.dev/packages/flutter_plugin_engagelab) <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> æ¥è‡ªäºï¼š`package:flutter_plugin_engagelab/flutter_plugin_engagelab.dart`
>
> 1ï¸âƒ£ iOS / Android æ¨é€æ¶ˆæ¯æ¥æ”¶ä¸å¤„ç†
>
> 2ï¸âƒ£ è·å–è®¾å¤‡æ³¨å†Œ ID
>
> 3ï¸âƒ£ è®¾ç½®è§’æ ‡
>
> 4ï¸âƒ£ æ¨é€äº‹ä»¶å›è°ƒ
>
> 5ï¸âƒ£ è®¾ç½®è°ƒè¯•æ¨¡å¼ç­‰...

| æ–¹æ³•                                      | è¯´æ˜                                           |
| ----------------------------------------- | ---------------------------------------------- |
| `addEventHandler({ onMTCommonReceiver })` | æ³¨å†ŒåŸç”Ÿç«¯å‘æ¥çš„äº‹ä»¶å¤„ç†å›è°ƒ                   |
| `getRegistrationId()`                     | è·å–å½“å‰è®¾å¤‡çš„ Registration IDï¼ˆæ¨é€å”¯ä¸€æ ‡è¯†ï¼‰ |
| `initIos({appKey, channel})`              | åˆå§‹åŒ– iOS æ¨é€ SDK                            |
| `initAndroid()`                           | åˆå§‹åŒ– Android æ¨é€ SDK                        |
| `setNotificationBadge(int count)`         | è®¾ç½®é€šçŸ¥è§’æ ‡æ•°ï¼ˆå¦‚ï¼š0ï¼‰                        |
| `resetNotificationBadge()`                | é‡ç½®è§’æ ‡                                       |
| `printMy(String msg)`                     | ç”¨äº debug æ‰“å°ï¼ˆSDK å†…å°è£…ï¼‰                  |
| `checkNotificationAuthorizationIos()`     | æ£€æŸ¥ iOS ç”¨æˆ·æ˜¯å¦å¼€å¯é€šçŸ¥æƒé™                  |
| `configDebugMode(bool)`                   | è®¾ç½®æ˜¯å¦å¼€å¯è°ƒè¯•æ¨¡å¼                           |

```dart
/// pubspec.yaml
dependencies:
  flutter_plugin_engagelab: ^1.2.4
```

### 12ã€[**OpenInstall**](https://www.openinstallglobal.com/)ï¼šç§»åŠ¨ç«¯çš„å®‰è£…/æ‹‰æ–°/æ¸ é“ç»Ÿè®¡ SDK <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

```dart
Future<void> initOpeninstall() async {
  OpeninstallFlutterPlugin openinstallFlutterPlugin =
      OpeninstallFlutterPlugin();
  openinstallFlutterPlugin.setDebug(true);
  openinstallFlutterPlugin.init(wakeupHandler);
  // é”™è¯¯ï¼šåº”è¯¥åœ¨ä¸šåŠ¡éœ€è¦æ—¶å†è°ƒç”¨ install è·å–å‚æ•°
  // openinstallFlutterPlugin.install(installHandler);
}

Future wakeupHandler(Map<String, Object> data) async {
  FlutterPluginEngagelab.printMy("wakeupHandler: $data");
}
```

* `install()` æ˜¯ç”¨äºè·å–å®‰è£…å‚æ•°çš„ï¼Œ**åªèƒ½è°ƒç”¨ä¸€æ¬¡ä¸”åº”å½“åœ¨éœ€è¦æ—¶ï¼ˆå¦‚é¦–æ¬¡æ‰“å¼€ APP çš„æ—¶å€™ï¼‰è°ƒç”¨**ã€‚å¦åˆ™å¯èƒ½æ—¶æœºä¸å¯¹å¯¼è‡´å‚æ•°è·å–ä¸åˆ°ã€‚

### 13ã€â°è·å–å½“å‰æ—¶é—´ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

```dart
/// è°ƒç”¨è¾“å‡ºï¼ˆæ ¼å¼ï¼‰ï¼š2025/07/13T14:38:45.123 PM
String getNowTime() {
  final time = DateTime.now();

  DateFormat formatter = DateFormat('yyyy/MM/ddTHH:mm:ss.SSS');
  String formattedDate = formatter.format(time);

  DateFormat amPmFormatter = DateFormat('a');
  String amPm = amPmFormatter.format(time);
  return '$formattedDate ${amPm == 'AM' ? 'AM' : 'PM'}';
}
```

* ğŸ“† æ—¥æœŸæ ¼å¼ç¬¦ï¼ˆDate fieldsï¼‰

  | æ ¼å¼ç¬¦  | å«ä¹‰             | ç¤ºä¾‹è¾“å‡º | è¯´æ˜                      |
  | ------- | ---------------- | -------- | ------------------------- |
  | `y`     | å¹´ï¼ˆ1ä½æˆ–å¤šä½ï¼‰  | `2025`   | åªå†™ä¸€ä¸ª `y` ä¼šæ˜¯ç®€å†™å¹´ä»½ |
  | `yy`    | å¹´ï¼ˆä¸¤ä½ï¼‰       | `25`     | 2025 â†’ 25                 |
  | `yyyy`  | å¹´ï¼ˆå››ä½ï¼‰       | `2025`   | å¸¸ç”¨                      |
  | `M`     | æœˆä»½ï¼ˆ1â€“12ï¼‰     | `7`      | ä¸€ä½æ•°æ— å‰å¯¼ 0            |
  | `MM`    | æœˆä»½ï¼ˆä¸¤ä½ï¼‰     | `07`     | è¡¥è¶³å‰å¯¼ 0                |
  | `MMM`   | æœˆä»½ç¼©å†™         | `Jul`    | è‹±æ–‡ç¼©å†™                  |
  | `MMMM`  | æœˆä»½å…¨ç§°         | `July`   | è‹±æ–‡å…¨ç§°                  |
  | `MMMMM` | æœˆä»½é¦–å­—æ¯       | `J`      |                           |
  | `d`     | æ—¥ï¼ˆ1â€“31ï¼‰       | `3`      |                           |
  | `dd`    | æ—¥ï¼ˆä¸¤ä½ï¼‰       | `03`     |                           |
  | `E`     | æ˜ŸæœŸç¼©å†™         | `Sun`    |                           |
  | `EEE`   | æ˜ŸæœŸç¼©å†™         | `Sun`    |                           |
  | `EEEE`  | æ˜ŸæœŸå…¨ç§°         | `Sunday` |                           |
  | `EEEEE` | æ˜ŸæœŸé¦–å­—æ¯       | `S`      |                           |
  | `c`     | å‘¨ä¸­çš„å¤©ï¼ˆæ•°å­—ï¼‰ | `7`      | é€šå¸¸å‘¨æ—¥ä¸º 7              |

* â° æ—¶é—´æ ¼å¼ç¬¦ï¼ˆTime fieldsï¼‰

  | æ ¼å¼ç¬¦ | å«ä¹‰                 | ç¤ºä¾‹è¾“å‡º     | è¯´æ˜                     |
  | ------ | -------------------- | ------------ | ------------------------ |
  | `a`    | ä¸Šåˆ/ä¸‹åˆ            | `AM` æˆ– `PM` | å¯æ ¹æ® locale æ˜¾ç¤ºä¸­æ–‡   |
  | `h`    | 12å°æ—¶åˆ¶å°æ—¶ï¼ˆ1â€“12ï¼‰ | `5`          | æ— å‰å¯¼ 0                 |
  | `hh`   | 12å°æ—¶åˆ¶å°æ—¶ï¼ˆä¸¤ä½ï¼‰ | `05`         | æœ‰å‰å¯¼ 0                 |
  | `H`    | 24å°æ—¶åˆ¶å°æ—¶ï¼ˆ0â€“23ï¼‰ | `17`         | æ— å‰å¯¼ 0                 |
  | `HH`   | 24å°æ—¶åˆ¶å°æ—¶ï¼ˆä¸¤ä½ï¼‰ | `17`         | æœ‰å‰å¯¼ 0                 |
  | `m`    | åˆ†é’Ÿï¼ˆ0â€“59ï¼‰         | `8`          |                          |
  | `mm`   | åˆ†é’Ÿï¼ˆä¸¤ä½ï¼‰         | `08`         |                          |
  | `s`    | ç§’ï¼ˆ0â€“59ï¼‰           | `3`          |                          |
  | `ss`   | ç§’ï¼ˆä¸¤ä½ï¼‰           | `03`         |                          |
  | `S`    | æ¯«ç§’ï¼ˆ1 ä½ï¼‰         | `4`          | å¯èƒ½è¾“å‡ºä¸€ä½ã€ä¸¤ä½æˆ–ä¸‰ä½ |
  | `SSS`  | æ¯«ç§’ï¼ˆä¸‰ä½ï¼‰         | `004`        | æ¨èç”¨                   |

* ğŸŒ æ—¶åŒºï¼ˆTimeZoneï¼‰

  | æ ¼å¼ç¬¦ | å«ä¹‰             | ç¤ºä¾‹è¾“å‡º              | è¯´æ˜                   |
  | ------ | ---------------- | --------------------- | ---------------------- |
  | `z`    | æ—¶åŒºç¼©å†™         | `GMT+8`               | ä¸ä¸€å®šæ˜¯æ ‡å‡†æ—¶åŒºå     |
  | `zzzz` | æ—¶åŒºå…¨ç§°         | `Greenwich Mean Time` | éƒ¨åˆ† locale æ‰æ”¯æŒ     |
  | `Z`    | RFC 822 æ—¶åŒºæ ¼å¼ | `+0800`               | é€šå¸¸ç”¨äº APIã€ISO æ ‡å‡† |
  | `ZZZZ` | æ—¶åŒºå…¨ç§° + åç§»  | `GMT+08:00`           | æ¯” `Z` æ›´äººæ€§åŒ–        |

* ğŸ”£ å…¶ä»–ç¬¦å·ç”¨æ³•

  | ç¬¦å·       | å«ä¹‰                     | ç¤ºä¾‹æˆ–è¯´æ˜                          |
  | ---------- | ------------------------ | ----------------------------------- |
  | `'...'`    | å­—é¢é‡ï¼ˆåŸæ ·è¾“å‡ºï¼‰       | `'T'` â†’ `T`                         |
  | `T`        | å­—ç¬¦ Tï¼ˆéœ€è¦å†™æˆ `'T'`ï¼‰ | å¸¸ç”¨äºåˆ†éš”æ—¥æœŸä¸æ—¶é—´ï¼ˆå¦‚ ISO æ ¼å¼ï¼‰ |
  | `G`        | å…¬å…ƒçºªå…ƒï¼ˆEraï¼‰          | `AD`ã€`BC`                          |
  | `Q`        | å­£åº¦ï¼ˆæ•°å­—ï¼‰             | `3`                                 |
  | `QQQ`      | å­£åº¦ç¼©å†™                 | `Q3`                                |
  | `QQQQ`     | å­£åº¦å…¨ç§°                 | `3rd quarter`                       |
  | `w` / `ww` | ä¸€å¹´ä¸­çš„ç¬¬å‡ å‘¨           | `27`                                |
  | `D`        | ä¸€å¹´ä¸­çš„ç¬¬å‡ å¤©           | `194`                               |
  | `k` / `kk` | 24å°æ—¶åˆ¶ï¼ˆ1â€“24ï¼‰         | `24`ï¼ˆä¸ä¼šæ˜¯ 0ï¼‰                    |
  | `K` / `KK` | 12å°æ—¶åˆ¶ï¼ˆ0â€“11ï¼‰         | `0` è¡¨ç¤º 12ç‚¹                       |

### 14ã€ <font id=Navigator>âœ…Navigator</font> <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> 1ï¸âƒ£ åœ¨ Flutter ä¸­ï¼Œæ¯ä¸€ä¸ª `Navigator` éƒ½ä¼šæœ‰**è‡ªå·±çš„è·¯ç”±æ ˆï¼ˆRoute Stackï¼‰**ï¼Œå¹¶ä¸æ˜¯å…¨å±€å”¯ä¸€çš„
>
> 2ï¸âƒ£ å¯ä»¥æœ‰å¤šä¸ª **Navigator**ğŸ‘‡
>
> ```dart
> MaterialApp â†’ Navigator A ï¼ˆæ ¹ï¼‰
>           â””â”€â”€ Scaffold â†’ Navigator B ï¼ˆåµŒå¥—ï¼‰
> ```
>
> 3ï¸âƒ£ é»˜è®¤è°ƒç”¨ `Navigator.of(context)`ï¼Œæ˜¯**ä»å½“å‰ context å‘ä¸ŠæŸ¥æ‰¾æœ€è¿‘çš„ Navigator**ï¼Œ**è€Œä¸æ˜¯æ‰¾æœ€ä¸Šå±‚çš„**

#### 14.1ã€æ­£å‘ä¼ å‚ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

* æ„é€ å‡½æ•°ä¼ å‚ï¼ˆâœ…æœ€æ¨èï¼‰

  ```dart
  Navigator.push(
    context,
    MaterialPageRoute(builder: (context) => SecondPage(name: 'Jobs')),
  );
  ```

  ```dart
  class SecondPage extends StatelessWidget {
    final String name;
    const SecondPage({super.key, required this.name});
  }
  ```

* å…¨å±€å˜é‡æˆ–çŠ¶æ€ç®¡ç†å™¨ä¼ å‚ï¼šï¼ˆå¦‚ä½¿ç”¨ `Provider`ã€[**`GetX`**](https://pub.dev/packages/get) ã€`Riverpod`ã€`Bloc` ç­‰çŠ¶æ€ç®¡ç†æ¡†æ¶å…±äº«æ•°æ®ï¼‰

  *  [**`Provider`**](https://pub.dev/packages/provider)

    ```dart
    import 'package:flutter/material.dart';
    import 'package:provider/provider.dart';

    void main() {
      runApp(
        ChangeNotifierProvider(create: (_) => UserModel(), child: MyApp()),
      );
    }

    class UserModel extends ChangeNotifier {
      String name = 'é»˜è®¤å';
      void updateName(String newName) {
        name = newName;
        notifyListeners();
      }
    }

    class MyApp extends StatelessWidget {
      @override
      Widget build(BuildContext context) => MaterialApp(home: HomePage());
    }

    class HomePage extends StatelessWidget {
      @override
      Widget build(BuildContext context) {
        final user = Provider.of<UserModel>(context);
        return Scaffold(
          appBar: AppBar(title: Text('é¦–é¡µ')),
          body: Center(
            child: ElevatedButton(
              child: Text('è®¾ç½®ç”¨æˆ·åå¹¶è·³è½¬'),
              onPressed: () {
                user.updateName('Provider ç”¨æˆ·');
                Navigator.push(context, MaterialPageRoute(builder: (_) => SecondPage()));
              },
            ),
          ),
        );
      }
    }

    class SecondPage extends StatelessWidget {
      @override
      Widget build(BuildContext context) {
        final user = Provider.of<UserModel>(context);
        return Scaffold(
          appBar: AppBar(title: Text('ç¬¬äºŒé¡µ')),
          body: Center(child: Text('ç”¨æˆ·åï¼š${user.name}')),
        );
      }
    }
    ```

  * [**`GetX`**](https://pub.dev/packages/get)

    ```dart
    import 'package:flutter/material.dart';
    import 'package:get/get.dart';

    void main() {
      runApp(GetMaterialApp(home: HomePage()));
    }

    class UserController extends GetxController {
      var name = 'é»˜è®¤å'.obs;
    }

    class HomePage extends StatelessWidget {
      final UserController controller = Get.put(UserController());

      @override
      Widget build(BuildContext context) => Scaffold(
            appBar: AppBar(title: Text('é¦–é¡µ')),
            body: Center(
              child: ElevatedButton(
                child: Text('è®¾ç½®ç”¨æˆ·åå¹¶è·³è½¬'),
                onPressed: () {
                  controller.name.value = 'GetX ç”¨æˆ·';
                  Get.to(() => SecondPage());
                },
              ),
            ),
          );
    }

    class SecondPage extends StatelessWidget {
      final UserController controller = Get.find();
      @override
      Widget build(BuildContext context) => Scaffold(
            appBar: AppBar(title: Text('ç¬¬äºŒé¡µ')),
            body: Center(
              child: Obx(() => Text('ç”¨æˆ·åï¼š${controller.name.value}')),
            ),
          );
    }
    ```

  * [**`Riverpod`**](https://pub.dev/packages/riverpod)

    ```dart
    import 'package:flutter/material.dart';
    import 'package:flutter_riverpod/flutter_riverpod.dart';

    final userProvider = StateProvider<String>((ref) => 'é»˜è®¤å');

    void main() {
      runApp(ProviderScope(child: MyApp()));
    }

    class MyApp extends StatelessWidget {
      @override
      Widget build(BuildContext context) => MaterialApp(home: HomePage());
    }

    class HomePage extends ConsumerWidget {
      @override
      Widget build(BuildContext context, WidgetRef ref) {
        return Scaffold(
          appBar: AppBar(title: Text('é¦–é¡µ')),
          body: Center(
            child: ElevatedButton(
              child: Text('è®¾ç½®ç”¨æˆ·åå¹¶è·³è½¬'),
              onPressed: () {
                ref.read(userProvider.notifier).state = 'Riverpod ç”¨æˆ·';
                Navigator.push(context, MaterialPageRoute(builder: (_) => SecondPage()));
              },
            ),
          ),
        );
      }
    }

    class SecondPage extends ConsumerWidget {
      @override
      Widget build(BuildContext context, WidgetRef ref) {
        final name = ref.watch(userProvider);
        return Scaffold(
          appBar: AppBar(title: Text('ç¬¬äºŒé¡µ')),
          body: Center(child: Text('ç”¨æˆ·åï¼š$name')),
        );
      }
    }
    ```

  * [**`bloc`**](https://pub.dev/packages/bloc)

    ```dart
    import 'package:flutter/material.dart';
    import 'package:flutter_bloc/flutter_bloc.dart';
    
    void main() {
      runApp(BlocProvider(create: (_) => UserCubit(), child: MyApp()));
    }
    
    class UserCubit extends Cubit<String> {
      UserCubit() : super('é»˜è®¤å');
      void updateName(String newName) => emit(newName);
    }
    
    class MyApp extends StatelessWidget {
      @override
      Widget build(BuildContext context) => MaterialApp(home: HomePage());
    }
    
    class HomePage extends StatelessWidget {
      @override
      Widget build(BuildContext context) {
        final cubit = context.read<UserCubit>();
        return Scaffold(
          appBar: AppBar(title: Text('é¦–é¡µ')),
          body: Center(
            child: ElevatedButton(
              child: Text('è®¾ç½®ç”¨æˆ·åå¹¶è·³è½¬'),
              onPressed: () {
                cubit.updateName('Bloc ç”¨æˆ·');
                Navigator.push(context, MaterialPageRoute(builder: (_) => SecondPage()));
              },
            ),
          ),
        );
      }
    }
    
    class SecondPage extends StatelessWidget {
      @override
      Widget build(BuildContext context) {
        return Scaffold(
          appBar: AppBar(title: Text('ç¬¬äºŒé¡µ')),
          body: Center(
            child: BlocBuilder<UserCubit, String>(
              builder: (context, state) => Text('ç”¨æˆ·åï¼š$state'),
            ),
          ),
        );
      }
    }
    ```

  > âœ… ä¼˜ç‚¹ï¼šé€‚åˆè·¨é¡µé¢ä¼ é€’å¤§é‡æ•°æ®
  >  âŒ ç¼ºç‚¹ï¼šå¯èƒ½è¿‡åº¦ä¾èµ–å…¨å±€çŠ¶æ€ï¼Œè°ƒè¯•æˆæœ¬é«˜

* é€šè¿‡å•ä¾‹ç±»æˆ–é™æ€å˜é‡ä¼ å‚

  > âœ… ä¼˜ç‚¹ï¼šç®€å•ç²—æš´
  >  âŒ ç¼ºç‚¹ï¼šä¸æ¨èç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œæ•°æ®æ±¡æŸ“é£é™©é«˜

  ```dart
  /// ä¾‹ï¼šç”¨ä¸€ä¸ªå•ä¾‹ç¼“å­˜ä¸´æ—¶å‚æ•°ï¼ˆä¸æ¨èï¼Œä½†å¯åº”æ€¥ï¼‰
  class PageCache {
    static String? tempMessage;
  }

  // è®¾ç½®å‚æ•°
  PageCache.tempMessage = 'Hello';

  // åœ¨æ–°é¡µé¢è¯»å–
  Text(PageCache.tempMessage ?? '')
  ```

* ä½¿ç”¨ `RouteSettings` è‡ªå®šä¹‰å‚æ•°ï¼ˆè¿›é˜¶å‘½åè·¯ç”±ï¼‰

  > âœ… ä¼˜ç‚¹ï¼šé€‚åˆå¤§å‹é¡¹ç›®è¿›è¡Œé›†ä¸­ç»Ÿä¸€è·¯ç”±å¤„ç†
  >  âŒ ç¼ºç‚¹ï¼šå†™æ³•è¾ƒå¤æ‚

  ```dart
  onGenerateRoute: (settings) {
    if (settings.name == '/second') {
      final args = settings.arguments as Map;
      return MaterialPageRoute(
        builder: (_) => SecondPage(name: args['name']),
      );
    }
  }
  ```

* å‘½åè·¯ç”± + `ModalRoute.of(context)?.settings.arguments`ï¼š**é€‚åˆå¤šé¡µé¢ç»Ÿä¸€ç®¡ç†æ—¶ä½¿ç”¨**

  > âœ… ä¼˜ç‚¹ï¼šæ­é… `onGenerateRoute` å¯ç»Ÿä¸€è·¯ç”±ç®¡ç†
  >  âŒ ç¼ºç‚¹ï¼šå‚æ•°ç±»å‹æ ¡éªŒé è‡ªå·±ï¼Œä¸å¦‚æ„é€ å‡½æ•°å®‰å…¨

   ```dart
   /// æ³¨å†Œè·¯ç”±ï¼š
   MaterialApp(
     initialRoute: '/',
     routes: {
       '/': (context) => HomePage(),
       '/second': (context) => SecondPage(),
     },
   );
   ```

  ```dart
  /// è·³è½¬ä¼ å‚ï¼š
  Navigator.pushNamed(
    context,
    '/second',
    arguments: {'name': 'Jobs'},
  );
  ```

  ```dart
  /// æ¥æ”¶å‚æ•°ï¼š
  class SecondPage extends StatelessWidget {
    @override
    Widget build(BuildContext context) {
      final args = ModalRoute.of(context)?.settings.arguments as Map?;
      final name = args?['name'];
  
      return Scaffold(
        body: Center(child: Text('Hello $name')),
      );
    }
  }
  ```

#### 14.2ã€è¿”å‘ä¼ å‚ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

* æ ‡å‡†å‹

   ```dart
   final result = await Navigator.push(...);
   Navigator.pop(context, è¿”å›å€¼);
   ```

* å…¨å±€å˜é‡æˆ–çŠ¶æ€ç®¡ç†å™¨ä¼ å‚ï¼šï¼ˆå¦‚ä½¿ç”¨  [**`Provider`**](https://pub.dev/packages/provider)ã€[**`GetX`**](https://pub.dev/packages/get) ã€[**`Riverpod`**](https://pub.dev/packages/riverpod)ã€[**Bloc**](https://pub.dev/packages/bloc) ç­‰çŠ¶æ€ç®¡ç†æ¡†æ¶å…±äº«æ•°æ®ï¼‰

  *  [**`Provider`**](https://pub.dev/packages/provider)

    é€šè¿‡æ¨¡å‹åŒæ­¥ï¼ˆé—´æ¥ä¼ å‚ï¼‰

    ```dart
    class UserModel extends ChangeNotifier {
      String result = 'æ— ';
      void setResult(String value) {
        result = value;
        notifyListeners();/// notifyListeners(); ä¸æ˜¯â€œå…¨å±€â€é€šçŸ¥ï¼Œè€Œæ˜¯å¯¹æ³¨å†Œäº†å®ƒè¿™ä¸ªå¯¹è±¡çš„æ‰€æœ‰ç›‘å¬è€…å‘é€šçŸ¥ã€‚
      }
    }

    // é¦–é¡µ
    ElevatedButton(
      onPressed: () async {
        Navigator.push(context, MaterialPageRoute(builder: (_) => SecondPage()));
      },
      child: Text('è·³è½¬åˆ°ç¬¬äºŒé¡µ'),
    ),
    Text('è¿”å›ç»“æœï¼š${Provider.of<UserModel>(context).result}'),

    // ç¬¬äºŒé¡µ
    onPressed: () {
      Provider.of<UserModel>(context, listen: false).setResult('Provider çš„è¿”å›å€¼');
      Navigator.pop(context);
    },
    ```

  * [<font color=red>**`GetX`**</font>](https://pub.dev/packages/get)

    ä½¿ç”¨ `Get.back(result: value)`ï¼ˆæ ‡å‡†æ–¹å¼ï¼‰

    ```dart
    // é¦–é¡µ
    ElevatedButton(
      onPressed: () async {
        final result = await Get.to(() => SecondPage());
        print('è¿”å›å€¼ï¼š$result');
      },
      child: Text('è·³è½¬å¹¶æ¥æ”¶è¿”å›å€¼'),
    );

    // ç¬¬äºŒé¡µ
    ElevatedButton(
      onPressed: () => Get.back(result: 'GetX çš„è¿”å›å€¼'),
      child: Text('è¿”å›å¹¶ä¼ å€¼'),
    );
    ```

  * [**`Riverpod`**](https://pub.dev/packages/riverpod)

    ä¿®æ”¹çŠ¶æ€å† popï¼ˆé—´æ¥ï¼‰

    ```dart
    final resultProvider = StateProvider<String>((ref) => 'æ— ');

    // é¦–é¡µ
    ElevatedButton(
      onPressed: () async {
        await Navigator.push(context, MaterialPageRoute(builder: (_) => SecondPage()));
      },
      child: Text('è·³è½¬'),
    ),
    Text('è¿”å›å€¼ï¼š${ref.watch(resultProvider)}'),

    // ç¬¬äºŒé¡µ
    ref.read(resultProvider.notifier).state = 'Riverpod è¿”å›å€¼';
    Navigator.pop(context);
    ```

  * [**`Bloc`**](https://pub.dev/packages/bloc)

    emit çŠ¶æ€å popï¼ˆé—´æ¥ï¼‰

    ```dart
    class ResultCubit extends Cubit<String> {
      ResultCubit() : super('æ— ');
      void setResult(String val) => emit(val);
    }
    
    // é¦–é¡µ
    BlocBuilder<ResultCubit, String>(
      builder: (_, result) => Column(
        children: [
          ElevatedButton(
            onPressed: () => Navigator.push(context, MaterialPageRoute(builder: (_) => SecondPage())),
            child: Text('è·³è½¬'),
          ),
          Text('è¿”å›å€¼ï¼š$result'),
        ],
      ),
    );
    
    // ç¬¬äºŒé¡µ
    context.read<ResultCubit>().setResult('Bloc çš„è¿”å›å€¼');
    Navigator.pop(context);
    ```

### 15ã€ğŸ–¥ï¸Flutterå±å¹•é€‚é…æ–¹æ¡ˆ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| å·¥å…·/æ–¹å¼            | ä½œç”¨                       | ç”¨æ³•ç¤ºä¾‹                                                     |
| -------------------- | -------------------------- | ------------------------------------------------------------ |
| `MediaQuery`         | è·å–å±å¹•å®½é«˜/è¾¹è·/é”®ç›˜é«˜åº¦ | `MediaQuery.of(context).size.height`                         |
| `SafeArea`           | è‡ªåŠ¨é¿å¼€çŠ¶æ€æ /å¯¼èˆªæ       | `SafeArea(child: ...)`                                       |
| `flutter_screenutil` | å±å¹•å°ºå¯¸é€‚é…ï¼ˆdp/spç»Ÿä¸€ï¼‰  | `20.w`, `14.sp`, `EdgeInsets.all(10.r)`                      |
| `LayoutBuilder`      | è‡ªé€‚åº”å¸ƒå±€å¤§å°åˆ¤æ–­         | `constraints.maxWidth < 600 ? PhoneLayout() : TabletLayout()` |
| `KeyboardVisibility` | é”®ç›˜å¼¹å‡ºç›‘å¬ï¼Œå¤„ç†é®æŒ¡é—®é¢˜ | `KeyboardVisibilityController().onChange.listen(...)`        |

#### 15.1ã€[**flutter_screenutil**](https://pub.dev/packages/flutter_screenutil)  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

* â€¼ï¸é‡è¦è¯´æ˜

  * [**ScreenUtilInit**](https://pub.dev/packages/flutter_screenutil).**builder** åé¢çš„å‚æ•°

    | App ç±»å‹                              | æ˜¯å¦æ”¯æŒ                                  | åŸå› è¯´æ˜                                         |
    | ------------------------------------- | ----------------------------------------- | ------------------------------------------------ |
    | `MaterialApp`                         | âœ… æ”¯æŒ                                    | å®˜æ–¹æ¨èç”¨æ³•ï¼Œå†…éƒ¨å·²å¤„ç† context åˆå§‹åŒ–é€»è¾‘      |
    | `CupertinoApp`                        | âŒ ä¸æ”¯æŒ                                  | æ—  `MediaQuery`ï¼Œ`ScreenUtil` åˆå§‹åŒ–å¤±è´¥æˆ–ä¸å®Œæ•´ |
    | `GetMaterialApp`                      | âŒ ä¸ç›´æ¥æ”¯æŒ                              | å†…éƒ¨ç»“æ„ä¸åŒï¼Œ`context` è·å–æ—¶æœºä¸åŒ             |
    | `WidgetsApp`                          | âš ï¸ å‹‰å¼ºæ”¯æŒ                                | éœ€è‡ªå·±ç¡®ä¿ `MediaQuery` æ³¨å…¥ï¼Œä½¿ç”¨å—é™           |
    | `Builder` åŒ…è£… + ä»»æ„ Appï¼ˆå¦‚ä¸‹æ‰€ç¤ºï¼‰ | âœ… <font color=red>**æ¨èæ›¿ä»£æ–¹æ¡ˆ**</font> | æ‰‹åŠ¨ä¼ å…¥ `context`ï¼Œå¯å…¼å®¹ä»»ä½•æ¡†æ¶ï¼ˆåŒ…æ‹¬ GetXï¼‰  |

  * `ScreenUtilInit` å†…éƒ¨ä¾èµ–ï¼š

    - `MediaQuery.of(context)` åˆå§‹åŒ–è®¾å¤‡å°ºå¯¸ç­‰ï¼›
    - `WidgetsBinding.instance.window.physicalSize` æ˜¯å…œåº•ï¼›
    - ä¸€èˆ¬é€šè¿‡ `MaterialApp` åˆ›å»ºå®Œæ•´çš„ widget æ ‘ï¼ŒåŒ…æ‹¬ `MediaQuery`ã€`Localizations` ç­‰ã€‚

* ä½¿ç”¨

  ```yaml
  dependencies:
    flutter_screenutil: any
  ```

  ```dart
  import 'package:flutter_screenutil/flutter_screenutil.dart';
  ```

  ```dart
  Widget build(BuildContext context) => ScreenUtilInit(
      designSize: const Size(1125, 2436),// ğŸ‘ˆ æŒ‡å®šè®¾è®¡ç¨¿å°ºå¯¸
      minTextAdapt: true,
      builder: (context, child) => GetMaterialApp(/// â† å¯ä»¥æ›¿æ¢æˆ CupertinoAppã€WidgetsApp ç­‰
          debugShowCheckedModeBanner: false,
          title: title ?? 'GetX Demo',
          theme: ThemeData(
            primarySwatch: Colors.blue,
          ),
          home: Builder(
            builder: (ctx) => Scaffold(
              appBar: AppBar(
                title:
                    Text(title ?? (child?.runtimeType.toString() ?? 'Builder')),
              ),
              body: builder != null ? builder!(ctx) : child!,
            ),
          ),
        )
    );
  ```

  ```dart
  520.h     // è¡¨ç¤ºé«˜åº¦é€‚é…å€¼
  300.w     // è¡¨ç¤ºå®½åº¦é€‚é…å€¼
  16.sp     // è¡¨ç¤ºå­—ä½“å¤§å°é€‚é…å€¼
  ```

#### 15.2ã€**SafeArea** <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

* å‚è€ƒ
  * [**SafeArea & MediaQuery**](https://docs.flutter.dev/ui/adaptive-responsive/safearea-mediaquery)
  * [**Layouts in Flutter**](https://docs.flutter.dev/ui/layout)

* ç³»ç»Ÿé®æŒ¡åŒºçš„å®šä¹‰ğŸ‘‡

  | åœºæ™¯               | è¯´æ˜                                                         |
  | ------------------ | ------------------------------------------------------------ |
  | â« é¡¶éƒ¨çŠ¶æ€æ        | iOS é¡¶éƒ¨åˆ˜æµ·ã€çŠ¶æ€æ ï¼›Android é€šçŸ¥æ                          |
  | â¬ åº•éƒ¨ç³»ç»Ÿå¯¼èˆªæ    | Androidåº•éƒ¨å¯¼èˆªæŒ‰é’®åŒºåŸŸï¼ˆBack/Home/Recentï¼‰                  |
  | ğŸ•³ï¸ iPhone åˆ˜æµ·/ä¸‹å·´ | iPhone **X**/**11**/**12**/**13**/**14**/**15** ç³»åˆ—çš„`å‡¹å£`å’Œ`ä¸‹å·´`åŒºåŸŸ |
  | ğŸ†˜ æ¨ªå±ä¸‹çš„å·¦å³è¾¹ç¼˜ | ä¸€äº›è®¾å¤‡æ¨ªå±æ—¶ä¼šæœ‰ä¾§è¾¹æ‰‹åŠ¿æ                                  |

* æ¸©é¦¨æç¤º

  *  **é€‚åˆç”¨äºé¡¶å±‚å¸ƒå±€å®¹å™¨ï¼Œè‡ªåŠ¨ï¼ˆå¯é€‰é¿è®©æ–¹å‘ï¼‰é¿å¼€ç³»ç»Ÿé®æŒ¡åŒºåŸŸçš„`Widget`**

    ```dart
    SafeArea(
      top: false, // å¦‚æœå·²ç»æœ‰ AppBarï¼Œå°±ä¸éœ€è¦é¡¶éƒ¨é¿è®©
      child: Scaffold(
        body: ...
      ),
    )
    ```

  * `SafeArea` é€šå¸¸åº”è¯¥æ”¾åœ¨æœ€å¤–å±‚ï¼ˆæˆ–æ¥è¿‘æœ€å¤–å±‚ï¼‰ï¼Œä¸”**å…¨å±€åªéœ€è¦ç”¨ä¸€æ¬¡**

  * ä¸åº”è¯¥åœ¨ **`main()`** ä¸­ä½¿ç”¨ `SafeArea`ï¼š**`SafeArea` ä¾èµ–äº `MediaQuery`ï¼Œè€Œ `main()` æ²¡æœ‰æ„å»ºä¸Šä¸‹æ–‡**

    * `SafeArea` çš„å·¥ä½œæœºåˆ¶ï¼šå®ƒä» `MediaQuery.of(context)` ä¸­è·å–ç³»ç»Ÿçš„å®‰å…¨åŒºåŸŸï¼ˆçŠ¶æ€æ ã€åˆ˜æµ·ã€å¯¼èˆªæ ç­‰ï¼‰è¿›è¡Œ paddingã€‚
    * è€Œ `main()` ä¸­ï¼Œè¿˜æ²¡æœ‰æ„å»º `MaterialApp`ï¼Œæ²¡æœ‰ä¸Šä¸‹æ–‡æ ‘ï¼Œè‡ªç„¶æ²¡æœ‰ `MediaQuery`ï¼Œæ‰€ä»¥ `SafeArea` æ— æ³•ç”Ÿæ•ˆã€‚

  * ğŸ’¥ **ä¸è¦åµŒå¥—å¤šä¸ª `SafeArea`**ï¼šä¼šå¯¼è‡´ `MediaQuery` `padding` è¢«å¤šæ¬¡åº”ç”¨ï¼Œé€ æˆå¸ƒå±€åç§»ã€‚<font color=red>è‹¥æœ‰åµŒå¥—éœ€æ±‚ï¼Œä½¿ç”¨ **`MediaQuery.removePadding`**</font>

    * ä½¿ç”¨ `MediaQuery.removePadding`ï¼ˆå…¼å®¹æ—§ç‰ˆ Flutterï¼‰

      ğŸ”¹ ä¼˜ç‚¹ï¼šå…¼å®¹æ—§ç‰ˆæœ¬
      ğŸ”¹ ç¼ºç‚¹ï¼šè¦æ‰‹åŠ¨æŒ‡å®š `removeTop`ã€`removeBottom`ï¼Œé€»è¾‘ç•¥å¤æ‚

      ```dart
      SafeArea(
        child: MediaQuery.removePadding(
          context: context,
          removeTop: true, // æ ¹æ®éœ€æ±‚ç§»é™¤
          removeBottom: true,
          child: YourNestedContent(),
        ),
      )
      ```

  * ğŸ’¥ **ä¸è¦ä¸ `Scaffold.resizeToAvoidBottomInset` å†²çªä½¿ç”¨**ï¼šä¼šå‡ºç°å¸ƒå±€è·³åŠ¨ã€æŒ¤å‹ã€åº•éƒ¨ç©ºé—´é”™è¯¯ç­‰é—®é¢˜

    * æ¨èåªç”¨ `SafeArea` æˆ–ä½¿ç”¨ `resizeToAvoidBottomInset: false`

      ```dart
      Scaffold(
        resizeToAvoidBottomInset: false, // é¿å… SafeArea å†²çª
        body: SafeArea(
          child: ...,
        ),
      )
      ```

  * ğŸŸ¡ **ä¸èƒ½ä»£æ›¿é”®ç›˜é¿è®©æœºåˆ¶**ï¼š`SafeArea` åªè€ƒè™‘ç³»ç»Ÿ UIï¼ˆå¦‚çŠ¶æ€æ ã€åˆ˜æµ·ã€åº•éƒ¨ Home æŒ‡ç¤ºå™¨ç­‰ï¼‰ï¼Œä¸è´Ÿè´£é”®ç›˜é¿è®©

    * å¦‚æœæœ‰é”®ç›˜å¼¹å‡ºéœ€æ±‚ï¼Œéœ€ç»“åˆ `MediaQuery` æˆ– `KeyboardAvoider` ç­‰æ‰‹åŠ¨å¤„ç†ã€‚

  * âš ï¸ **å¯¹ Dialog/Overlay ç­‰ä¸æ˜¯åœ¨æ ¹èŠ‚ç‚¹æ¸²æŸ“çš„å†…å®¹æ— æ•ˆ**ï¼š`SafeArea` å¿…é¡»åœ¨æ‹¥æœ‰ `MediaQuery` çš„ä¸Šä¸‹æ–‡ä¸­æ‰èµ·ä½œç”¨ï¼ˆé€šå¸¸æ˜¯ `MaterialApp` æˆ– `WidgetsApp` ä¹‹ä¸‹ï¼‰ï¼Œå¦åˆ™æ— æ•ˆã€‚

  * **`CupertinoPageScaffold` è‡ªå¸¦ SafeArea è¡Œä¸º**ï¼Œä½†è‡ªå®šä¹‰é¡µé¢ä»éœ€è¦æ‰‹åŠ¨å¤„ç†ã€‚

  * âš ï¸ **ä¸ `AppBar` å…±ç”¨æ—¶åº”åªä½œç”¨äº body**ï¼šå¦åˆ™ä¼šè®© AppBar æœ‰é¢å¤–é¡¶éƒ¨è¾¹è·ï¼Œä¸€èˆ¬åªåŒ…è£¹ `Scaffold.body` å³å¯ã€‚

#### 15.3ã€ğŸ“ é”®ç›˜é®æŒ¡é€šç”¨å¤„ç†æ–¹æ¡ˆ  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

ğŸŒ¹ç±»ä¼¼äºiOSé‡Œé¢çš„[**IQKeyboardManager**](https://github.com/hackiftekhar/IQKeyboardManager)ï¼ŒğŸ‘‰ **ç›‘å¬é”®ç›˜çš„é«˜åº¦å˜åŒ–ï¼ŒåŠ¨æ€å°†è§†å›¾å¾€ä¸Šæ¨è¿™ä¹ˆå¤šè·ç¦»ï¼Œé¿å…è¾“å…¥æ§ä»¶è¢«é®æŒ¡ã€‚**

> **MediaQuery**.**of(context)**.**viewInsets**.**bottom**ï¼Œæ˜¯ Flutter æä¾›çš„ä¸€ä¸ª<u> **åŠ¨æ€å€¼**</u>ï¼Œè¡¨ç¤ºï¼šå½“å‰å±å¹•åº•éƒ¨è¢«â€œç³»ç»Ÿé®æŒ¡â€çš„é«˜åº¦
>
> | ç³»ç»Ÿé®æŒ¡ | MediaQuery.of(context).viewInsets.bottom å€¼ |
> | -------- | ------------------------------------------- |
> | æ²¡æœ‰é®æŒ¡ | 0                                           |
> | é”®ç›˜å¼¹å‡º | é”®ç›˜çš„å®é™…é«˜åº¦ï¼ˆæ¯”å¦‚ 300ï¼‰                  |

```dart
/// âŒ å¦‚æœä½ ä»€ä¹ˆéƒ½ä¸å¤„ç†ï¼š
/// é”®ç›˜ä¸€å¼¹å‡º
/// TextField å°±ä¼šè¢« ç›´æ¥æŒ¡ä½
/// é¡µé¢ä¸èƒ½æ»‘åŠ¨ï¼Œä½ æ ¹æœ¬çœ‹ä¸åˆ°å®ƒäº†
Scaffold(
  body: Column(
    children: [
      Spacer(),
      TextField(), // è¾“å…¥æ¡†é ä¸‹
    ],
  ),
)
```

```dart
/// é”®ç›˜æœªå¼¹å‡º	é¡µé¢æ­£å¸¸æ˜¾ç¤º
/// é”®ç›˜å¼¹å‡º	è¢«é”®ç›˜æŒ¡ä½çš„åŒºåŸŸä¼šè¢« Padding é¡¶ä¸Šæ¥
/// å†…å®¹è¶…å‡º	SingleChildScrollView å…è®¸ä½ æ»šåŠ¨çœ‹åˆ°å…¨éƒ¨å†…å®¹ï¼ˆå³ä½¿è¢«é”®ç›˜æŒ¡ä½ï¼‰
/// ğŸ”¥ SafeArea + SingleChildScrollView + Padding
SafeArea(
  child: Scaffold(
    resizeToAvoidBottomInset: true,
    body: SingleChildScrollView(
      child: Padding(
        /// åœ¨åº•éƒ¨æ·»åŠ ä¸€ä¸ªåŠ¨æ€çš„ paddingï¼ˆå†…è¾¹è·ï¼‰
        /// å®ƒçš„å€¼æ˜¯ï¼šMediaQuery.of(context).viewInsets.bottom
        /// ä¹Ÿå°±æ˜¯æŠŠä½ çš„é¡µé¢å†…å®¹æ•´ä½“å¾€ä¸Šæ¨è¿™ä¹ˆå¤šç©ºé—´ï¼Œé¿å…è¾“å…¥æ¡†è¢«é”®ç›˜æŒ¡ä½ã€‚
        padding: EdgeInsets.only(bottom: MediaQuery.of(context).viewInsets.bottom),
        child: Column(
          children: [
      			Spacer(),
     			  TextField(), // è¾“å…¥æ¡†é ä¸‹
   			  ],
        ),
      ),
    ),
  ),
)
```

* Flutter æ²¡æœ‰åƒ iOS é‚£æ ·åŸç”Ÿçš„ `keyboardWillShow` äº‹ä»¶ï¼Œä½†å¯ä»¥é€šè¿‡ï¼š

  - `MediaQuery.of(context).viewInsets.bottom`
  - æˆ–è€… `flutter_keyboard_visibility` åŒ…æ¥ç›‘å¬é”®ç›˜çŠ¶æ€å˜åŒ–

  æ‰‹åŠ¨åŠ  `ScrollView + Padding`ï¼Œå°±ç­‰åŒäº**Flutter ç‰ˆ IQKeyboardManager**

#### 15.4ã€ğŸ”„ å“åº”å¼å¸ƒå±€ï¼šæ ¹æ®å®½åº¦åˆ‡æ¢å¸ƒå±€  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

```dart
LayoutBuilder(
  builder: (context, constraints) {
    if (constraints.maxWidth < 600) {
      return PhoneLayout();
    } else {
      return TabletLayout();
    }
  },
)
```

### 16ã€Dart.Object <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> åœ¨ Dart ä¸­ï¼Œ**æ‰€æœ‰ç±»æœ€ç»ˆéƒ½ç»§æ‰¿è‡ª `Object`**ï¼Œæ‰€ä»¥è¿™äº›æ–¹æ³•æ¯ä¸ªç±»éƒ½è‡ªåŠ¨æ‹¥æœ‰

| æ–¹æ³•                                  | è¿”å›ç±»å‹  | ä½œç”¨                                                         | æ˜¯å¦å¸¸é‡å†™                  |
| ------------------------------------- | --------- | ------------------------------------------------------------ | --------------------------- |
| `toString()`                          | `String`  | å°†å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œå¸¸ç”¨äºæ‰“å°ã€æ—¥å¿—è°ƒè¯•ã€‚                   | âœ… ç»å¸¸é‡å†™ï¼Œç”¨äºè°ƒè¯•æ‰“å°ç­‰  |
| `operator ==(Object other)`           | `bool`    | æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰                                         | âœ… è‡ªå®šä¹‰æ¯”è¾ƒé€»è¾‘æ—¶å¿…é¡»é‡å†™  |
| `get hashCode`                        | `int`     | è¿”å›å¯¹è±¡çš„å“ˆå¸Œå€¼ï¼Œé…åˆ `==` ä½¿ç”¨<br>**åœ¨å†…å­˜ä¸­å¿«é€Ÿå®šä½/æŸ¥æ‰¾ç”¨çš„ ID** | âœ… å¦‚æœé‡å†™ `==`ï¼Œå¿…é¡»é‡å†™å®ƒ |
| `noSuchMethod(Invocation invocation)` | `dynamic` | æ‹¦æˆªæœªå®šä¹‰æ–¹æ³•è°ƒç”¨ã€‚<br>æ•è·æœªå®šä¹‰çš„æ–¹æ³•è°ƒç”¨ï¼ˆåŠ¨æ€è°ƒç”¨æ—¶ï¼‰ï¼Œç”¨äºå®ç°â€œä»£ç†â€ã€â€œMockâ€ã€â€œåŠ¨æ€æ¥å£â€ç­‰ã€‚ | âš ï¸ é«˜çº§ç”¨æ³•ï¼Œè¾ƒå°‘ç”¨          |
| `runtimeType`                         | `Type`    | è¿”å›å½“å‰å¯¹è±¡çš„è¿è¡Œæ—¶å®é™…ç±»å‹ï¼Œå¸¸ç”¨äºè°ƒè¯•æˆ–ç±»å‹åˆ¤æ–­           | âŒ ä¸èƒ½é‡å†™ï¼Œåªèƒ½è°ƒç”¨        |
| `identical(a, b)`                     | `bool`    | åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºåŒä¸€å¼•ç”¨                                   | âŒ é™æ€æ–¹æ³•ï¼Œä¸å¯é‡å†™        |

```dart
class XXX{}
/// ğŸ‘†ç­‰ä»·äºğŸ‘‡ï¼š
class XXX extends Object{}
```

### 17ã€Flutterä¸­ï¼Œæ”¯æŒ<font color=red>**æ»‘åŠ¨**</font>çš„æ‰€æœ‰æ ¸å¿ƒ**`Widget`** <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> Gridï¼šç½‘æ ¼

* æ»šåŠ¨æ¡

  * iOS æ»šåŠ¨æŒ‡ç¤ºå™¨æ˜¯ `UIScrollView` è‡ªå¸¦çš„

    | ç‰¹ç‚¹               | æè¿°                                                         |
    | ------------------ | ------------------------------------------------------------ |
    | **å†…ç½®æŒ‡ç¤ºå™¨**     | æ»šåŠ¨æ¡ï¼ˆscroll indicatorï¼‰æ˜¯ `UIScrollView` è‡ªå¸¦çš„ UI è¡Œä¸º   |
    | **æ— éœ€é…ç½®**       | ç³»ç»Ÿè‡ªåŠ¨æ ¹æ® `contentOffset` å’Œ `contentSize` æ¥å†³å®šæ˜¯å¦æ˜¾ç¤ºæ»šåŠ¨æ¡ |
    | **å¼€å¯/å…³é—­æ§åˆ¶**  | é€šè¿‡å±æ€§æ§åˆ¶ï¼š`showsVerticalScrollIndicator = YES/NO`        |
    | **æ— æ³•è‡ªå®šä¹‰**     | æ ·å¼å’Œä½ç½®éš¾ä»¥è‡ªå®šä¹‰ï¼Œé™¤éç§æœ‰ API æˆ–è¦†ç›–å­è§†å›¾ï¼ˆä¸æ¨èï¼‰    |
    | **æ»šåŠ¨é©±åŠ¨æŒ‡ç¤ºå™¨** | æ»šåŠ¨è¡Œä¸ºè‡ªåŠ¨é©±åŠ¨æŒ‡ç¤ºå™¨å˜åŒ–ï¼Œæ— éœ€å¼€å‘è€…æ‰‹åŠ¨å¹²é¢„               |

  * Flutter æ»šåŠ¨æŒ‡ç¤ºå™¨æ˜¯ç‹¬ç«‹çš„ `Scrollbar` ç»„ä»¶

    | ç‰¹ç‚¹                    | æè¿°                                                         |
    | ----------------------- | ------------------------------------------------------------ |
    | **ä¸æ˜¯å†…ç½®çš„**          | é»˜è®¤çš„ `ListView` / `SingleChildScrollView` æ˜¯**æ²¡æœ‰æ»šåŠ¨æ¡**çš„ |
    | **éœ€è¦æ‰‹åŠ¨åŒ…è£¹**        | å¿…é¡»å¤–å±‚æ‰‹åŠ¨åŒ…ä¸€å±‚ `Scrollbar` æ‰æœ‰æ»šåŠ¨æ¡æ•ˆæœ                |
    | **éœ€è¦å…±äº« controller** | `Scrollbar` è¦å’Œå†…éƒ¨æ»šåŠ¨ç»„ä»¶**å…±ç”¨ä¸€ä¸ª `ScrollController`**ï¼Œæ‰èƒ½åŒæ­¥æ»šåŠ¨ |
    | **æ”¯æŒè‡ªå®šä¹‰æ ·å¼**      | å¯ä»¥è®¾ç½®é¢œè‰²ã€åšåº¦ã€æ˜¯å¦æ€»æ˜¯æ˜¾ç¤ºã€æ˜¯å¦äº¤äº’æ‹–åŠ¨ç­‰             |
    | **æ»šåŠ¨é©±åŠ¨æŒ‡ç¤ºå™¨**      | ç”± controller é©±åŠ¨æ»šåŠ¨ï¼Œ`Scrollbar` é€šè¿‡ç»‘å®š controller æ¥åŒæ­¥æ»šåŠ¨ä½ç½® |

  * ğŸ“Œ æ€»ç»“

    | å¯¹æ¯”ç‚¹             | iOS                 | Flutter                              |
    | ------------------ | ------------------- | ------------------------------------ |
    | æ»šåŠ¨æ¡æ¥æº         | `UIScrollView` å†…ç½® | éœ€è¦æ‰‹åŠ¨ç”¨ `Scrollbar` åŒ…è£¹          |
    | æ»šåŠ¨æ¡æ˜¯å¦è‡ªåŠ¨åŒæ­¥ | âœ… ç³»ç»Ÿè‡ªåŠ¨          | âŒ éœ€é€šè¿‡ `ScrollController` æ‰‹åŠ¨åŒæ­¥ |
    | æ˜¯å¦å¯ä»¥è‡ªå®šä¹‰     | âŒ éå¸¸å—é™          | âœ… é¢œè‰²ã€å®½åº¦ã€äº¤äº’ã€æ‹–æ‹½ç­‰å…¨å¯è‡ªå®šä¹‰ |
    | æ˜¯å¦å¯ä»¥æ‹–åŠ¨æ¡æ»šåŠ¨ | âŒ ä¸èƒ½ï¼ˆä»…è§†è§‰ï¼‰    | âœ… `interactive: true` æ”¯æŒæ‹–åŠ¨æ»šåŠ¨   |

* Flutter åŸç”ŸSDKå†…ç½®çš„æ»šåŠ¨ç»„ä»¶

  | ç±»å‹       | Widget                                              | è¯´æ˜                     |
  | ---------- | --------------------------------------------------- | ------------------------ |
  | åˆ—è¡¨ç±»     | `ListView`                                          | å¸¸ç”¨çº¿æ€§æ»šåŠ¨åˆ—è¡¨         |
  | ç½‘æ ¼ç±»     | `GridView`                                          | ç±»ä¼¼ `UICollectionView`  |
  | åˆ†é¡µç±»     | `PageView`                                          | å·¦å³æ»‘åŠ¨åˆ†é¡µ             |
  | å•ç»„ä»¶æ»šåŠ¨ | `SingleChildScrollView`                             | åµŒå¥—æ»šåŠ¨æˆ–è¡¨å•æ»‘åŠ¨å¸¸ç”¨   |
  | å¯é‡æ’åˆ—è¡¨ | `ReorderableListView`                               | å†…ç½®æ‹–æ‹½é‡æ’             |
  | ç»„åˆæ»šåŠ¨   | `CustomScrollView` + `SliverList` / `SliverGrid`    | å¤æ‚ç»“æ„æ»šåŠ¨             |
  | å¤šæ»šåŠ¨åµŒå¥— | `NestedScrollView`                                  | æ»‘åŠ¨è”åŠ¨ï¼ˆå¦‚é¡¶éƒ¨æŠ˜å ï¼‰   |
  | æ»šåŠ¨å¢å¼º   | `Scrollbar`ã€`RefreshIndicator`ã€`ScrollController` | æ»šåŠ¨æ¡ã€åˆ·æ–°ã€è·³è½¬æ§åˆ¶ç­‰ |

  ```dart
  /// ListView
  Widget build(BuildContext context) {
    return ListView.builder(
      itemCount: 20, // åˆ—è¡¨é¡¹æ•°é‡
      itemBuilder: (context, index) {
        return ListTile(title: Text('Item $index'));
      },
      scrollDirection: Axis.vertical, // æ»šåŠ¨æ–¹å‘ï¼ˆé»˜è®¤å‚ç›´ï¼Œå¯è®¾ç½®ä¸º Axis.horizontalï¼‰
      reverse: false, // æ˜¯å¦å€’åºæ˜¾ç¤ºåˆ—è¡¨é¡¹
      controller: ScrollController(), // æ»šåŠ¨æ§åˆ¶å™¨ï¼Œå¯ç”¨äºè·³è½¬æ»šåŠ¨ä½ç½®
      primary: false, // æ˜¯å¦ä½¿ç”¨ä¸»æ»šåŠ¨åŒºåŸŸï¼ˆtrueæ—¶è‡ªåŠ¨è¿æ¥ä¸» ScrollControllerï¼‰
      physics: BouncingScrollPhysics(), // æ»šåŠ¨ç‰©ç†ç‰¹æ€§ï¼ˆæƒ¯æ€§ã€å›å¼¹ã€æ»‘åŠ¨è¡Œä¸ºï¼‰
      shrinkWrap: false, // æ˜¯å¦æ ¹æ®å­ç»„ä»¶å†…å®¹è‡ªåŠ¨æ”¶ç¼©ï¼ˆtrueæ—¶é€‚åˆåµŒå¥—ï¼‰
      padding: EdgeInsets.all(8), // å†…å®¹çš„å†…è¾¹è·
      cacheExtent: 100.0, // é¢„åŠ è½½åŒºåŸŸï¼ˆåˆ—è¡¨æ»šåŠ¨åˆ°ä¸´è¿‘ä½ç½®æ—¶æå‰æ„å»ºï¼‰
      keyboardDismissBehavior: ScrollViewKeyboardDismissBehavior.manual,
      // é”®ç›˜æ”¶èµ·è¡Œä¸ºï¼Œå¯é€‰ manual / onDrag
      restorationId: 'listViewDemo', // çŠ¶æ€æ¢å¤ç”¨çš„ IDï¼Œç”¨äºè®°ä½æ»šåŠ¨ä½ç½®
      clipBehavior: Clip.hardEdge, // å†…å®¹æº¢å‡ºè£å‰ªæ–¹å¼
    );
  }
  ```

  ```dart
  /// GridView
  Widget build(BuildContext context) {
    return GridView.count(
      crossAxisCount: 3, // æ¯è¡Œå‡ ä¸ªæ ¼å­
      mainAxisSpacing: 10.0, // ä¸»è½´ï¼ˆå‚ç›´æ–¹å‘ï¼‰é—´è·
      crossAxisSpacing: 10.0, // æ¨ªå‘é—´è·
      childAspectRatio: 1.0, // å®½é«˜æ¯”ï¼Œ1.0 = æ­£æ–¹å½¢
      scrollDirection: Axis.vertical, // é»˜è®¤å‚ç›´æ»šåŠ¨
      reverse: false, // æ˜¯å¦å€’åºæ˜¾ç¤º
      controller: ScrollController(), // æ»šåŠ¨æ§åˆ¶å™¨
      physics: ClampingScrollPhysics(), // Android é£æ ¼æ»‘åŠ¨ç‰©ç†
      shrinkWrap: false, // æ˜¯å¦è‡ªåŠ¨æ”¶ç¼©ï¼ˆé€‚åˆåµŒå¥—ï¼‰
      padding: EdgeInsets.all(8), // å¤–è¾¹è·
      primary: false, // æ˜¯å¦å ç”¨ä¸»æ»šåŠ¨è§†å›¾
      restorationId: 'gridViewDemo', // çŠ¶æ€æ¢å¤ ID
      clipBehavior: Clip.hardEdge, // å†…å®¹è£å‰ª
      children: List.generate(
        30,
        (index) => Container(
          color: Colors.blue,
          child: Center(child: Text('Item $index')),
        ),
      ),
    );
  }
  ```

  ```dart
  /// PageView
  Widget build(BuildContext context) {
    return PageView.builder(
      itemCount: 5, // é¡µæ•°
      itemBuilder: (context, index) => Center(child: Text('Page $index')),

      scrollDirection: Axis.horizontal, // æ¨ªå‘æˆ–çºµå‘æ»‘åŠ¨ï¼ˆé»˜è®¤æ°´å¹³ï¼‰
      reverse: false, // æ˜¯å¦åå‘æ»‘åŠ¨ï¼ˆå³æ»‘å˜æˆå‰ä¸€é¡µï¼‰
      controller: PageController(
        initialPage: 0, // åˆå§‹é¡µç 
        keepPage: true, // æ˜¯å¦ä¿æŒæ»šåŠ¨çŠ¶æ€
        viewportFraction: 1.0, // é¡µé¢å å±å¹•å®½åº¦æ¯”ä¾‹ï¼ˆ<1 æ—¶å¯æ˜¾ç¤ºéƒ¨åˆ†ä¸‹ä¸€é¡µï¼‰
      ),
      physics: BouncingScrollPhysics(), // æ»‘åŠ¨è¡Œä¸ºï¼Œæ”¯æŒå¼¹æ€§ã€æƒ¯æ€§ã€å›å¼¹
      pageSnapping: true, // æ˜¯å¦è‡ªåŠ¨å¯¹é½æ•´é¡µï¼ˆåˆ†é¡µå¸é™„ï¼‰
      onPageChanged: (index) {
        print('é¡µé¢åˆ‡æ¢åˆ° $index');
      },
      allowImplicitScrolling: false, // æ˜¯å¦å…è®¸â€œæ‡’åŠ è½½ä¸‹ä¸€é¡µâ€ï¼ˆç”¨äºåŠ¨ç”»æå‰æ„å»ºï¼‰
      restorationId: 'pageViewDemo', // çŠ¶æ€æ¢å¤ IDï¼ˆç”¨äºæ¢å¤é¡µç ï¼‰
      clipBehavior: Clip.hardEdge, // è£å‰ªè¡Œä¸º
    );
  }
  ```

  ```dart
  /// SingleChildScrollView
  Widget build(BuildContext context) {
    return SingleChildScrollView(
      scrollDirection: Axis.vertical, // å‚ç›´æˆ–æ°´å¹³æ»šåŠ¨
      reverse: false, // æ˜¯å¦å€’åºæ˜¾ç¤ºï¼ˆé€‚åˆèŠå¤©ç•Œé¢ï¼‰
      padding: EdgeInsets.all(16), // å†…å®¹è¾¹è·
      primary: false, // æ˜¯å¦ä½¿ç”¨ä¸»æ»šåŠ¨è§†å›¾ï¼ˆå¦‚åµŒå¥—æƒ…å†µè®¾ä¸º falseï¼‰
      physics: AlwaysScrollableScrollPhysics(), // æ»‘åŠ¨ç‰©ç†ï¼ˆå…è®¸ç©ºçŠ¶æ€ä¹Ÿèƒ½æ»‘åŠ¨ï¼‰
      controller: ScrollController(), // æ§åˆ¶å™¨ï¼Œå¯ç”¨äºå®šä½æ»šåŠ¨
      clipBehavior: Clip.hardEdge, // å†…å®¹è¶…å‡ºè£å‰ªæ–¹å¼
      keyboardDismissBehavior: ScrollViewKeyboardDismissBehavior.onDrag,
      // æ‹–åŠ¨æ—¶æ˜¯å¦è‡ªåŠ¨æ”¶èµ·é”®ç›˜ï¼ˆé€‚åˆè¡¨å•ï¼‰
      restorationId: 'singleChildScrollViewDemo', // çŠ¶æ€æ¢å¤ ID
      child: Column(
        crossAxisAlignment: CrossAxisAlignment.start,
        children: List.generate(20, (i) => Text('Line $i')),
      ),
    );
  }
  ```

  ```dart
  /// ReorderableListViewï¼ˆæ”¯æŒæ‹–æ‹½æ’åºï¼‰
  Widget build(BuildContext context) {
    return ReorderableListView(
      onReorder: (oldIndex, newIndex) {
        print('ä» $oldIndex æ‹–åŠ¨åˆ° $newIndex');
        // æ‹–åŠ¨å®Œæˆåéœ€è‡ªå·±æ›´æ–°æ•°æ®æºï¼Œå¦åˆ™ UI ä¸ä¼šåˆ·æ–°
      },

      children: List.generate(
        10,
        (index) => ListTile(
          key: ValueKey(index), // ğŸ”¥ å¿…é¡»æä¾› Keyï¼Œå¦åˆ™æ— æ³•æ‹–æ‹½
          title: Text('Item $index'),
          leading: Icon(Icons.drag_handle), // å¯æ‹–åŠ¨æç¤ºå›¾æ ‡
        ),
      ),

      scrollDirection: Axis.vertical, // æ»šåŠ¨æ–¹å‘ï¼ˆé»˜è®¤å‚ç›´ï¼Œå¯æ¨ªå‘ï¼‰
      reverse: false, // æ˜¯å¦å€’åºæ˜¾ç¤º
      controller: ScrollController(), // æ»šåŠ¨æ§åˆ¶å™¨
      padding: EdgeInsets.symmetric(vertical: 12), // åˆ—è¡¨è¾¹è·
      physics: BouncingScrollPhysics(), // æ»šåŠ¨ç‰©ç†ï¼ˆå¼¹æ€§ï¼‰
      proxyDecorator: (child, index, animation) {
        // æ‹–åŠ¨æ—¶è‡ªå®šä¹‰æ‹–æ‹½è§†å›¾æ ·å¼
        return Material(
          elevation: 6,
          child: child,
        );
      },
      buildDefaultDragHandles: true, // æ˜¯å¦ä½¿ç”¨é»˜è®¤æ‹–åŠ¨æ‰‹æŸ„ï¼ˆè®¾ç½® false è‡ªå®šä¹‰ï¼‰
      keyboardDismissBehavior: ScrollViewKeyboardDismissBehavior.onDrag,
      clipBehavior: Clip.hardEdge,
      restorationId: 'reorderListDemo',
    );
  }
  ```

  ```dart
  /// CustomScrollViewï¼ˆç»„åˆå¤šä¸ª Sliver çš„é«˜çº§æ»šåŠ¨ç»“æ„ï¼‰
  Widget build(BuildContext context) {
    return CustomScrollView(
      scrollDirection: Axis.vertical, // æ»šåŠ¨æ–¹å‘
      reverse: false, // æ˜¯å¦å€’åºæ»šåŠ¨
      controller: ScrollController(), // æ»šåŠ¨æ§åˆ¶å™¨
      physics: ClampingScrollPhysics(), // æ»šåŠ¨ç‰©ç†ï¼ˆå®‰å“é£æ ¼ï¼‰
      primary: false,
      shrinkWrap: false, // æ˜¯å¦æ ¹æ®å†…å®¹è‡ªåŠ¨æ”¶ç¼©ï¼ˆé€šå¸¸ä¸º falseï¼‰
      keyboardDismissBehavior: ScrollViewKeyboardDismissBehavior.manual,
      restorationId: 'customScrollViewDemo',
      clipBehavior: Clip.hardEdge,

      slivers: [
        SliverAppBar(
          pinned: true, // æ˜¯å¦å›ºå®šé¡¶éƒ¨ï¼ˆå¸é¡¶ï¼‰
          expandedHeight: 150.0,
          flexibleSpace: FlexibleSpaceBar(
            title: Text('SliverAppBar'),
          ),
        ),
        SliverToBoxAdapter(
          child: Container(
            height: 80,
            color: Colors.amber,
            child: Center(child: Text('æ™®é€šå†…å®¹')),
          ),
        ),
        SliverList(
          delegate: SliverChildBuilderDelegate(
            (context, index) => ListTile(title: Text('Item $index')),
            childCount: 10,
          ),
        ),
        SliverGrid(
          delegate: SliverChildBuilderDelegate(
            (context, index) => Container(
              color: Colors.blue[100 * ((index % 8) + 1)],
              child: Center(child: Text('Grid $index')),
            ),
            childCount: 8,
          ),
          gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(
            crossAxisCount: 2, // æ¯è¡Œå‡ ä¸ª
            mainAxisSpacing: 8,
            crossAxisSpacing: 8,
            childAspectRatio: 1.2,
          ),
        ),
      ],
    );
  }
  ```

  > `CustomScrollView` æ˜¯æ„å»ºå¤æ‚æ»šåŠ¨ç»“æ„çš„æ ¸å¿ƒæ¡†æ¶ï¼Œé€‚åˆå¤„ç†ï¼š
  >
  > - å¸é¡¶ headerï¼ˆSliverAppBarï¼‰
  > - åˆ—è¡¨ + ç½‘æ ¼æ··æ’
  > - å†…å®¹è‡ªé€‚åº” + æ»šåŠ¨è”åŠ¨
  > - æ›¿ä»£ `NestedScrollView` è§£å†³æ€§èƒ½é—®é¢˜

  ```dart
  /// SliverGrid å…¨å±æ€§ç¤ºä¾‹ï¼ˆFlutter åŸç”Ÿ Sliver ç½‘æ ¼ï¼‰
  Widget build(BuildContext context) {
    return CustomScrollView(
      slivers: [
        SliverPadding(
          padding: EdgeInsets.all(8), // å¤–è¾¹è·
          sliver: SliverGrid(
            delegate: SliverChildBuilderDelegate(
              (context, index) {
                return Container(
                  color: Colors.primaries[index % Colors.primaries.length],
                  child: Center(child: Text('Item $index')),
                );
              },
              childCount: 20, // å­é¡¹æ€»æ•°
            ),
            gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(
              crossAxisCount: 3, // æ¯è¡Œæ˜¾ç¤ºå‡ ä¸ªæ ¼å­
              mainAxisSpacing: 10.0, // å‚ç›´æ–¹å‘æ ¼å­ä¹‹é—´çš„é—´è·
              crossAxisSpacing: 10.0, // æ°´å¹³æ–¹å‘æ ¼å­ä¹‹é—´çš„é—´è·
              childAspectRatio: 1.2, // å®½é«˜æ¯”ï¼ˆ>1 è¡¨ç¤ºæ›´å®½ï¼‰
            ),
          ),
        ),
      ],
    );
  }
  ```

  >  âŒ **`SliverGrid` ä¸èƒ½å•ç‹¬ä½œä¸º Widget è¿”å›**ï¼Œå› ä¸ºå®ƒä¸æ˜¯ç»§æ‰¿è‡ª `Widget`ï¼Œè€Œæ˜¯ç»§æ‰¿è‡ª **`SliverMultiBoxAdaptorWidget`**ï¼Œåªèƒ½è¢«æ”¾åœ¨ `CustomScrollView.slivers` ä¸­ä½¿ç”¨ã€‚

  ```dart
  /// NestedScrollViewï¼ˆåµŒå¥—æ»šåŠ¨è§†å›¾ï¼‰
  Widget build(BuildContext context) {
    return NestedScrollView(
      controller: ScrollController(), // å¤–å±‚æ»šåŠ¨æ§åˆ¶å™¨
      physics: BouncingScrollPhysics(), // æ»šåŠ¨ç‰©ç†
      headerSliverBuilder: (context, innerBoxIsScrolled) => [
        SliverAppBar(
          pinned: true, // å›ºå®šé¡¶éƒ¨å¸é¡¶
          expandedHeight: 200.0,
          flexibleSpace: FlexibleSpaceBar(
            title: Text('Nested Header'),
          ),
        ),
      ],
      body: ListView.builder(
        itemCount: 30,
        itemBuilder: (context, index) => ListTile(title: Text('Item $index')),
      ),
      floatHeaderSlivers: false, // header æ˜¯å¦æµ®åŠ¨ï¼ˆå’Œ SliverAppBar çš„ floating è”åŠ¨ï¼‰
      scrollDirection: Axis.vertical,
      clipBehavior: Clip.hardEdge,
      restorationId: 'nestedScrollViewDemo',
    );
  }
  ```

  ```dart
  /// Scrollbarï¼ˆæ·»åŠ æ»šåŠ¨æ¡ï¼‰
  Widget build(BuildContext context) {
    return Scrollbar(
      child: ListView.builder(
        itemCount: 20,
        itemBuilder: (context, index) => ListTile(title: Text('Item $index')),
      ),

      thumbVisibility: true, // å§‹ç»ˆæ˜¾ç¤ºæ»šåŠ¨æ¡ï¼ˆé»˜è®¤åªåœ¨æ»šåŠ¨æ—¶å¯è§ï¼‰
      trackVisibility: true, // æ˜¾ç¤ºæ»šåŠ¨è½¨é“
      interactive: true, // æ˜¯å¦æ”¯æŒæ‹–åŠ¨æ»šåŠ¨æ¡è¿›è¡Œæ»‘åŠ¨
      thickness: 6.0, // æ»šåŠ¨æ¡å®½åº¦
      radius: Radius.circular(8), // æ»šåŠ¨æ¡åœ†è§’
      controller: ScrollController(), // æ»šåŠ¨æ§åˆ¶å™¨ï¼ˆä¸å†…éƒ¨ ListView ä¿æŒä¸€è‡´ï¼‰
      scrollbarOrientation: ScrollbarOrientation.right, // æ»šåŠ¨æ¡æ˜¾ç¤ºåœ¨å³ä¾§æˆ–å·¦ä¾§
    );
  }
  ```

  ```dart
  /// å±•ç¤º RefreshIndicator çš„å…¨éƒ¨å±æ€§ç”¨æ³•ï¼ˆä¸‹æ‹‰åˆ·æ–°ï¼‰
  Widget build(BuildContext context) {
    return RefreshIndicator(
      // âœ… ä¸‹æ‹‰åˆ·æ–°è§¦å‘å›è°ƒï¼ˆè¿”å› Futureï¼‰
      onRefresh: () async {
        await Future.delayed(Duration(seconds: 1));
        print('åˆ·æ–°å®Œæˆ');
      },
      // âœ… åˆ·æ–°åœˆä¸‹æ‹‰çš„è§¦å‘åç§»ï¼ˆå•ä½ pxï¼‰
      displacement: 60.0, // é»˜è®¤æ˜¯ 40
      // âœ… åœˆåœˆçš„é¢œè‰²
      color: Colors.blue,
      // âœ… åœˆåœˆèƒŒæ™¯é¢œè‰²ï¼ˆMaterial é£æ ¼ï¼‰
      backgroundColor: Colors.yellow[100],
      // âœ… åœˆåœˆçº¿æ¡ç²—ç»†
      strokeWidth: 3.0,
      // âœ… æ˜¯å¦å¿…é¡»ä»â€œè¾¹ç¼˜â€æ‰èƒ½è§¦å‘åˆ·æ–°ï¼ˆé»˜è®¤ï¼šonEdgeï¼‰
      triggerMode: RefreshIndicatorTriggerMode.any,
      // onEdge = å¿…é¡»ä»é¡¶éƒ¨è¾¹ç¼˜æ‹–åŠ¨
      // any = åªè¦æ»šåŠ¨ç»„ä»¶å†…å‘ä¸‹æ‹–å°±å¯è§¦å‘
      // âœ… æ§åˆ¶æ˜¯å¦å…è®¸åˆ·æ–°è§¦å‘ï¼ˆæ‹¦æˆªå™¨ï¼‰
      notificationPredicate: (ScrollNotification notification) {
        print('æ»šåŠ¨é€šçŸ¥ç±»å‹: ${notification.runtimeType}');
        // ä¾‹å¦‚åªå…è®¸åœ¨æ²¡æœ‰æ‹–åŠ¨æ—¶åˆ·æ–°
        return notification is ScrollStartNotification;
      },
      // âœ… åˆ·æ–°åŒºåŸŸï¼ˆchild å¿…é¡»æ˜¯å¯æ»šåŠ¨ç»„ä»¶ï¼‰
      child: ListView.builder(
        physics: AlwaysScrollableScrollPhysics(), // å³ä½¿å†…å®¹ä¸è¶³ä¹Ÿå¯ä¸‹æ‹‰
        itemCount: 15,
        itemBuilder: (context, index) => ListTile(title: Text('Item $index')),
      ),
    );
  }
  ```

  ```dart
  /// ç»„åˆ RefreshIndicator + ScrollController å®ç°ä¸Šä¸‹æ‹‰å®Œæ•´ä½“éªŒï¼ˆå¸¦åˆ†é¡µï¼‰
  class RefreshLoadMoreDemo extends StatefulWidget {
    @override
    _RefreshLoadMoreDemoState createState() => _RefreshLoadMoreDemoState();
  }

  class _RefreshLoadMoreDemoState extends State<RefreshLoadMoreDemo> {
    final ScrollController _scrollController = ScrollController();
    List<int> _data = List.generate(20, (i) => i);
    bool _isLoadingMore = false;

    @override
    void initState() {
      super.initState();
      // âœ… ç›‘å¬æ»šåŠ¨ï¼Œè§¦å‘ä¸Šæ‹‰åŠ è½½æ›´å¤š
      _scrollController.addListener(() {
        if (_scrollController.position.pixels >=
            _scrollController.position.maxScrollExtent - 50) {
          _loadMore();
        }
      });
    }
    // âœ… ä¸‹æ‹‰åˆ·æ–°é€»è¾‘
    Future<void> _handleRefresh() async {
      await Future.delayed(Duration(seconds: 1));
      setState(() {
        _data = List.generate(20, (i) => i);
      });
    }
    // âœ… ä¸Šæ‹‰åŠ è½½æ›´å¤šé€»è¾‘
    Future<void> _loadMore() async {
      if (_isLoadingMore) return;
      _isLoadingMore = true;

      await Future.delayed(Duration(seconds: 1));
      setState(() {
        int current = _data.length;
        _data.addAll(List.generate(10, (i) => current + i));
      });

      _isLoadingMore = false;
    }

    @override
    Widget build(BuildContext context) {
      return RefreshIndicator(
        onRefresh: _handleRefresh,
        child: ListView.builder(
          controller: _scrollController,
          itemCount: _data.length + 1, // æœ€åä¸€é¡¹æ˜¯ loading æŒ‡ç¤ºå™¨
          itemBuilder: (context, index) {
            if (index < _data.length) {
              return ListTile(title: Text('Item ${_data[index]}'));
            } else {
              return Padding(
                padding: const EdgeInsets.all(16),
                child: Center(child: CircularProgressIndicator()),
              );
            }
          },
        ),
      );
    }

    @override
    void dispose() {
      _scrollController.dispose();
      super.dispose();
    }
  }
  ```

  > åœ¨iOSä¸­æ²¡æœ‰ä¸“é—¨çš„ç³»ç»Ÿå°è£…ä¸Šæ‹‰åŠ è½½ã€ä¸‹æ‹‰åˆ·æ–°çš„æ§ä»¶ï¼ˆä¸€èˆ¬ç”¨MJRefreshï¼‰
  >
  > ä½†æ˜¯åœ¨Flutterç”±ç³»ç»Ÿç»™æä¾›äº†`RefreshIndicator`

  ```dart
  /// DraggableScrollableSheetï¼ˆå¯æ‹–åŠ¨åº•éƒ¨å¼¹å‡ºæ»‘åŠ¨é¢æ¿ï¼‰
  Widget build(BuildContext context) {
    return DraggableScrollableSheet(
      initialChildSize: 0.3, // åˆå§‹é«˜åº¦ï¼ˆç›¸å¯¹äºçˆ¶å®¹å™¨ 0.0~1.0ï¼‰
      minChildSize: 0.2, // æœ€å°é«˜åº¦
      maxChildSize: 0.8, // æœ€å¤§é«˜åº¦
      expand: true, // æ˜¯å¦å¡«æ»¡çˆ¶ç»„ä»¶ï¼ˆfalse = æŒ‰éœ€å¸ƒå±€ï¼‰
      builder: (context, scrollController) {
        return Container(
          color: Colors.grey[200],
          child: ListView.builder(
            controller: scrollController, // æ§åˆ¶æ»šåŠ¨
            itemCount: 20,
            itemBuilder: (context, index) => ListTile(title: Text('Item $index')),
          ),
        );
      },
    );
  }
  ```

* [**Flutterç¤¾åŒº**](pub.dev)/ç¬¬ä¸‰æ–¹æä¾›çš„æ»šåŠ¨åº“

  | åº“                                   | è¯´æ˜                                                         |
  | ------------------------------------ | ------------------------------------------------------------ |
  | `flutter_staggered_grid_view`        | å®ç°ç€‘å¸ƒæµ Masonry å¸ƒå±€                                      |
  | `carousel_slider` / `flutter_swiper` | é«˜æ€§èƒ½è½®æ’­ç»„ä»¶ï¼ˆåŸºäº PageViewï¼‰                              |
  | `infinite_scroll_pagination`         | åˆ†é¡µåŠ è½½åˆ—è¡¨ç»„ä»¶                                             |
  | `extended_nested_scroll_view`        | æ›´å¼ºå¤§çš„åµŒå¥—æ»šåŠ¨æ”¯æŒï¼Œè§£å†³å®˜æ–¹ NestedScrollView æ»šåŠ¨å†²çªé—®é¢˜ |
  | `pull_to_refresh`                    | ä¸‹æ‹‰åˆ·æ–°/ä¸Šæ‹‰åŠ è½½çš„å°è£…åº“                                    |
  | `flutter_easyrefresh`ï¼ˆå·²åœæ›´ï¼‰      | æ›¾ç»æµè¡Œçš„åˆ·æ–°åº“ï¼ˆä¸æ¨èæ–°é¡¹ç›®ç”¨ï¼‰                           |

### 18ã€ğŸ‘‹æ‰‹åŠ¿ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> è™½ç„¶æœ¬è´¨æ˜¯å“åº”ç”¨æˆ·è¾“å…¥ï¼ˆå¦‚ç‚¹å‡»ã€æ»‘åŠ¨ã€æ‹–åŠ¨ã€ç¼©æ”¾ç­‰ï¼‰ï¼Œä½†å®ƒä»¬çš„ä½¿ç”¨æ–¹å¼**ç¡®å®ä¹Ÿæ˜¯é€šè¿‡ Widget å®ç°çš„**
>
> ```
> â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
> â”‚ Pointer åŸå§‹äº‹ä»¶å±‚         â”‚ â†’ Listener / MouseRegion
> â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
> â”‚ æ‰‹åŠ¿è¯†åˆ«å°è£…å±‚             â”‚ â†’ GestureDetector / RawGestureDetector
> â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
> â”‚ æ‰‹åŠ¿ + å¯è§†åŒ–åé¦ˆå±‚         â”‚ â†’ InkWell / InkResponse / æŒ‰é’®ç±»
> â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
> â”‚ æ‹–æ‹½ã€æ»‘åŠ¨ç­‰å¤æ‚äº¤äº’å°è£…     â”‚ â†’ Draggable / Dismissible / RefreshIndicator
> â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
> ```

* Flutter ä¸­çš„æ‰‹åŠ¿ç³»ç»Ÿæœ¬è´¨ï¼ˆç”±ä¸‰å±‚æœºåˆ¶ç»„æˆï¼‰

  | å±‚çº§   | åç§°                     | è¯´æ˜                                               |
  | ------ | ------------------------ | -------------------------------------------------- |
  | 1ï¸âƒ£ åº•å±‚ | `Listener`               | åŸå§‹äº‹ä»¶ç›‘å¬ï¼ˆå¦‚ pointerDownã€pointerMoveï¼‰        |
  | 2ï¸âƒ£ ä¸­å±‚ | `GestureDetector`        | å¯¹åŸå§‹äº‹ä»¶è¿›è¡Œè¯†åˆ«å°è£…ï¼ˆå¦‚ tapã€double tapã€dragï¼‰ |
  | 3ï¸âƒ£ é«˜å±‚ | `InkWell`, `InkResponse` | ç»„ä»¶åŒ–çš„æ‰‹åŠ¿ + è§†è§‰åé¦ˆï¼ˆå¦‚æ°´æ³¢çº¹ï¼‰                |

* âœ… Flutter ä¸­æ‰€æœ‰æ‰‹åŠ¿ç›¸å…³ Widget ä¸€è§ˆï¼ˆå…¨é‡åˆ†ç±»ï¼‰

  * ğŸ”¹åŸå§‹æŒ‡é’ˆäº‹ä»¶å±‚ï¼ˆPointer çº§ï¼‰ï¼šå¤„ç†æœ€åº•å±‚çš„è§¦æ‘¸äº‹ä»¶ï¼ˆpointer down / move / up ç­‰ï¼‰

    | Widget               | è¯´æ˜                                                         |
    | -------------------- | ------------------------------------------------------------ |
    | **`Listener`**       | ç›‘å¬åŸå§‹ Pointer äº‹ä»¶ï¼ˆè§¦æ‘¸æŒ‰ä¸‹ã€ç§»åŠ¨ã€æŠ¬èµ·ã€å–æ¶ˆã€è¿›å…¥ã€ç¦»å¼€ç­‰ï¼‰ |
    | `MouseRegion`        | ä¸“é—¨å¤„ç†é¼ æ ‡äº‹ä»¶ï¼ˆè¿›å…¥ã€æ‚¬åœã€ç¦»å¼€ã€ä½ç½®ï¼‰                   |
    | `RawGestureDetector` | æ‰‹åŠ¨æ„å»ºæ‰‹åŠ¿è¯†åˆ«å™¨ï¼Œé€‚åˆè‡ªå®šä¹‰å¤æ‚æ‰‹åŠ¿è¯†åˆ«é€»è¾‘               |
    | `IgnorePointer`      | ç¦ç”¨å­ç»„ä»¶å¯¹ Pointer äº‹ä»¶çš„å“åº”                              |
    | `AbsorbPointer`      | æ‹¦æˆª Pointer äº‹ä»¶ï¼ˆè‡ªèº«å“åº”ä½†ä¸ä¼ é€’ç»™å­ç»„ä»¶ï¼‰                |

  * ğŸ”¹æ‰‹åŠ¿è¯†åˆ«å±‚ï¼ˆGesture çº§ï¼‰ï¼šå¯¹åŸå§‹ Pointer çš„å°è£…ï¼Œè´Ÿè´£è¯†åˆ«å‡ºâ€œç‚¹å‡»/æ‹–åŠ¨/ç¼©æ”¾â€ç­‰è¯­ä¹‰æ‰‹åŠ¿

    | Widget                                                       | è¯´æ˜                                                         |
    | ------------------------------------------------------------ | ------------------------------------------------------------ |
    | **`GestureDetector`**                                        | æ”¯æŒ **tap**ã€**double tap**ã€**long press**ã€**drag**ã€**scale** ç­‰å®Œæ•´æ‰‹åŠ¿<br/>âŒ æ— è§†è§‰åé¦ˆ |
    | `Dismissible`                                                | æ”¯æŒæ»‘åŠ¨åˆ é™¤æ‰‹åŠ¿ï¼Œå†…ç½®åŠ¨ç”»                                   |
    | **`Draggable`**                                              | å¯æ‹–æ‹½ç»„ä»¶<br/>âœ… å†…å»ºæ‹–åŠ¨é€»è¾‘                                |
    | `LongPressDraggable`                                         | é•¿æŒ‰åè§¦å‘æ‹–æ‹½                                               |
    | **`DragTarget`**                                             | æ‹–æ‹½ç›®æ ‡åŒºï¼Œå¯æ¥æ”¶æ‹–æ‹½æ•°æ®<br/>âœ… å†…å»ºæ‹–åŠ¨é€»è¾‘                |
    | `InteractiveViewer`                                          | æ”¯æŒç¼©æ”¾ã€æ‹–åŠ¨ã€æ—‹è½¬çš„äº¤äº’å®¹å™¨                               |
    | `GestureDetectorWithMultipleCustomGestureRecognizer`ï¼ˆè‡ªå®šä¹‰ç»„åˆï¼‰ | è‡ªå·±ç»„åˆå¤šä¸ªè¯†åˆ«å™¨<br/>éœ€ RawGestureDetector                 |

  * ğŸ”¹æ‰‹åŠ¿ + è§†è§‰åé¦ˆå±‚ï¼ˆå¸¦äº¤äº’è§†è§‰ï¼‰ï¼šè¿™äº›ç»„ä»¶ä¸ä»…æ”¯æŒæ‰‹åŠ¿è¯†åˆ«ï¼Œè¿˜é™„å¸¦ç‚¹å‡»åé¦ˆï¼ˆå¦‚æ°´æ³¢çº¹ï¼‰

    | Widget                                                       | è¯´æ˜                                                         |
    | ------------------------------------------------------------ | ------------------------------------------------------------ |
    | **`InkWell`**                                                | ç‚¹å‡»æ°´æ³¢çº¹æ•ˆæœï¼Œé…åˆ `Material` ä½¿ç”¨                         |
    | **`InkResponse`**                                            | æ›´çµæ´»æ§åˆ¶æ°´æ³¢çº¹èŒƒå›´çš„ç‚¹å‡»ç»„ä»¶<br>æ›´çµæ´»çš„ Ink æ•ˆæœ<br/>æ”¯æŒåœ†å½¢<br/>å¯è°ƒç‚¹å‡»åŒºåŸŸç­‰ |
    | `CupertinoButton`                                            | iOS é£æ ¼æŒ‰é’®ï¼Œè‡ªå¸¦ç‚¹å‡»é«˜äº®åé¦ˆ                               |
    | `MaterialButton` / `ElevatedButton` / `TextButton` / `OutlinedButton` | éƒ½æ˜¯å°è£…äº†ç‚¹å‡»åé¦ˆçš„ç»„ä»¶                                     |

  * ğŸ”¹ç»„åˆè¡Œä¸ºç±»ç»„ä»¶ï¼ˆå¤æ‚æ‰‹åŠ¿äº¤äº’ï¼‰

    | Widget                   | è¯´æ˜                                          |
    | ------------------------ | --------------------------------------------- |
    | `PageView`               | å¯æ¨ªå‘/çºµå‘æ»‘åŠ¨åˆ†é¡µï¼ˆå†…éƒ¨ä½¿ç”¨æ‹–æ‹½æ‰‹åŠ¿ï¼‰       |
    | **`Dismissible`**        | å¤„ç†å·¦å³æ»‘åŠ¨åˆ é™¤çš„æ‰‹åŠ¿ï¼ˆâœ… å†…å»ºåŠ¨ç”»ï¼‰          |
    | `RefreshIndicator`       | ä¸‹æ‹‰åˆ·æ–°ï¼ˆé…åˆæ»šåŠ¨æ‰‹åŠ¿è§¦å‘ï¼‰                  |
    | `Slider` / `RangeSlider` | æ‹–åŠ¨æ»‘å—ï¼ˆæ‹–æ‹½ + tapï¼‰                        |
    | `Switch` / `Checkbox`    | ä¹Ÿæ”¯æŒæ‰‹åŠ¿ï¼ˆtapï¼‰ä½†é€šå¸¸ä¸ç›´æ¥ä½œä¸ºæ‰‹åŠ¿ç»„ä»¶ä½¿ç”¨ |

### 19ã€Flutterä¸­ï¼Œæ¶‰åŠåˆ°å¸ƒå±€çš„**`Widget`**  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> ç±»ä¼¼ iOS ä¸­çš„ [**Masonry**](https://github.com/SnapKit/Masonry) æˆ– AutoLayout

#### 19.1ã€ğŸ§± çº¿æ€§å¸ƒå±€ï¼ˆç±»ä¼¼ iOS çš„ `UIStackView`ï¼‰ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| Widget         | åŠŸèƒ½è¯´æ˜                                                     |
| -------------- | ------------------------------------------------------------ |
| `Row`          | æ°´å¹³æ–¹å‘æ’åˆ—å­ç»„ä»¶                                           |
| `Column`       | å‚ç›´æ–¹å‘æ’åˆ—å­ç»„ä»¶                                           |
| `Flex`         | å¯æŒ‡å®šä¸»è½´æ–¹å‘ï¼ˆæ¨ª / ç«–ï¼‰                                    |
| **`Expanded`** | 1ï¸âƒ£ **å æ®å‰©ä½™ç©ºé—´ï¼Œå¼¹æ€§ä¼¸ç¼©**<br/>2ï¸âƒ£ åªåœ¨ `Row` / `Column` / `Flex` ä¸­èµ·ä½œç”¨ï¼Œç”¨æ¥è‡ªåŠ¨å¡«æ»¡å¤šä½™çš„å¯ç”¨ç©ºé—´<br/>3ï¸âƒ£ ä¸èƒ½ç”¨äº `Stack` / `Container` / `GridView` ç­‰å…¶ä»–å¸ƒå±€ä¸­<br/>4ï¸âƒ£ å ç”¨çš„æ˜¯å‰©ä½™ç©ºé—´ï¼Œä¸èƒ½å¼ºè¡Œæ’‘å¤§çˆ¶ **Widget** |
| `Flexible`     | å¼¹æ€§å¸ƒå±€ï¼Œå¯é€‰æ‹©å ä¸å æ»¡                                     |
| `Spacer`       | ç©ºé—´å ä½å™¨ï¼Œå®è´¨æ˜¯ `Flexible` å°è£…                           |
| `SizedBox`     | å›ºå®šå°ºå¯¸æˆ–é—´è·                                               |

`Expanded` ğŸ†š `Flexible`

| æ¯”è¾ƒç‚¹   | `Expanded`                | `Flexible`                     |
| -------- | ------------------------- | ------------------------------ |
| é»˜è®¤è¡Œä¸º | å¼ºåˆ¶å¡«æ»¡å‰©ä½™ç©ºé—´          | å¯ä»¥å¡«æ»¡ï¼Œä¹Ÿå¯ä»¥ç”±å†…å®¹å†³å®šå¤§å° |
| å¸¸ç”¨åœºæ™¯ | å æ»¡ç©ºé—´ã€å‡åˆ†            | éœ€è¦çµæ´»æ§åˆ¶å†…å®¹å¤§å°æ—¶ä½¿ç”¨     |
| åŒ…è£…æ•ˆæœ | æ˜¯ `Flexible(fit: tight)` | å¯è‡ªå®šä¹‰ `fit: tight/loose`    |

#### 19.2ã€ğŸ§± å±‚å å¸ƒå±€ï¼ˆç±»ä¼¼ iOS çš„ Frame å¸ƒå±€ + zIndexï¼‰ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| Widget       | åŠŸèƒ½è¯´æ˜                              |
| ------------ | ------------------------------------- |
| `Stack`      | å±‚å å¸ƒå±€ï¼ˆç±»ä¼¼ iOS çš„ `UIView` å åŠ ï¼‰ |
| `Positioned` | Stack å­å…ƒç´ å®šä½                      |
| `Align`      | å­ç»„ä»¶å¯¹é½ï¼ˆç”¨äº Stackã€æ™®é€š Widgetï¼‰ |
| `Center`     | å­ç»„ä»¶å±…ä¸­                            |

#### 19.3ã€ğŸ§± çº¦æŸç±»å¸ƒå±€ï¼ˆæœ€æ¥è¿‘ [**Masonry**](https://github.com/SnapKit/Masonry) çš„æ€æƒ³ï¼‰ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| Widget                 | åŠŸèƒ½è¯´æ˜                 |
| ---------------------- | ------------------------ |
| `ConstrainedBox`       | æ·»åŠ æœ€å°æœ€å¤§å°ºå¯¸çº¦æŸ     |
| `UnconstrainedBox`     | ç§»é™¤çˆ¶ç»„ä»¶çš„çº¦æŸ         |
| `SizedBox`             | å›ºå®šå®½é«˜å°ºå¯¸             |
| `FractionallySizedBox` | æ ¹æ®çˆ¶å°ºå¯¸æŒ‰æ¯”ä¾‹è®¾ç½®å®½é«˜ |
| `AspectRatio`          | æŒ‰å®½é«˜æ¯”è‡ªåŠ¨è°ƒæ•´å°ºå¯¸     |
| `LimitedBox`           | è¶…å‡ºæœ€å¤§å°ºå¯¸æ—¶æ‰åº”ç”¨é™åˆ¶ |

#### 19.4ã€ğŸ§± è‡ªåŠ¨æ¢è¡Œ / æµå¼å¸ƒå±€ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| Widget | åŠŸèƒ½è¯´æ˜                               |
| ------ | -------------------------------------- |
| `Wrap` | è‡ªåŠ¨æ¢è¡Œå¸ƒå±€ï¼ˆç±»ä¼¼ HTML çš„ flex-wrapï¼‰ |
| `Flow` | é«˜çº§æµå¼å¸ƒå±€ï¼ˆéœ€æ‰‹åŠ¨å®ç° delegateï¼‰    |

#### 19.5ã€ğŸ§± è¡¨æ ¼ / ç½‘æ ¼å¸ƒå±€ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| Widget       | åŠŸèƒ½è¯´æ˜               |
| ------------ | ---------------------- |
| `Table`      | ç±»ä¼¼ HTML è¡¨æ ¼å¸ƒå±€     |
| `GridView`   | ç½‘æ ¼å¸ƒå±€ï¼ˆæ”¯æŒæ»šåŠ¨ï¼‰   |
| `SliverGrid` | æ»šåŠ¨æ€§èƒ½ä¼˜åŒ–çš„ç½‘æ ¼å¸ƒå±€ |

#### 19.6ã€ğŸ§± è¾¹è· / å¡«å…… / å¯¹é½ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| Widget      | åŠŸèƒ½è¯´æ˜                                             |
| ----------- | ---------------------------------------------------- |
| `Padding`   | æ·»åŠ å†…è¾¹è·                                           |
| `Margin`    | âŒ æ— æ­¤ Widgetï¼Œå¯ç”¨ `Padding + Container` æ¨¡æ‹Ÿå¤–è¾¹è· |
| `Container` | å¯ç»„åˆè®¾ç½® `padding`, `margin`, `alignment`          |
| `Align`     | è®¾ç½®å¯¹é½æ–¹å¼                                         |
| `Center`    | å­ç»„ä»¶å±…ä¸­                                           |
| `Baseline`  | æŒ‰åŸºçº¿å¯¹é½                                           |

#### 19.7ã€ğŸ§±  å¸ƒå±€è¾…åŠ© <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| Widget                                               | åŠŸèƒ½è¯´æ˜                   |
| ---------------------------------------------------- | -------------------------- |
| `Offstage`                                           | æ§åˆ¶æ˜¯å¦æ¸²æŸ“ä½†ä¿ç•™çŠ¶æ€     |
| `Visibility`                                         | æ§åˆ¶æ˜¯å¦æ¸²æŸ“å¹¶å¯åŠ¨ç”»       |
| `LayoutBuilder`                                      | å¯æ ¹æ®çˆ¶çº¦æŸåŠ¨æ€æ„å»ºå­ç»„ä»¶ |
| `CustomSingleChildLayout` / `CustomMultiChildLayout` | é«˜çº§è‡ªå®šä¹‰å¸ƒå±€é€»è¾‘         |

### 20ã€âœ… Flutter å®ç°ç›¸å¯¹ä½ç½®å¸ƒå±€çš„å‡ ç§æ–¹å¼ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

#### 20.1ã€ä½¿ç”¨ `Column` / `Row`ï¼ˆçº¿æ€§æ’åˆ— + é—´è·æ§åˆ¶ï¼‰

```dart
Column(
  children: [
    Text('æˆ‘æ˜¯é”šç‚¹'),
    SizedBox(height: 10),
    Text('æˆ‘åœ¨é”šç‚¹ä¸‹é¢ 10'),
  ],
);
```

#### 20.2ã€ä½¿ç”¨ `Stack + Positioned`ï¼ˆç»å¯¹é”šç‚¹å¼ï¼‰

```dart
Stack(
  children: [
    Positioned(
      top: 100,
      left: 50,
      child: Text('é”šç‚¹ A'),
    ),
    Positioned(
      top: 150, // ç›¸å¯¹ Y è½´åç§»
      left: 50,
      child: Text('é”šç‚¹ A ä¸‹é¢ 50'),
    ),
  ],
);
```

#### 20.3ã€ä½¿ç”¨ `Align` + `FractionalOffset`

> âœ… é€‚åˆç›¸å¯¹çˆ¶ç»„ä»¶çš„å¯¹é½å¸ƒå±€ã€‚ç›¸å¯¹â€œå®¹å™¨â€å¯¹é½ï¼Œä½†ä¸èƒ½é”šå®šæŸä¸ªå…„å¼Ÿæ§ä»¶

```dart
Align(
  alignment: Alignment.bottomRight,
  child: Text("å³ä¸‹è§’é”šç‚¹"),
);
```

#### 20.4ã€ä½¿ç”¨ `CustomMultiChildLayout` å®ç°é”šå®šå…„å¼Ÿ Widget

> Flutter çš„é«˜çº§å¸ƒå±€ Widgetï¼Œæ”¯æŒ**é€šè¿‡ key é”šå®šæŸä¸ªå­ Widget çš„ä½ç½®æ¥æ”¾ç½®å¦ä¸€ä¸ªå­ Widget**

```dart
CustomMultiChildLayout(
  delegate: _AnchorLayoutDelegate(),
  children: [
    LayoutId(id: 'anchor', child: Text('é”šç‚¹')),
    LayoutId(id: 'follower', child: Text('é”šç‚¹ä¸‹æ–¹')),
  ],
);

class _AnchorLayoutDelegate extends MultiChildLayoutDelegate {
  @override
  void performLayout(Size size) {
    Size anchorSize = layoutChild('anchor', BoxConstraints.loose(size));
    positionChild('anchor', Offset(0, 0));

    Size followerSize = layoutChild('follower', BoxConstraints.loose(size));
    positionChild('follower', Offset(0, anchorSize.height + 10));
  }

  @override
  bool shouldRelayout(MultiChildLayoutDelegate oldDelegate) => false;
}
```

### 21ã€ä¸­é—´ä»£ç çš„ç”Ÿæˆå·¥å…· <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

#### 21.1ã€[<font color=red>**build_runner**</font>](https://pub.dev/packages/build_runner)

> **Dart çš„ä»£ç ç”Ÿæˆå¼•æ“**ï¼Œç”¨äºæ ¹æ®è§„åˆ™è‡ªåŠ¨ç”Ÿæˆ Dart ä»£ç 
>
> ğŸ“¦ å®ƒæœ¬èº«ä¸ç”Ÿæˆä»£ç ï¼Œä½†**é©±åŠ¨å…¶ä»–æ’ä»¶å»ç”Ÿæˆä»£ç **ã€‚

| å‘½ä»¤                                 | ä½œç”¨                               |
| ------------------------------------ | ---------------------------------- |
| `flutter pub run build_runner build` | ä¸€æ¬¡æ€§ç”Ÿæˆä»£ç                      |
| `flutter pub run build_runner watch` | ç›‘å¬æºç å˜åŒ–è‡ªåŠ¨ç”Ÿæˆä»£ç            |
| `flutter pub run build_runner clean` | æ¸…é™¤ `.dart_tool` ä¸­ç”Ÿæˆçš„ç¼“å­˜ä»£ç  |


* `build_runner` æ˜¯å»ºç­‘å·¥äºº ğŸ§±ï¼ˆå®é™…å¹²æ´»çš„ï¼‰
* `json_serializable`ã€`flutter_gen_runner`ã€`freezed` ç­‰æ˜¯è®¾è®¡å›¾ ğŸ“ï¼ˆå‘Šè¯‰ä½ è¯¥å»ºä»€ä¹ˆï¼‰
* `.g.dart`ã€`.gen.dart` æ–‡ä»¶æ˜¯å»ºç­‘æˆæœ ğŸ ï¼ˆè‡ªåŠ¨ç”Ÿæˆçš„ä»£ç ï¼‰

#### 21.2ã€[**flutter_gen_runner**](https://pub.dev/packages/flutter_gen)

> æ ¹æ®ä½ çš„ `pubspec.yaml` ä¸­é…ç½®çš„èµ„æºæ–‡ä»¶ï¼Œè‡ªåŠ¨ç”Ÿæˆ assets.gen.dart æ–‡ä»¶ï¼Œè®©ä½ ç”¨ä»£ç æ–¹å¼è®¿é—®èµ„æºï¼Œæ›´å®‰å…¨ã€æ–¹ä¾¿ã€‚

```yaml
dev_dependencies:
  flutter_gen_runner: ^5.3.1
  build_runner: any

flutter_gen:
  output: lib/gen/ # ç”Ÿæˆæ–‡ä»¶çš„ç›®å½•
```

#### 21.3ã€[**json_serializable**](https://pub.dev/packages/json_serializable)

> ç”¨äºåºåˆ—åŒ–/ååºåˆ—åŒ–JSONæ•°æ®

### 22ã€ğŸ‘‚ç›‘å¬ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

#### 22.1ã€ğŸ‘‚è·¯ç”±çš„ç›‘å¬ï¼š`NavigatorObserver` <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> 1ï¸âƒ£ `class RouteObserver<R extends Route<dynamic>> extends NavigatorObserver `
>
> 2ï¸âƒ£ ç”¨äºç›‘å¬é¡µé¢ pushã€popã€removeã€replace ç­‰ **è·¯ç”±äº‹ä»¶**çš„ç±»
>
> 3ï¸âƒ£ `RouteObserver` æ˜¯`NavigatorObserver`çš„å”¯ä¸€å®˜æ–¹å­ç±»

```dart
import 'package:flutter/material.dart';
import 'package:flutter_plugin_engagelab/flutter_plugin_engagelab.dart';

class AppNavigatorObserver extends RouteObserver<PageRoute<dynamic>> {
  @override
  void didPop(Route route, Route? previousRoute) {
    super.didPop(route, previousRoute);
    // ç›‘å¬è¿”å›äº‹ä»¶
    if (route.settings.name != null && route.settings.name!.isNotEmpty) {
      FlutterPluginEngagelab.printMy("é¡µé¢è¿”å›äº†: ${route.settings.name}");
    }
  }
}
```

```dart
final AppNavigatorObserver appNavigatorObserver = AppNavigatorObserver();

builder: (context, child) {
          return GetMaterialApp(
            debugShowCheckedModeBanner: false,
            title: 'æ¾³é—¨æ–°è‘¡äº¬',
            navigatorObservers: [appNavigatorObserver],
            localizationsDelegates: const [
              GlobalMaterialLocalizations.delegate,
              GlobalWidgetsLocalizations.delegate,
              GlobalCupertinoLocalizations.delegate,
            ],
            // supportedLocales: supportedLocales,
            // initialRoute: AppPages.INITIAL,
            // initialBinding: MainBindings(),
            // getPages: AppPages.routes,
            // builder: EasyLoading.init(),
            // translations: AppTranslations(),
            locale: Locale(currentLanguage),
            fallbackLocale: const Locale("en"),
          );
        }
```

#### 22.2ã€ğŸ‘‚APP ç”Ÿå‘½å‘¨æœŸçš„ç›‘å¬ï¼š`WidgetsBindingObserver` <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> ä¸»è¦é€šè¿‡å®ç° `WidgetsBindingObserver` æ¥å£æ¥å®Œæˆ

* App å‰åå°åˆ‡æ¢ï¼ˆå¦‚ iOS çš„ `applicationDidEnterBackground` / `applicationDidBecomeActive`ï¼‰
* å±å¹•å°ºå¯¸å˜åŒ–ï¼ˆå¦‚æ—‹è½¬ï¼‰
* è¯­è¨€åˆ‡æ¢
* å†…å­˜å‹åŠ›è­¦å‘Šç­‰

#### 22.3ã€ğŸ‘‚æ»šåŠ¨çš„ç›‘å¬ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

#### 22.4ã€ğŸ‘‚æ•°æ®å˜åŒ–é€šçŸ¥çš„ç›‘å¬ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

#### 22.5ã€ğŸ‘‚é”®ç›˜ï¼ˆå¼¹èµ·/è½ä¸‹ï¼‰çš„ç›‘å¬ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

#### 22.6ã€ğŸ‘‚ç½‘ç»œçš„ç›‘å¬ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

### 23ã€å¯Œæ–‡æœ¬ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

#### 23.1ã€ğŸ iOS ğŸ†š ğŸ¦ Flutter

* ğŸ iOS çš„å¯Œæ–‡æœ¬èƒ½åŠ›ï¼ˆ`NSAttributedString`ï¼‰ï¼Œå‡ ä¹æ— æ‰€ä¸èƒ½

* ğŸ¦ Flutter çš„ç—›ç‚¹

  | é—®é¢˜ç‚¹                    | åŸå›                                                          |
  | ------------------------- | ------------------------------------------------------------ |
  | âŒ æ²¡æœ‰ç»Ÿä¸€çš„å¯Œæ–‡æœ¬å¯¹è±¡    | æ²¡æœ‰ç±»ä¼¼ `NSAttributedString` çš„å®˜æ–¹ç»“æ„ï¼ŒFlutter ç”¨ `TextSpan` æ¥æ‰‹åŠ¨æ„å»º |
  | âŒ `Text` åªèƒ½æ˜¾ç¤ºç®€å•æ ·å¼ | å¤æ‚æ ·å¼éœ€ `RichText` + `TextSpan`                           |
  | âŒ æ²¡æœ‰åŸç”Ÿç‚¹å‡»è¡Œä¸º        | ç‚¹å‡»è¡Œä¸ºå¿…é¡»æ‰‹åŠ¨å®ç° `GestureRecognizer`                     |
  | âŒ å›¾ç‰‡/WidgetSpan å…¼å®¹å·®  | ä¸èƒ½å¾ˆå¥½åœ°ä¸æ–‡å­—æ··æ’ï¼Œæº¢å‡ºç­‰é—®é¢˜                             |
  | âŒ æ²¡æœ‰å¯Œæ–‡æœ¬è¾“å…¥æ§ä»¶      | iOS UITextView è‡ªå¸¦ï¼ŒFlutter éœ€è¦ç”¨ç¬¬ä¸‰æ–¹                    |

#### 23.2ã€ğŸ§  ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿ

Flutter æ˜¯è·¨å¹³å°æ¡†æ¶ï¼Œå®ƒçš„æ ¸å¿ƒè®¾è®¡ç†å¿µæ˜¯â€œè‡ªå·±ç”» UIï¼ˆSkiaï¼‰â€ï¼Œæ‰€æœ‰æ–‡æœ¬æ¸²æŸ“éƒ½æ˜¯**è‡ªç»˜**ï¼š

- iOS åŸç”Ÿï¼šå¯Œæ–‡æœ¬ç”±æ“ä½œç³»ç»Ÿæä¾›æ”¯æŒï¼ˆUIKit + CoreText + WebKitï¼‰
- Flutterï¼šå¿…é¡»ç”¨ Dart æè¿° â†’ Skia ç»˜åˆ¶ â†’ æ‰‹åŠ¨ç®¡ç†é€»è¾‘

æ‰€ä»¥ï¼ŒFlutter æ²¡åŠæ³•åƒ iOS é‚£æ ·â€œä¸€è¡Œä»£ç å…¨æå®šâ€ã€‚

### 24ã€Tabåˆ‡æ¢ï¼š**`IndexedStack`**  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

```dart
class HomePage extends StatefulWidget {
  const HomePage({super.key});
  @override
  State<HomePage> createState() => _HomePageState();
}

class _HomePageState extends State<HomePage> {
  int _currentIndex = 0;

  final List<Widget> _pages = const [
    PageA(),
    PageB(),
    PageC(),
  ];

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: IndexedStack(
        index: _currentIndex, // å½“å‰é€‰ä¸­é¡¹
        children: _pages,
      ),
      bottomNavigationBar: BottomNavigationBar(
        currentIndex: _currentIndex,
        onTap: (i) => setState(() => _currentIndex = i),
        items: const [
          BottomNavigationBarItem(icon: Icon(Icons.home), label: 'A'),
          BottomNavigationBarItem(icon: Icon(Icons.business), label: 'B'),
          BottomNavigationBarItem(icon: Icon(Icons.school), label: 'C'),
        ],
      ),
    );
  }
}
```

```dart
IndexedStack(
  index: 1, // æ˜¾ç¤ºç¬¬å‡ ä¸ªå­ç»„ä»¶ï¼ˆä» 0 å¼€å§‹ï¼‰
  children: [
    WidgetA(),
    WidgetB(),
    WidgetC(),
  ],
)
```

```dart
/// GetX + IndexedStack
Obx(() => IndexedStack(
  index: tabCtrl.currentIndex.value,
  children: [
    PageA(),
    PageB(),
    PageC(),
  ],
))
```

> åªä¼š**æ˜¾ç¤º index å¯¹åº”çš„å­ç»„ä»¶**
>
> å…¶ä»–å­ç»„ä»¶ä»ç„¶ **åœ¨å†…å­˜ä¸­ä¿æŒçŠ¶æ€ï¼Œä¸ä¼š rebuild**

### 25ã€[**`Provider`**](https://pub.dev/packages/provider)  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

by [**RÃ©mi Rousselet**](https://github.com/rrousselGit)

> 1ï¸âƒ£ [**`Provider`**](https://pub.dev/packages/provider) æ˜¯ Flutter ä¸­ç”¨äº**ç®¡ç†å’Œå…±äº«çŠ¶æ€ï¼ˆæ•°æ®ï¼‰**çš„å·¥å…·ï¼Œå¯ä»¥ **åœ¨æ•´ä¸ª widget æ ‘ä¸­æ–¹ä¾¿ã€å®‰å…¨åœ°ä¼ é€’æ•°æ®å’ŒçŠ¶æ€**ï¼Œå¹¶åœ¨æ•°æ®å˜åŒ–æ—¶è‡ªåŠ¨æ›´æ–° UIã€‚
>
> 2ï¸âƒ£ æœ¬è´¨ä¸Šæ˜¯å¯¹ Flutter åŸç”Ÿçš„ `InheritedWidget` å’Œ `ChangeNotifier` çš„å°è£…ï¼Œè®©çŠ¶æ€å…±äº«å˜å¾—æ›´å®¹æ˜“ã€æ›´å¼ºå¤§ã€‚
>
> 3ï¸âƒ£ æ˜¯ Google å®˜æ–¹æ¨èçš„ Flutter çŠ¶æ€ç®¡ç†æ–¹å¼ã€‚

| ç»„ä»¶å                   | ä½œç”¨è¯´æ˜                                       |
| ------------------------ | ---------------------------------------------- |
| `ChangeNotifier`         | ä¸€ä¸ªå¸¦ç›‘å¬èƒ½åŠ›çš„æ•°æ®æ¨¡å‹                       |
| `ChangeNotifierProvider` | æŠŠæ¨¡å‹æ”¾è¿› widget æ ‘é‡Œå…±äº«                     |
| `Consumer`               | ç”¨äºè¯»å–å¹¶å“åº”æ•°æ®å˜åŒ–çš„ Widget                |
| `context.watch()`        | ç›‘å¬æ•°æ®å¹¶è‡ªåŠ¨ rebuildï¼ˆå’Œ Consumer æ•ˆæœç±»ä¼¼ï¼‰ |
| `context.read()`         | åªè¯»å–ä¸€æ¬¡ï¼Œä¸ç›‘å¬                             |
| `context.select()`       | ç²¾å‡†ç›‘å¬æŸä¸ªå­—æ®µ                               |

* ğŸ§© å’Œ [**`GetX`**](https://pub.dev/packages/get)  åŒºåˆ«ç®€è¦å¯¹æ¯”

  | é¡¹ç›®       | Provider                     | GetX                     |
  | ---------- | ---------------------------- | ------------------------ |
  | å­¦ä¹ æ›²çº¿   | ç®€å•ï¼Œæ¨èåˆå­¦è€…             | æ›´çµæ´»ä½†ç•¥å¤æ‚           |
  | UIåˆ·æ–°æ§åˆ¶ | ç²¾å‡†ï¼ŒåŸºäº `notifyListeners` | è‡ªåŠ¨ï¼ŒåŸºäº `Obx`ã€`.obs` |
  | æ¶æ„è§£è€¦   | æ˜ç¡®ï¼Œé¼“åŠ±åˆ†å±‚               | çµæ´»ï¼Œä¸å¼ºåˆ¶             |
  | ä¾èµ–æ³¨å…¥   | æ‰‹åŠ¨æ³¨å†Œ                     | è‡ªåŠ¨æ³¨å†Œæˆ–æ‡’åŠ è½½æ›´æ–¹ä¾¿   |

* ğŸ§  [**`Provider`**](https://pub.dev/packages/provider) çš„ä¸‰ç§ä½¿ç”¨æ–¹å¼å¯¹æ¯”

  | ç”¨æ³•                     | æ˜¯å¦ç›‘å¬å˜åŒ– | ç”¨é€”                           |
  | ------------------------ | ------------ | ------------------------------ |
  | `context.read<T>()`      | âŒ å¦         | ç”¨æ¥è°ƒç”¨æ–¹æ³•ã€åªè¯»ä¸€æ¬¡         |
  | `context.watch<T>()`     | âœ… æ˜¯         | ç”¨æ¥åˆ·æ–° UIï¼Œç›‘å¬æ•´ä¸ªæ¨¡å‹      |
  | `context.select<T, R>()` | âœ… ç²¾å‡†ç›‘å¬   | ç”¨æ¥åªç›‘å¬æ¨¡å‹ä¸­çš„æŸä¸ªå­—æ®µå˜åŒ– |

* **`notifyListeners()`**ï¼š**ä¸æ˜¯å…¨å±€é€šçŸ¥**ï¼Œè€Œæ˜¯**å¯¹æ³¨å†Œäº†å®ƒè¿™ä¸ªå¯¹è±¡çš„æ‰€æœ‰ç›‘å¬è€…**å‘é€šçŸ¥

  ```dart
  class MyModel extends ChangeNotifier
  
  final myModel = MyModel(); // è¿™æ˜¯ä¸€ä¸ª ChangeNotifier
  
  myModel.addListener(() {
    print('ç›‘å¬è€… A æ”¶åˆ°é€šçŸ¥');
  });
  
  myModel.addListener(() {
    print('ç›‘å¬è€… B æ”¶åˆ°é€šçŸ¥');
  });
  
  myModel.notifyListeners();
  ```

### 26ã€[**riverpod**](https://riverpod.dev/)  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

by [**RÃ©mi Rousselet**](https://github.com/rrousselGit)

>  [**`Provider`**](https://pub.dev/packages/provider) çš„å‡çº§ï¼ˆå®Œå…¨ï¼‰é‡æ„ç‰ˆï¼Œè§£å†³äº†  [**`Provider`**](https://pub.dev/packages/provider)  çš„æ‰€æœ‰é™åˆ¶å’Œè®¾è®¡ç¼ºé™·ï¼Œ**æ¨èç”¨äºå¤§å‹é¡¹ç›®**

### 27ã€[**flutter_bloc**](https://pub.dev/packages/flutter_bloc) <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> 1ï¸âƒ£ [**flutter_bloc**](https://pub.dev/packages/flutter_bloc) æ˜¯ Google å®˜æ–¹æ”¯æŒçš„ Flutter çŠ¶æ€ç®¡ç†åº“ï¼ŒåŸºäº **BLoC**ï¼ˆ<font color=red>**B**</font>usiness <font color=red>**Lo**</font>gic <font color=red>**C**</font>omponentï¼‰ æ€æƒ³å°è£…ï¼ŒåŠŸèƒ½éå¸¸å®Œæ•´ï¼Œå°¤å…¶é€‚åˆä¸­å¤§å‹é¡¹ç›®ã€‚ï¼ˆä¸å†æ‰‹åŠ¨ç®¡ç† `StreamController`ï¼Œä»£ç æ›´ç®€æ´ï¼‰
>
> 2ï¸âƒ£ èƒ½åšä»€ä¹ˆï¼Ÿ
>
>  âœ… ç”¨äºæ„å»ºæ¸…æ™°çš„ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆBloc/Cubitï¼‰
>  âœ… å®ç°è¾“å…¥äº‹ä»¶ â†’ è¾“å‡ºçŠ¶æ€æµè½¬
>  âœ… ç»„ä»¶åŒ–ç®¡ç†å¤šä¸ªçŠ¶æ€æº
>  âœ… è‡ªåŠ¨æ›´æ–° UIï¼Œé¿å…æ‰‹åŠ¨ setState
>  âœ… å…¨å±€è°ƒè¯•ã€æµ‹è¯•èƒ½åŠ›ä¼˜ç§€
>  âœ… å¯ç»„åˆï¼Œå¯è§£è€¦ï¼Œæ˜“ç»´æŠ¤
>
> 3ï¸âƒ£ **BLoC**ï¼ˆ<font color=red>**B**</font>usiness <font color=red>**Lo**</font>gic <font color=red>**C**</font>omponentï¼‰ çš„æœ¬è´¨æ˜¯ä¸€ç§**å“åº”å¼ç¼–ç¨‹æ€æƒ³**
>
> * **äº‹ä»¶ï¼ˆEventï¼‰è¾“å…¥ â†’ çŠ¶æ€ï¼ˆStateï¼‰è¾“å‡º**
> * é€šè¿‡ `Sink` å’Œ `Stream` æ„å»ºæ¸…æ™°çš„æ•°æ®æµåŠ¨è·¯å¾„ã€‚
>
> 4ï¸âƒ£  [**flutter_bloc**](https://pub.dev/packages/flutter_bloc) æä¾›çš„ä¸»è¦åŠŸèƒ½å’Œç±»ï¼š
>
> | ç±» / æ–¹æ³•å              | ç±»å‹   | ç”¨é€”è¯´æ˜                                                     |
> | ------------------------ | ------ | ------------------------------------------------------------ |
> | `Bloc<Event, State>`     | æŠ½è±¡ç±» | BLoC çš„æ ¸å¿ƒï¼Œå¤„ç†äº‹ä»¶å¹¶è¾“å‡ºçŠ¶æ€                              |
> | `Cubit<State>`           | æŠ½è±¡ç±» | ç®€åŒ–ç‰ˆ Blocï¼Œå»æ‰äº† Eventï¼Œåªæ“ä½œçŠ¶æ€ï¼ˆè½»é‡çŠ¶æ€ç®¡ç†ï¼‰        |
> | `BlocProvider`           | Widget | æä¾› Bloc/Cubit å®ä¾‹ç»™ widget æ ‘ä½¿ç”¨ï¼ˆä¾èµ–æ³¨å…¥ï¼‰             |
> | `MultiBlocProvider`      | Widget | åŒæ—¶æ³¨å†Œå¤šä¸ª BlocProvider                                    |
> | `BlocBuilder`            | Widget | æ ¹æ®çŠ¶æ€å˜åŒ–æ„å»º UIï¼Œç±»ä¼¼äº `Consumer`                       |
> | `BlocListener`           | Widget | ç›‘å¬çŠ¶æ€å˜åŒ–ï¼Œæ‰§è¡Œå‰¯ä½œç”¨ï¼ˆå¦‚å¼¹çª—ã€è·³è½¬ç­‰ï¼‰                   |
> | `BlocConsumer`           | Widget | `BlocBuilder` + `BlocListener` çš„ç»„åˆä½“                      |
> | `RepositoryProvider`     | Widget | æ³¨å…¥ Repositoryï¼ˆå¦‚ API æœåŠ¡ç±»ç­‰ï¼Œä¾¿äºæµ‹è¯•å’Œè§£è€¦ï¼‰           |
> | `BlocObserver`           | æŠ½è±¡ç±» | å…¨å±€ç›‘å¬ Bloc ç”Ÿå‘½å‘¨æœŸï¼šäº‹ä»¶æ´¾å‘ã€çŠ¶æ€å˜æ›´ã€é”™è¯¯ç­‰ï¼ˆé€‚åˆè°ƒè¯•æ—¥å¿—ï¼‰ |
> | `context.read<T>()`      | æ–¹æ³•   | è·å– Bloc/Cubit å®ä¾‹ï¼Œä¸è§¦å‘ rebuild                         |
> | `context.watch<T>()`     | æ–¹æ³•   | è·å–å¹¶ç›‘å¬ Bloc/Cubitï¼ŒçŠ¶æ€å˜åŒ–æ—¶è§¦å‘ rebuild                |
> | `context.select<T, R>()` | æ–¹æ³•   | ç²¾å‡†ç›‘å¬æŸä¸ªå±æ€§å˜åŒ–ï¼Œé¿å…æ— æ„ä¹‰é‡å»º                         |

## ä¸‰ã€ğŸ“ƒå…¶ä»– <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

### 1ã€å…³äºiOSæ¨¡æ‹Ÿå™¨ï¼ˆæœ€æ–°ç‰ˆæœ¬XCodeï¼š16.4ï¼‰ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

* è€ç‰ˆæœ¬çš„iOSæ¨¡æ‹Ÿå™¨çš„å…¼å®¹

  åœ¨è®¾å¤‡é€‰æ‹©å™¨é‡Œé¢ç‚¹é€‰äº†è¾ƒä½ç‰ˆæœ¬çš„iOSæ¨¡æ‹Ÿå™¨ï¼ˆæ¯”å¦‚è¯´ï¼šiPhone 7ï¼‰ï¼Œåªèƒ½é€šè¿‡å‘½ä»¤è¡Œè¿›è¡Œå®ä¾‹åŒ–å¹¶æ‰“å¼€

  ```shell
  xcrun simctl list devices | grep 'iPhone 7'
  xcrun simctl boot "iPhone 7"
  ```

  ![image-20250716131840500](./assets/README/image-20250716131840500.png)

* å‘½ä»¤è¡Œå”¤èµ· iOSæ¨¡æ‹Ÿå™¨

  ```shell
  open -a Simulator
  ```

* æŸ¥çœ‹`Command Line Tools`ç‰ˆæœ¬

  ```shell
  pkgutil --pkg-info=com.apple.pkg.CLTools_Executables
  ```

* æ‰“å°æ‰€æœ‰æ¨¡æ‹Ÿå™¨å®ä¾‹è·¯å¾„å’Œè®¾å¤‡åç§°

  ```shell
  xcrun simctl list devices -j | jq -r '.devices | to_entries[] | .value[] | select(.isAvailable == true) | "\(.name) (\(.state))\nâ†ªï¸  Path: ~/Library/Developer/CoreSimulator/Devices/\(.udid)\n"'
  ```

  æˆ–ï¼Œ

  ```shell
  xcrun simctl list devices | grep -E '^    ' | while read -r line; do
    name=$(echo "$line" | cut -d '(' -f1 | xargs)
    uuid=$(echo "$line" | grep -oE '[A-F0-9\-]{36}')
    echo "$name"
    echo "â†ªï¸  Path: ~/Library/Developer/CoreSimulator/Devices/$uuid"
    echo ""
  done
  ```

* æŸ¥çœ‹ç›®å‰æœ‰çš„iOSæ¨¡æ‹Ÿå™¨å®‰è£…åŒ…

  ```shell
  xcrun simctl list runtimes
  ```

* iOSæ¨¡æ‹Ÿå™¨ç›®å½•

  * ```shell
    ~/Library/Developer/CoreSimulator/Devices/
    ```

    > <font color=red>**æœ€å¸¸ç”¨çš„ç›®å½•**</font>
    >
    > ğŸ§¼ æ¸…ç†å»ºè®®ï¼šæ¸…ç† `~/Library/Developer/CoreSimulator/Devices/` å¯ä»¥é‡Šæ”¾å¤§é‡ç©ºé—´ï¼Œä½†ä¼šç§»é™¤æ‰€æœ‰æ¨¡æ‹Ÿå™¨çš„ App å®‰è£…æ•°æ®ã€‚
    >
    > **æ¯ä¸ªæ¨¡æ‹Ÿå™¨å®ä¾‹å¯¹åº”ä¸€ä¸ª UUID å­ç›®å½•**ã€‚å­ç›®å½•åŒ…å«è¯¥æ¨¡æ‹Ÿå™¨çš„æ‰€æœ‰æ•°æ®ï¼Œä¾‹å¦‚ï¼š
    >
    > - åº”ç”¨ç¨‹åºæ•°æ®ï¼ˆApp å®‰è£…åçš„å®¹å™¨ã€æ²™ç›’ï¼‰
    > - `data/` ç›®å½•é‡Œæœ‰æ¨¡æ‹Ÿå™¨çš„ Documentsã€tmpã€Library ç­‰è·¯å¾„
    > - `device.plist` å­˜å‚¨äº†æ¨¡æ‹Ÿå™¨çš„é…ç½®ä¿¡æ¯ï¼ˆåç§°ã€ç³»ç»Ÿç‰ˆæœ¬ã€çŠ¶æ€ç­‰ï¼‰
    > - `logs/` ä¿å­˜äº†æ—¥å¿—
    >
    > å½“ä½ è¿è¡Œæ¨¡æ‹Ÿå™¨ã€å®‰è£…åº”ç”¨ã€æŸ¥çœ‹æ²™ç›’è·¯å¾„ï¼Œè®¿é—®çš„å°±æ˜¯è¿™ä¸ªç›®å½•ä¸­çš„å¯¹åº”è·¯å¾„ã€‚

  * ```
    ~/Library/Developer/CoreSimulator/Volumes/
    ```

    > ğŸ§¼ æ¸…ç†å»ºè®®ï¼š`Volumes/` é€šå¸¸ç©ºé—´ä¸å¤§ï¼Œ**å¯ä»¥ç›´æ¥åˆ é™¤**ï¼ŒXcode ä¼šè‡ªåŠ¨é‡æ–°åˆ›å»ºã€‚
    >
    > * å­˜æ”¾æ¨¡æ‹Ÿå™¨ç”¨åˆ°çš„ **æŒ‚è½½å·ï¼ˆVolumesï¼‰æ•°æ®**ã€‚
    >
    > - ç”¨äºæ¨¡æ‹Ÿ **iOS è®¾å¤‡çš„ç£ç›˜ç»“æ„**ï¼ŒåŒ…æ‹¬ `/Volumes` ä¸­çš„æŒ‚è½½ç‚¹ã€‚
    > - ä¸€äº› App æˆ–ç³»ç»Ÿç»„ä»¶å¯èƒ½ä¼šåœ¨æ¨¡æ‹Ÿå™¨ä¸­è®¿é—® `/Volumes` è·¯å¾„ï¼ˆç±»ä¼¼ macOS ç£ç›˜æŒ‚è½½ï¼‰ï¼Œå°±ä¼šæŒ‚è½½æ­¤ç›®å½•ä¸­çš„æ•°æ®ã€‚
    >
    > ä¾‹å¦‚ï¼šæ¨¡æ‹Ÿå™¨è¿è¡Œä¸­ï¼Œå¦‚æœç”¨æˆ·æˆ– App å°è¯•æŒ‚è½½å¤–éƒ¨ç£ç›˜ï¼Œæˆ–åˆ›å»ºè™šæ‹Ÿç£ç›˜ï¼ˆå¦‚ .dmg æ–‡ä»¶ï¼‰ï¼Œå°±å¯èƒ½æ˜ å°„åˆ°è¿™ä¸ªç›®å½•ã€‚
    >
    > ğŸ“Œ æ³¨æ„äº‹é¡¹ï¼š
    >
    > - é€šå¸¸è¿™ä¸ªç›®å½•åœ¨æœªç‰¹æ®Šä½¿ç”¨æŒ‚è½½å·çš„æ¨¡æ‹Ÿå™¨ä¸­æ˜¯ç©ºçš„ã€‚
    > - å¯è¢«æ¸…ç†ï¼ŒXcode ä¼šåœ¨éœ€è¦æ—¶è‡ªåŠ¨é‡æ–°åˆ›å»ºã€‚

### 2ã€[**FVM**](https://fvm.app/) = <font color=red>F</font>lutter <font color=red>V</font>ersion <font color=red>M</font>anagement <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> ä¸€ä¸ªé¡¹ç›®é”å®šè¯¥é¡¹ç›®ç‰¹æœ‰çš„Flutter.sdkç¯å¢ƒï¼Œæ–¹ä¾¿åˆ‡æ¢å’Œè°ƒè¯•

* å®‰è£…[**FVM**](https://fvm.app/)çš„å‰ææ˜¯å…ˆå®‰è£…**dart**ç¯å¢ƒ

  ```dart
  dart pub global activate fvm
  ```

* ç”±[**FVM**](https://fvm.app/)é”å®šçš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œå†™å…¥åœ¨**Flutter**é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„**`.fvm/fvm_config.json`**ï¼ˆéšè—æ–‡ä»¶å¤¹ï¼‰

  ```json
  {
    "flutterSdkVersion": "3.13.9", /// å½“å‰é¡¹ç›®é”å®šä½¿ç”¨çš„ Flutter ç‰ˆæœ¬
    "pinVersions": false /// æ˜¯å¦é”å®šç²¾ç¡®ç‰ˆæœ¬ï¼ˆé€šå¸¸è®¾ä¸º falseï¼‰
  }
  ```

* ç”±[**FVM**](https://fvm.app/)ç®¡ç†çš„Flutter.SDKçš„ç¼“å­˜ç›®å½•ï¼š`.fvm/flutter_sdk/`

* ç¯å¢ƒå˜é‡é…ç½®ï¼š`.bash_profile`

  > ğŸŒŸå…¨å±€å®šä¹‰äº†ä¸€ä¸ª shell å‡½æ•°ï¼ŒæŠŠæ‰€æœ‰çš„ `flutter` å‘½ä»¤éƒ½è½¬å‘ç»™ `fvm`
  >
  > ğŸ“Œ é‚£ä¹ˆ FVM æ˜¯æ€ä¹ˆçŸ¥é“ç”¨å“ªä¸ª Flutter SDKï¼Ÿ
  >
  > * FVM ä¼šä¼˜å…ˆæŸ¥æ‰¾**å½“å‰é¡¹ç›®çš„ `.fvm/fvm_config.json`** æ–‡ä»¶ï¼›
  >
  > * å¦‚æœä½ ä¸åœ¨ Flutter é¡¹ç›®ç›®å½•ï¼ŒFVM ä¼šä½¿ç”¨ä½ è®¾ç½®çš„ **å…¨å±€é»˜è®¤ Flutter SDK ç‰ˆæœ¬**ã€‚
  >
  >   ```shell
  >   âœ  Desktop fvm global
  >   ? Select a version:  â€º
  >   â¯ stable
  >     3.32.6
  >     3.24.5
  >   ```

  ```shell
  # é…ç½® FVM ç¯å¢ƒå˜é‡
  export PATH="$HOME/.pub-cache/bin:$PATH"
  if command -v fvm &>/dev/null; then
    flutter() { fvm flutter "$@"; }
  else
    echo "âš ï¸ æœªæ£€æµ‹åˆ° fvmï¼Œè¯·æ‰§è¡Œ flutter pub global activate fvm å®‰è£…"
  fi
  ```

  ```shell
  âœ  Desktop which flutter

  flutter () {
  	fvm flutter "$@"
  }
  ```

* ğŸ§°[**FVM**](https://fvm.app/)å‘½ä»¤è¡Œä½¿ç”¨æ–¹å¼ï¼š

  * **æŸ¥çœ‹å½“å‰ FVM çš„å…¨å±€é»˜è®¤ç‰ˆæœ¬**

    ```shell
    fvm global
    ```

  * **æŸ¥çœ‹æ‰€æœ‰å¯ç”¨ç‰ˆæœ¬**

    ```
    fvm releases
    ```

  * **æŸ¥çœ‹å½“å‰é¡¹ç›®é”å®šç‰ˆæœ¬**

    ```shell
    fvm flutter --version
    ```

  * æŸ¥è¯¢å¯ç”¨**`channel`**

    ```shell
    fvm flutter channel
    ```

    ```shell
    âœ  Desktop flutter channel
    Flutter channels:
      master (latest development branch, for contributors)
      main (latest development branch, follows master channel)
      beta (updated monthly, recommended for experienced users)
    * stable (updated quarterly, for new users and for production app releases)
    ```

    | channel  | è¯´æ˜                                                         | é€‚ç”¨äººç¾¤       |
    | -------- | ------------------------------------------------------------ | -------------- |
    | `stable` | **ç¨³å®šå‘å¸ƒï¼Œé€‚åˆç”Ÿäº§ç¯å¢ƒ**                                   | æ™®é€šå¼€å‘è€… âœ…   |
    | `beta`   | **æ–°åŠŸèƒ½é¢„è§ˆç‰ˆï¼Œè¾ƒç¨³å®š**                                     | æœ‰ç»éªŒçš„å¼€å‘è€… |
    | `main`   | **ä¸»å¼€å‘åˆ†æ”¯ï¼ŒåŠŸèƒ½æœ€å‰æ²¿**<br>ä» **Flutter 3.22 å¼€å§‹**ï¼ŒFlutter å›¢é˜Ÿå¯¹ channel è¿›è¡Œäº†é‡æ„ï¼Œ**åºŸå¼ƒäº† `dev` channel çš„ç‹¬ç«‹ç»´æŠ¤**ï¼Œå…¶åŠŸèƒ½å®Œå…¨è¢« `main` å–ä»£ã€‚ | éœ€ä½“éªŒæœ€æ–°ç‰¹æ€§ |
    | `master` | **Flutter å¼•æ“è´¡çŒ®è€…ä½¿ç”¨**                                   | æ·±åº¦å‚ä¸è€…     |

  * å‡çº§ï¼ˆåˆ‡æ¢ï¼‰ç”±[**FVM**](https://fvm.app/)ç®¡ç†çš„Flutter.SDK

    ```shell
    # å¦‚æœæœ‰å¿…è¦ï¼Œéœ€è¦å…ˆåˆ‡æ¢channelï¼Œå†upgrade
    fvm flutter channel main
    fvm flutter upgrade
    ```

    | å‘½ä»¤                 | å«ä¹‰                                                         | æ˜¯å¦ä¿®æ”¹é¡¹ç›®é…ç½®                |
    | -------------------- | ------------------------------------------------------------ | ------------------------------- |
    | `fvm install stable` | å®‰è£…**æœ€æ–°ç¨³å®šç‰ˆæœ¬**åˆ°æœ¬åœ°ç¼“å­˜                               | âŒ                               |
    | `fvm use stable`     | è®¾ç½®å½“å‰é¡¹ç›®ä½¿ç”¨æœ€æ–°ç¨³å®šç‰ˆæœ¬                                 | âœ…                               |
    | `fvm global stable`  | è®¾ç½®å…¨å±€é»˜è®¤ç‰ˆæœ¬                                             | âœ…ï¼ˆå…¨å±€ï¼‰                       |
    | `fvm upgrade`        | 1ï¸âƒ£ **è·å–å½“å‰é¡¹ç›® `.fvm/fvm_config.json` ä¸­é…ç½®çš„ `flutterSdkVersion` æ‰€å± channelï¼ˆå¦‚ stableã€betaã€devã€masterï¼‰**ï¼›<br>2ï¸âƒ£ ç„¶åä»è¯¥ **channel** ä¸­ **å‡çº§åˆ°è¯¥ channel çš„æœ€æ–°ç‰ˆæœ¬** | âœ…ï¼ˆæ›´æ–°ç‰ˆæœ¬ä½†ä¸æ¢ **channel**ï¼‰ |

### 3ã€[**VSCode**](https://code.visualstudio.com/)é…ç½® <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

* å¦‚æœ[**VSCode**](https://code.visualstudio.com/)æ‰“å¼€flutteré¡¹ç›®ä»¥åæ²¡æœ‰åŠæ³•é€šè¿‡`command`+`click`çš„å½¢å¼ç‚¹è¿›å»çœ‹ï¼Œé‚£ä¹ˆéœ€è¦`command`+`shift`+`x` => å®‰è£…Dart/Flutter

  ![image-20250713101322760](./assets/README/image-20250713101322760.png)

  ![image-20250713101045523](./assets/README/image-20250713101045523.png)

  * [**VSCode**](https://code.visualstudio.com/)çš„é…ç½®æ–‡ä»¶

    ```
    Flutteré¡¹ç›®çš„æ ¹ç›®å½•/
    â””â”€â”€ .vscode/
        â”œâ”€â”€ extensions.json          âœ… æ’ä»¶æ¨èåˆ—è¡¨ï¼ˆâœ… æ¨èåŠ å…¥ Gitï¼‰
        â”œâ”€â”€ launch.json              â–¶ï¸ å¯åŠ¨é…ç½®ï¼ˆå¦‚è°ƒè¯• main.dartï¼‰ï¼ˆâœ… æ¨èåŠ å…¥ Gitï¼‰
        â”œâ”€â”€ settings.json            âš™ï¸ å…¨å±€é¡¹ç›®è®¾ç½®ï¼ˆâš ï¸ è§†æƒ…å†µåŠ å…¥ Gitï¼Œå»ºè®®ä»…ä¿ç•™é€šç”¨è®¾ç½®ï¼‰
        â”œâ”€â”€ settings.local.json      ğŸ§ª æœ¬åœ°ä¸“å±è®¾ç½®ï¼ˆâŒ ä¸å»ºè®®åŠ å…¥ Gitï¼Œåº”æ·»åŠ è‡³ .gitignoreï¼‰
        â””â”€â”€ tasks.json               ğŸ” è‡ªå®šä¹‰ä»»åŠ¡ï¼ˆå¦‚è‡ªåŠ¨æ„å»ºã€æ ¼å¼åŒ–ï¼‰ï¼ˆâœ… æ¨èåŠ å…¥ Gitï¼‰
    ```

  * Gitå¿½ç•¥æ–‡ä»¶`.gitignore`å¯¹äº[**VSCode**](https://code.visualstudio.com/)çš„é…ç½®æ–‡ä»¶çš„å¤„ç†

    ```plaintext
    # The .vscode folder contains launch configuration and tasks you configure in
    # VS Code which you may wish to be included in version control, so this line
    # is commented out by default.
    .vscode/settings.json
    !.vscode/settings.local.json
    ```


### 4ã€`/android/build.gradle`çš„é…ç½® <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

```Groovy
/// æ˜¾å¼å£°æ˜äº† Kotlin ç‰ˆæœ¬
buildscript {
    ext.kotlin_version = '1.8.22'
    repositories {
        google()
        mavenCentral()
    }
    dependencies {
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
    }
}

allprojects {
    repositories {
        google()
        mavenCentral()
    }
}

rootProject.buildDir = '../build'
subprojects {
    project.buildDir = "${rootProject.buildDir}/${project.name}"
}
subprojects {
    project.evaluationDependsOn(':app')
}

tasks.register("clean", Delete) {
    delete rootProject.buildDir
}
```

### 5ã€ğŸ¯ Dart å‘½åè§„åˆ™å¤§å…¨ï¼ˆå®˜æ–¹é£æ ¼æŒ‡å—ï¼‰ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| ç±»å‹            | å‘½åè§„åˆ™                                                     | æ ¼å¼ç¤ºä¾‹                             | æ˜¯å¦å…è®¸ä¸‹åˆ’çº¿ `_`  | æ˜¯å¦å…è®¸ `$`                                         |
| --------------- | ------------------------------------------------------------ | ------------------------------------ | ------------------- | ---------------------------------------------------- |
| ç±»å / æšä¸¾     | **å¸•æ–¯å¡å‘½åæ³•** PascalCaseï¼š<br><font color=red>**é¦–å­—æ¯å¤§å†™ï¼Œ<br/>æ¯ä¸ªå•è¯é¦–å­—æ¯ä¹Ÿå¤§å†™ï¼Œ<br/>ä¸è¦ç”¨ä¸‹åˆ’çº¿**</font> | `UserModel`, `MyApp`, `ActivityType` | âŒ ä¸èƒ½æœ‰ `_`        | âœ… å…è®¸<br/>ä½†<font color=red>**ä»…é™ç”Ÿæˆä»£ç **</font> |
| æ–¹æ³• / å‡½æ•°     | **é©¼å³°å‘½åæ³•** camelCase                                     | `fetchData()`, `onTap()`             | âŒ ä¸æ¨è            | âœ… å…è®¸ä½†å°‘è§                                         |
| å˜é‡ / æˆå‘˜å˜é‡ | **é©¼å³°å‘½åæ³•** camelCase                                     | `userName`, `isLoading`              | âœ… å…è®¸ `_`ï¼ˆç§æœ‰ï¼‰  | âœ… å…è®¸ä½†å°‘è§                                         |
| å¸¸é‡ï¼ˆé¡¶çº§ï¼‰    | **å…¨å¤§å†™ + ä¸‹åˆ’çº¿**                                          | `MAX_LENGTH`, `API_KEY`              | âœ… æ¨èä½¿ç”¨ `_` åˆ†éš” | âŒ ä¸å…è®¸                                             |
| æ–‡ä»¶å / è·¯å¾„   | **è›‡å½¢å‘½åæ³•** snake_caseï¼š<br><font color=red>**æ¯ä¸ªç©ºæ ¼çš†ä»¥åº•çº¿ï¼ˆ_ï¼‰å–ä»£çš„ä¹¦å†™é£æ ¼ï¼Œ<br/>ä¸”æ¯ä¸ªå•å­—çš„ç¬¬ä¸€ä¸ªå­—æ¯çš†ä¸ºå°å†™**</font> | `user_model.dart`, `home_page.dart`  | âœ… æ¨è              | âŒ ä¸æ¨è                                             |
| ç§æœ‰å˜é‡ / æ–¹æ³• | ä¸‹åˆ’çº¿å¼€å¤´<br>**åªåœ¨å½“å‰ Dart æ–‡ä»¶é‡Œèƒ½è®¿é—®ï¼Œå…¶ä»–æ–‡ä»¶å³ä½¿å¯¼å…¥äº†ä¹Ÿè®¿é—®ä¸åˆ°** | `_user`, `_fetchData()`              | âœ… å¿…é¡»ç”¨ `_`        | âŒ ä¸æ¨è                                             |

### 6ã€é‡å®šå‘æŠ€å·§

> ä¿ç•™å¤šä¸ªæ„é€ æ–¹å¼ï¼ˆå¦‚ builder æ¨¡å¼ vs æ™®é€š child æ¨¡å¼ï¼‰ï¼›
>
> ä¿è¯åˆå§‹åŒ–é€»è¾‘åªå†™ä¸€ä»½ï¼›
>
> æ”¯æŒ `const` è°ƒç”¨ï¼ˆå‰ææ˜¯ `_internal` æ„é€ å‡½æ•°ä¹Ÿ `const`ï¼‰ï¼›

è°ƒç”¨ `Person('Tom')` å®é™…ä¸Šæ˜¯è°ƒç”¨ `Person._internal('Tom', 18)`ï¼›

```dart
class Person {
  final String name;
  final int age;
  const Person._internal(this.name, this.age);
  const Person(String name) : this._internal(name, 18);
}
```

### 7ã€package <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

* **package:**è¿™ç§è·¯å¾„å‰ç¼€åªèƒ½ç”¨äº **`lib/` ç›®å½•ä¸‹çš„ Dart æ–‡ä»¶**ã€‚ è¡¨ç¤ºä» `pubspec.yaml` ä¸­å®šä¹‰çš„åŒ…æˆ–å½“å‰é¡¹ç›®çš„ `lib/` ç›®å½•å¼€å§‹å¼•ç”¨

  âŒ **ä¸èƒ½ä½¿ç”¨ `package:` çš„æƒ…å†µ**ï¼š

  | âŒ è·¯å¾„ç±»å‹          | åŸå› è¯´æ˜                                                     |
  | ------------------- | ------------------------------------------------------------ |
  | `assets/`           | ç”¨äºåŠ è½½èµ„æºï¼Œéœ€é€šè¿‡ `AssetImage` ç­‰æ–¹å¼åŠ è½½                 |
  | `lib/` ä»¥å¤–çš„æ–‡ä»¶å¤¹ | æ¯”å¦‚ `test/`ã€`bin/`ã€`web/`ã€`ios/`ã€`android/` ç­‰ä¸èƒ½è¢« `package:` å¼•ç”¨ |
  | `lib/` å¤– Dart æ–‡ä»¶ | æ¯”å¦‚ `tools/util.dart`ï¼Œä¸æ˜¯ `lib/` ä¸‹çš„æ— æ³•è¢« `package:` è®¿é—® |

### 8ã€[**Firebase**](https://firebase.google.com/?hl=zh-cn) <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

* [**Firebase**](https://firebase.google.com/?hl=zh-cn)ï¼š**Google æä¾›çš„ä¸€æ•´å¥—åç«¯äº‘æœåŠ¡å¹³å°**ï¼Œä¸“é—¨ä¸ºç§»åŠ¨ Appï¼ˆAndroid/iOSï¼‰ã€Web åº”ç”¨å¼€å‘è€…æä¾›â€œåç«¯å³æœåŠ¡â€ï¼ˆBaaSï¼‰èƒ½åŠ›

  > ğŸ“¦ ä¸€ä¸ªä¸éœ€è¦ä½ è‡ªå·±æ­æœåŠ¡å™¨ï¼Œå°±èƒ½æ‹¥æœ‰**æ¨é€é€šçŸ¥ã€ç”¨æˆ·ç™»å½•ã€æ•°æ®åº“ã€æ–‡ä»¶å­˜å‚¨ã€åˆ†æ**ç­‰åŠŸèƒ½çš„ä¸€ç«™å¼å¹³å°ã€‚
  >
  > <font>**è™½ç„¶[**Firebase**](https://firebase.google.com/?hl=zh-cn)è·¨å¹³å°æ”¯æŒiOSï¼Œä½†æ˜¯åœ¨Appleå¹³å°çš„æ¨é€éƒ½å¿…é¡»ä¸¥æ ¼éµå¾ªè‹¹æœçš„æ ‡å‡†è®¾å®šï¼ˆAPNsï¼‰ã€‚å³ï¼Œåœ¨APNsä¸Šè¿›è¡Œäº†äºŒæ¬¡å°è£…**</font>

  | åˆ†ç±»                                                         | æ¨¡å—åç§°                                     | åŠŸèƒ½è¯´æ˜                                |
  | ------------------------------------------------------------ | -------------------------------------------- | --------------------------------------- |
  | ğŸ”” æ¨é€é€šçŸ¥                                                   | Firebase Cloud Messagingï¼ˆFCMï¼‰              | å‘ Android/iOS/Web å‘é€é€šçŸ¥æ¶ˆæ¯         |
  | ğŸ” èº«ä»½è®¤è¯                                                   | Firebase Authentication                      | ç™»å½•æ³¨å†Œï¼ˆæ”¯æŒæ‰‹æœºå·ã€é‚®ç®±ã€Google ç­‰ï¼‰ |
  | ğŸ—„ï¸ æ•°æ®åº“                                                     | Firebase Realtime DatabaseFirebase Firestore | äº‘æ•°æ®åº“ï¼Œè‡ªåŠ¨åŒæ­¥åˆ°å®¢æˆ·ç«¯              |
  | ğŸ“¦ æ–‡ä»¶å­˜å‚¨                                                   | Firebase Storage                             | å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ç­‰ä¸Šä¼ ä¸‹è½½              |
  | ğŸ“Š åº”ç”¨åˆ†æ                                                   | Firebase Analytics                           | è®°å½•ç”¨æˆ·è¡Œä¸ºã€äº‹ä»¶åŸ‹ç‚¹åˆ†æ              |
  | ğŸ§ª å´©æºƒæŠ¥å‘Š                                                   | Firebase Crashlytics                         | æ•æ‰åº”ç”¨å´©æºƒæ—¥å¿—                        |
  | â˜ï¸ äº‘å‡½æ•°                                                     | Firebase Cloud Functions                     | å†™åç«¯ä»£ç çš„ Serverless å¹³å°            |
  | ğŸŒ æ‰˜ç®¡                                                       | Firebase Hosting                             | é™æ€ Web é¡µé¢æ‰˜ç®¡                       |
  | ğŸ” A/Bæµ‹è¯•<br/>ï¼ˆé€šè¿‡å¯¹æ¯”ä¸¤ä¸ªç‰ˆæœ¬ï¼ˆA å’Œ Bï¼‰æ¥æ‰¾å‡ºå“ªä¸€ä¸ªæ•ˆæœæ›´å¥½çš„å®éªŒæ–¹æ³•ã€‚ï¼‰ | Firebase Remote ConfigFirebase A/B Testing   | è¿œç¨‹åŠ¨æ€é…ç½®ï¼Œç”¨æˆ·å®éªŒæµ‹è¯•              |

  | å¹³å°    | æ”¯æŒ [**Firebase**](https://firebase.google.com/?hl=zh-cn) å—ï¼Ÿ |
  | ------- | ------------------------------------------------------------ |
  | Android | âœ… å…¨é¢æ”¯æŒ                                                   |
  | iOS     | âœ… å…¨é¢æ”¯æŒï¼ˆæ¨é€éœ€æ¥å…¥ APNsï¼‰                                |
  | Web     | âœ… æ”¯æŒ                                                       |
  | Flutter | âœ… æœ‰å®˜æ–¹ SDK æ”¯æŒ                                            |
  | Unity   | âœ… æ”¯æŒæ¸¸æˆå¼€å‘                                               |
  | C++     | âœ… æ”¯æŒéƒ¨åˆ†æ¨¡å—                                               |

### 9ã€ğŸ“‚Dart.Flutterç³»ç»Ÿæ–‡ä»¶ç›®å½• <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

#### 9.1ã€`~/.pub-cache/hosted/pub.dev/`

* å­˜æ”¾ä» [**pub.dev**](https://pub.dev) ä¸‹è½½çš„æ‰€æœ‰ä¾èµ–åŒ…æºç ï¼ˆåŒ…æ‹¬ç‰ˆæœ¬å·ï¼‰

* ğŸ‰‘åˆ é™¤ï¼Œæ“ä½œåä¸ä¼šå½±å“å½“å‰é¡¹ç›®ï¼›**ä¸‹æ¬¡è¿è¡Œ `flutter pub get` ä¼šé‡æ–°è”ç½‘ä¸‹è½½æ‰€æœ‰ä¾èµ–**ï¼›

  * ```shell
    /// è‡ªåŠ¨æ¸…é™¤æŸåçš„åŒ…ï¼›
    /// æ£€æŸ¥ä¾èµ–å®Œæ•´æ€§ï¼›
    /// é‡æ–°ä¸‹è½½ä¸¢å¤±çš„æˆ–æŸåçš„åŒ…ï¼›
    flutter pub cache repair
    ```

  * ```shell
    rm -rf ~/.pub-cache/hosted/pub.dev/*
    flutter pub get
    ```

  | é¡¹ç›®             | `flutter pub cache repair`    | `rm -rf ~/.pub-cache/hosted/pub.dev/* && flutter pub get` |
  | ---------------- | ----------------------------- | --------------------------------------------------------- |
  | âœ… æ˜¯å¦æ¸…é™¤ç¼“å­˜   | âœ”ï¸ æ¸…é™¤æŸå/å¼‚å¸¸çš„åŒ…ï¼ˆé€‰æ‹©æ€§ï¼‰ | âœ”ï¸ å…¨éƒ¨æ¸…é™¤ï¼ˆæš´åŠ›åˆ ï¼‰                                      |
  | âœ… æ˜¯å¦é‡æ–°ä¸‹è½½   | âœ”ï¸ ä»…ä¸‹è½½ç¼ºå¤±æˆ–æŸåçš„åŒ…        | âœ”ï¸ å…¨éƒ¨é‡æ–°ä¸‹è½½                                            |
  | âœ… æ˜¯å¦ä¿ç•™æ­£å¸¸åŒ… | âœ”ï¸ ä¼šä¿ç•™æœªæŸåçš„åŒ…            | âŒ å…¨éƒ¨åˆ é™¤                                                |
  | âœ… å®‰å…¨æ€§         | âœ”ï¸ å®˜æ–¹æ”¯æŒï¼Œä¿å®ˆä¿®å¤          | âš ï¸ æœ‰é£é™©ï¼Œå®Œå…¨æ¸…ç©ºï¼Œä¾èµ–å…¨éƒ¨é‡æ‹‰                          |
  | âœ… ä½¿ç”¨åœºæ™¯       | ä¾èµ–å¼‚å¸¸ã€ä¸‹è½½ä¸­æ–­ã€æ„å»ºå¤±è´¥  | å½»åº•æ¸…ç†åé‡å»ºç¼“å­˜ã€è§£å†³æç«¯å†²çª                          |

#### 9.2ã€`~/.pub-cache/`

| è·¯å¾„                           | è¯´æ˜                                                  | æ˜¯å¦å¯åˆ                            |
| ------------------------------ | ----------------------------------------------------- | ---------------------------------- |
| `~/.pub-cache/hosted/pub.dev/` | æ¥è‡ª pub.dev çš„æ‰€æœ‰ Dart åŒ…ç¼“å­˜                       | âœ… å¯åˆ ï¼Œ`pub get` ä¼šè‡ªåŠ¨æ¢å¤       |
| `~/.pub-cache/git/`            | é€šè¿‡ Git å®‰è£…çš„åŒ…                                     | âœ… å¯åˆ ï¼Œè‡ªåŠ¨æ¢å¤                   |
| `~/.pub-cache/bin/`            | å…¨å±€å®‰è£…çš„ Dart å‘½ä»¤è¡Œå·¥å…·ï¼ˆå¦‚ `webdev`, `melos` ç­‰ï¼‰ | âš ï¸ æ…åˆ ï¼Œåˆ äº†è¦é‡æ–° global activate |
| `~/.pub-cache/_temp/`          | ä¸´æ—¶ä¸‹è½½ç¼“å­˜                                          | âœ… å®‰å…¨æ¸…ç†                         |

#### 9.3ã€`~/.flutter/`

| è·¯å¾„          | è¯´æ˜                                            | æ˜¯å¦å¯åˆ                             |
| ------------- | ----------------------------------------------- | ----------------------------------- |
| `~/.flutter/` | Flutter å·¥å…·ç¼“å­˜ï¼ˆä¾‹å¦‚ Flutter Web çš„è°ƒè¯•èµ„æºï¼‰ | âœ… å¯åˆ ï¼Œè¿è¡Œä»»ä½• flutter å‘½ä»¤ä¼šé‡å»º |

#### 9.4ã€`~/Library/Flutter/` ï¼ˆæŒ‰éœ€å‡ºç°ï¼Œéå¿…å¤‡ï¼‰

> è¿™ä¸ªç›®å½•åªæœ‰åœ¨ä½ æ»¡è¶³ä»¥ä¸‹æ¡ä»¶æ—¶æ‰ä¼šå‡ºç°ï¼š
>
> | æ¡ä»¶                                       | æè¿°                                                |
> | ------------------------------------------ | --------------------------------------------------- |
> | ä½¿ç”¨ macOS ä¸”æ‰§è¡Œè¿‡ `flutter precache`     | ä¼šæ‹‰å–ä¸€äº› Flutter tools ç¼“å­˜åˆ° `~/Library/Flutter` |
> | ä½¿ç”¨è¿‡ Flutter Web / Desktop               | æŸäº›æ„å»ºäº§ç‰©å¯èƒ½ä¼šç¼“å­˜åˆ°è¿™é‡Œ                        |
> | å®‰è£…äº†æŸäº› Flutter æ’ä»¶ï¼ˆå¦‚ Firebase CLIï¼‰ | å¯èƒ½å†™å…¥é…ç½®æ–‡ä»¶                                    |
>
> ğŸ‘‰ **æ²¡ä½¿ç”¨æˆ–æœªè§¦å‘ä»¥ä¸Šè¡Œä¸ºï¼Œè¯¥è·¯å¾„å°±ä¸ä¼šåˆ›å»ºã€‚**

| è·¯å¾„                 | è¯´æ˜                          | æ˜¯å¦å¯åˆ                            |
| -------------------- | ----------------------------- | ---------------------------------- |
| `~/Library/Flutter/` | macOS ä¸“å±çš„ Flutter å·¥å…·ç¼“å­˜ | âœ… å¯åˆ ï¼ŒFlutter ä¼šé‡æ–°æ‹‰å–æ‰€éœ€å·¥å…· |

#### 9.5ã€`~/.dart/`

> Dart CLI çš„ç¼“å­˜ç›®å½•ï¼Œåªæœ‰åœ¨ä»¥ä¸‹æƒ…å†µå‡ºç°æ—¶æ‰ä¼šç”Ÿæˆï¼š
>
> | æ¡ä»¶                                         | æè¿°                                |
> | -------------------------------------------- | ----------------------------------- |
> | ç‹¬ç«‹å®‰è£…è¿‡ Dart SDKï¼ˆé Flutter è‡ªå¸¦ï¼‰       | ä¾‹å¦‚é€šè¿‡ `brew install dart`        |
> | ä½¿ç”¨ Dart CLI åˆ›å»ºé¡¹ç›®æˆ–æ‰§è¡Œè¿‡ `dart pub`    | å¦‚ `dart create`ã€`dart run` ç­‰å‘½ä»¤ |
> | ä½¿ç”¨ `dart pub global activate` å®‰è£…è¿‡å…¨å±€åŒ… | å¦‚ `melos`ã€`webdev` ç­‰å·¥å…·         |
>
> ğŸ‘‰ **å¦‚æœä½ æ˜¯é€šè¿‡ Flutter å®‰è£…çš„ Dartï¼Œå¹¶ä¸”ä¸€ç›´æ˜¯ç”¨ `flutter pub`ï¼Œé‚£è¿™ä¸ªç›®å½•å‹æ ¹ä¸ä¼šåˆ›å»ºã€‚**

| è·¯å¾„       | è¯´æ˜                                           | æ˜¯å¦å¯åˆ                                            |
| ---------- | ---------------------------------------------- | -------------------------------------------------- |
| `~/.dart/` | Dart SDK å’Œ tools çš„ç¼“å­˜ï¼ˆéƒ¨åˆ†ç‰ˆæœ¬ä¾èµ–æ­¤ç›®å½•ï¼‰ | âš ï¸ æ…åˆ ï¼Œå¦‚æœä½ ä½¿ç”¨ dart CLI é¢‘ç¹åˆ‡æ¢ SDKï¼Œå»ºè®®ä¿ç•™ |

### 10ã€ğŸ“‚**Dart.Flutteré¡¹ç›®æ–‡ä»¶ï¼ˆå¤¹ï¼‰** <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

  * [**FVM**](https://fvm.app/) ç›¸å…³

    | è·¯å¾„                         | è¯´æ˜                                         | æ˜¯å¦å¯åˆ                        |
    | ---------------------------- | -------------------------------------------- | ------------------------------ |
    | `~/.fvm/`                    | Flutter Version Management çš„æ‰€æœ‰ SDK å­˜æ”¾åœ° | âš ï¸ æ…åˆ ï¼Œåˆ äº†æ—§ç‰ˆæœ¬å°±æ— æ³•ä½¿ç”¨   |
    | `.fvm/flutter_sdk`ï¼ˆé¡¹ç›®å†…ï¼‰ | æŒ‡å‘ fvm Flutter SDK çš„è½¯é“¾æ¥                | âœ… æ¸…ç†å‰ç¡®ä¿ä¸æ˜¯å½“å‰é¡¹ç›®ä½¿ç”¨ä¸­ |

  * `analysis_options.yaml` æ˜¯ä¸€ä¸ªä¸ Dart è¯­è¨€å¼€å‘ç›¸å…³çš„æ–‡ä»¶ï¼Œå®ƒé€šå¸¸ç”¨äºé…ç½® Dart ä»£ç çš„é™æ€åˆ†æå’Œä»£ç é£æ ¼æ£€æŸ¥å·¥å…·ï¼›

    ```yaml
    # This file configures the analyzer, which statically analyzes Dart code to
    # check for errors, warnings, and lints.
    #
    # The issues identified by the analyzer are surfaced in the UI of Dart-enabled
    # IDEs (https://dart.dev/tools#ides-and-editors). The analyzer can also be
    # invoked from the command line by running `flutter analyze`.

    # The following line activates a set of recommended lints for Flutter apps,
    # packages, and plugins designed to encourage good coding practices.
    analyzer:
      errors:
        # è­¦å‘Šå¿½ç•¥ï¼šåœ¨å…¬å…± API ä¸­ä½¿ç”¨ç§æœ‰ç±»å‹
        library_private_types_in_public_api: ignore
    include: package:flutter_lints/flutter.yaml

    linter:
      # The lint rules applied to this project can be customized in the
      # section below to disable rules from the `package:flutter_lints/flutter.yaml`
      # included above or to enable additional rules. A list of all available lints
      # and their documentation is published at https://dart.dev/lints.
      #
      # Instead of disabling a lint rule for the entire project in the
      # section below, it can also be suppressed for a single line of code
      # or a specific dart file by using the `// ignore: name_of_lint` and
      # `// ignore_for_file: name_of_lint` syntax on the line or in the file
      # producing the lint.
      rules:
        # avoid_print: false  # Uncomment to disable the `avoid_print` rule
        # prefer_single_quotes: true  # Uncomment to enable the `prefer_single_quotes` rule

    # Additional information about this file can be found at
    # https://dart.dev/guides/language/analysis-options
    ```

    * è¿™ä¸ªæ–‡ä»¶å®šä¹‰äº†ä¸€ç³»åˆ—çš„è§„åˆ™å’Œé…ç½®ï¼Œä»¥æŒ‡å¯¼é™æ€åˆ†æå·¥å…·ï¼ˆå¦‚ Dart Analyzerï¼‰å’Œä»£ç é£æ ¼æ£€æŸ¥å·¥å…·ï¼ˆå¦‚ Dart Linterï¼‰åœ¨æ£€æŸ¥ Dart ä»£ç æ—¶åº”è¯¥éµå¾ªçš„è§„èŒƒå’Œè¡Œä¸ºã€‚
    * åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œå¯ä»¥é…ç½®è®¸å¤šä¸åŒçš„é€‰é¡¹ã€‚æ¯”å¦‚ï¼šä»£ç æ ¼å¼åŒ–è§„åˆ™ã€ä»£ç é£æ ¼è§„èŒƒã€ä»£ç è´¨é‡æ£€æŸ¥è§„åˆ™ç­‰ï¼›
    * è¿™ä¸ªæ–‡ä»¶å¯ä»¥å¸®åŠ©å›¢é˜Ÿç¡®ä¿ä»–ä»¬çš„ Dart ä»£ç åœ¨è¯­æ³•ã€é£æ ¼å’Œè´¨é‡æ–¹é¢éƒ½ä¿æŒä¸€è‡´æ€§ï¼Œå¹¶ä¸”ç¬¦åˆå›¢é˜Ÿæˆ–é¡¹ç›®çš„è§„èŒƒï¼Œç¡®ä¿å›¢é˜Ÿçš„ä»£ç è´¨é‡å’Œä¸€è‡´æ€§ï¼›
    * ä¸€ä¸ªå…¸å‹çš„ `analysis_options.yaml` æ–‡ä»¶å¯èƒ½åŒ…å«è¯¸å¦‚ä»¥ä¸‹å†…å®¹çš„é…ç½®ï¼š
      * ä»£ç é£æ ¼è§„èŒƒï¼Œæ¯”å¦‚ç¼©è¿›ã€ç©ºæ ¼ä½¿ç”¨ã€å‘½åçº¦å®šç­‰ï¼›
      * é™æ€åˆ†æå·¥å…·çš„é…ç½®ï¼Œæ¯”å¦‚æ˜¯å¦å¯ç”¨å¼ºç±»å‹æ£€æŸ¥ã€æœªä½¿ç”¨çš„å˜é‡è­¦å‘Šç­‰ï¼›
      * ä»£ç è´¨é‡æ£€æŸ¥è§„åˆ™ï¼Œæ¯”å¦‚æœªä½¿ç”¨çš„ä»£ç ã€ä¸å®‰å…¨çš„æ“ä½œç­‰ï¼›
      * é¡¹ç›®ç‰¹å®šçš„è§„åˆ™å’Œé…ç½®ï¼Œæ¯”å¦‚ç¦ç”¨ç‰¹å®šçš„è­¦å‘Šã€è‡ªå®šä¹‰ä»£ç æ ¼å¼åŒ–ç­‰ï¼›

  * `pubspec.yaml` æ˜¯ Dart è¯­è¨€ä¸­ç”¨äºç®¡ç†é¡¹ç›®ä¾èµ–å’Œå…ƒæ•°æ®çš„æ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶é€šå¸¸ä½äº Dart é¡¹ç›®çš„æ ¹ç›®å½•ä¸­ï¼Œå…¶ä¸­åŒ…å«äº†é¡¹ç›®çš„åç§°ã€ç‰ˆæœ¬ã€ä½œè€…ä¿¡æ¯ç­‰åŸºæœ¬å…ƒæ•°æ®ï¼Œä»¥åŠé¡¹ç›®æ‰€ä¾èµ–çš„ç¬¬ä¸‰æ–¹åº“ï¼ˆé€šè¿‡ Dart åŒ…ç®¡ç†å™¨ pub å®‰è£…ï¼‰ï¼›

    * åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œå¯ä»¥åšä»¥ä¸‹å‡ ä»¶äº‹æƒ…ï¼š
      * **æŒ‡å®šé¡¹ç›®å…ƒæ•°æ®**ï¼šä½ å¯ä»¥æŒ‡å®šé¡¹ç›®çš„åç§°ã€ç‰ˆæœ¬ã€æè¿°ã€ä½œè€…ä¿¡æ¯ç­‰å…ƒæ•°æ®ï¼Œè¿™äº›ä¿¡æ¯å°†åœ¨å‘å¸ƒåˆ° Dart åŒ…ä»“åº“æ—¶æ˜¾ç¤ºã€‚
      * **å®šä¹‰é¡¹ç›®ä¾èµ–**ï¼šé€šè¿‡ `dependencies` å’Œ `dev_dependencies` éƒ¨åˆ†ï¼Œä½ å¯ä»¥æŒ‡å®šé¡¹ç›®æ‰€ä¾èµ–çš„ç¬¬ä¸‰æ–¹åº“ã€‚å…¶ä¸­ï¼Œ`dependencies` æŒ‡å®šé¡¹ç›®è¿è¡Œæ—¶ä¾èµ–çš„åº“ï¼Œè€Œ `dev_dependencies` åˆ™æ˜¯å¼€å‘æ—¶ä¾èµ–çš„åº“ï¼Œæ¯”å¦‚æµ‹è¯•æ¡†æ¶ã€ä»£ç åˆ†æå·¥å…·ç­‰ã€‚
      * **æŒ‡å®š Dart ç‰ˆæœ¬**ï¼šä½ å¯ä»¥æŒ‡å®šé¡¹ç›®æ‰€éœ€çš„ Dart SDK ç‰ˆæœ¬ï¼Œä»¥ç¡®ä¿é¡¹ç›®çš„å…¼å®¹æ€§ã€‚
      * **æ·»åŠ å…¶ä»–é…ç½®**ï¼šé™¤äº†ä¸Šè¿°å†…å®¹å¤–ï¼Œä½ è¿˜å¯ä»¥åœ¨ `pubspec.yaml` æ–‡ä»¶ä¸­æ·»åŠ å…¶ä»–é…ç½®ï¼Œæ¯”å¦‚é¡¹ç›®çš„ç¯å¢ƒä¾èµ–ã€è„šæœ¬å‘½ä»¤ã€èµ„æºæ–‡ä»¶ç­‰ã€‚
    * <font color=red>`assets` **è·¯å¾„åä¸èƒ½æœ‰ä¸­æ–‡ï¼Œå¦åˆ™å¯èƒ½æ— æ³•æ­£å¸¸è¯»å–**</font>

    *`pubspec.yaml`*

    ```yaml
    name: my_project
    version: 1.0.0
    description: A sample Dart project

    dependencies:
      flutter:
        sdk: flutter
      http: ^0.13.3
      intl: ^0.17.0

    dev_dependencies:
      flutter_test:
        sdk: flutter

    flutter:
      uses-material-design: true

    assets: # è·¯å¾„åä¸èƒ½æœ‰ä¸­æ–‡ï¼Œå¦åˆ™å¯èƒ½æ— æ³•æ­£å¸¸è¯»å–
      - assets/
      - assets/i18n/
      - assets/CarouselAssets/
      - assets/AppLaunchAssets/

    #è¿™ä¸ªæ–‡ä»¶å®šä¹‰äº†ä¸€ä¸ªåä¸º `my_project` çš„ Dart é¡¹ç›®
    #å®ƒä¾èµ–äº Flutter SDK
    #å¹¶ä¸”è¿˜ä¾èµ–äº `http` å’Œ `intl` è¿™ä¸¤ä¸ªç¬¬ä¸‰æ–¹åº“
    #åŒæ—¶ï¼Œå®ƒä¹Ÿå£°æ˜äº†å¼€å‘æ—¶çš„ä¾èµ– `flutter_test`
    ```

  * `pubspec.lock` æ–‡ä»¶æ˜¯ Dart é¡¹ç›®ä¸­çš„è‡ªåŠ¨ç”Ÿæˆæ–‡ä»¶ï¼Œç”¨äºé”å®šé¡¹ç›®ä¾èµ–çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚

    * æ˜¯ Dart é¡¹ç›®ä¸­çš„é‡è¦æ–‡ä»¶ä¹‹ä¸€ï¼Œé€šå¸¸ç”± Dart åŒ…ç®¡ç†å™¨ pub è‡ªåŠ¨ç”Ÿæˆï¼Œå¹¶ä¸”ä¼šéšç€ä½ è¿è¡Œ `pub get` æˆ– `pub upgrade` å‘½ä»¤è€Œæ›´æ–°ã€‚
    * `pubspec.lock` æ–‡ä»¶è®°å½•äº†é¡¹ç›®ä¾èµ–åŒ…çš„ç¡®åˆ‡ç‰ˆæœ¬ä¿¡æ¯ï¼ŒåŒ…æ‹¬ä¸»è¦ä¾èµ–å’Œé—´æ¥ä¾èµ–ã€‚è¿™æ ·åšçš„ç›®çš„æ˜¯ç¡®ä¿**åœ¨ä¸åŒçš„ç¯å¢ƒä¸­**ï¼ˆæ¯”å¦‚ä¸åŒçš„å¼€å‘è€…ã€ä¸åŒçš„æ„å»ºæœåŠ¡å™¨ï¼‰è¿è¡Œç›¸åŒçš„ `pub get` æˆ– `pub upgrade` å‘½ä»¤æ—¶ï¼Œä½¿ç”¨çš„ä¾èµ–ç‰ˆæœ¬éƒ½æ˜¯ä¸€è‡´çš„ï¼Œä»è€Œé¿å…å› ä¸ºä¾èµ–ç‰ˆæœ¬ä¸ä¸€è‡´è€Œå¯¼è‡´çš„é—®é¢˜ï¼Œæé«˜äº†é¡¹ç›®çš„å¯é‡å¤æ€§å’Œç¨³å®šæ€§ï¼›
    * å½“è¿è¡Œ `pub get` æˆ– `pub upgrade` å‘½ä»¤æ—¶ï¼Œpub å°†ä¼šæ ¹æ® `pubspec.yaml` ä¸­æŒ‡å®šçš„ä¾èµ–å…³ç³»ç”Ÿæˆæˆ–æ›´æ–° `pubspec.lock` æ–‡ä»¶ï¼›

    *`pubspec.lock`*

    ```yaml
    packages:
      flutter:
        description: flutter
        source: hosted
        version: "2.5.0"
      http:
        description: http
        source: hosted
        version: "0.13.3"
      intl:
        description: intl
        source: hosted
        version: "0.17.0"
    ```


  * `.metadata` æ–‡ä»¶æ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ï¼ŒDart é¡¹ç›®ä¸­çš„ä¸€ä¸ªéšè—æ–‡ä»¶ï¼Œé€šå¸¸å­˜å‚¨åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹ï¼Œç”¨äºä¿å­˜ä¸ Dart åŒ…ç®¡ç†å™¨ pub ç›¸å…³çš„å…ƒæ•°æ®ä¿¡æ¯ã€‚

    * è¿™ä¸ªæ–‡ä»¶é€šå¸¸ç”± pub è‡ªåŠ¨ç”Ÿæˆå’Œç»´æŠ¤ï¼Œå…¶ä¸­åŒ…å«äº†ä¸€äº›å…³äºé¡¹ç›®çš„ä¿¡æ¯ï¼Œæ¯”å¦‚é¡¹ç›®æ‰€ä½¿ç”¨çš„ SDK ç‰ˆæœ¬ã€ç¼“å­˜è·¯å¾„ã€ä¾èµ–åŒ…çš„è·¯å¾„ç­‰ï¼›
    * ä¸éœ€è¦æ‰‹åŠ¨ç¼–è¾‘æˆ–å¤„ç† `.metadata` æ–‡ä»¶ï¼Œå› ä¸ºå®ƒæ˜¯ç”± pub è‡ªåŠ¨ç”Ÿæˆå’Œç®¡ç†çš„ï¼›
    * åœ¨ä¸€äº›æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½ä¼šå‘ç°è‡ªå·±éœ€è¦åˆ é™¤ `.metadata` æ–‡ä»¶ï¼Œä¾‹å¦‚å½“ä½ é‡åˆ°ä¸ pub ç›¸å…³çš„é—®é¢˜æ—¶ï¼Œå°è¯•åˆ é™¤ `.metadata` æ–‡ä»¶å¹¶é‡æ–°æ‰§è¡Œ `pub get` æˆ– `pub upgrade` å¯èƒ½ä¼šæœ‰åŠ©äºè§£å†³é—®é¢˜ï¼›
    * åˆ é™¤ `.metadata` æ–‡ä»¶åï¼Œpub ä¼šé‡æ–°ç”Ÿæˆä¸€ä¸ªæ–°çš„ `.metadata` æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«äº†å½“å‰é¡¹ç›®çš„å…ƒæ•°æ®ä¿¡æ¯ï¼›

  * `.flutter-plugins` æ–‡ä»¶æ˜¯ Flutter é¡¹ç›®ä¸­çš„ä¸€ä¸ªéšè—æ–‡ä»¶ï¼Œå®ƒç”¨äºè·Ÿè¸ª Flutter æ’ä»¶çš„ä¿¡æ¯ï¼›

    * æ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œé€šå¸¸ä½¿ç”¨ UTF-8 ç¼–ç ã€‚åªæ˜¯ä¸€ç§ç®€å•çš„ï¼ˆé”®å€¼å¯¹æ ¼å¼ï¼‰é…ç½®æ–‡ä»¶æ ¼å¼ï¼Œå¹¶æ²¡æœ‰ç‰¹å®šçš„ç¼–ç¨‹è¯­è¨€ä¸ä¹‹å…³è”
    * è¿™ä¸ªæ–‡ä»¶çš„å­˜åœ¨ä½¿å¾— Flutter å·¥å…·èƒ½å¤Ÿè½»æ¾åœ°çŸ¥é“é¡¹ç›®ä¸­ä½¿ç”¨äº†å“ªäº›æ’ä»¶ï¼Œä»¥åŠå®ƒä»¬çš„è·¯å¾„ã€‚è¿™å¯¹äºæ„å»ºã€ç¼–è¯‘å’Œæ‰“åŒ…åº”ç”¨ç¨‹åºæ˜¯éå¸¸æœ‰ç”¨çš„ï¼Œå› ä¸º Flutter å·¥å…·éœ€è¦çŸ¥é“å“ªäº›æ’ä»¶éœ€è¦åŒ…å«åœ¨æœ€ç»ˆçš„åº”ç”¨ç¨‹åºåŒ…ä¸­ã€‚
    * Flutter æ’ä»¶æ˜¯ç”¨æ¥æ‰©å±• Flutter åº”ç”¨ç¨‹åºåŠŸèƒ½çš„è½¯ä»¶åŒ…ï¼Œå®ƒä»¬é€šå¸¸ç”¨äºè®¿é—®å¹³å°ç‰¹å®šçš„åŠŸèƒ½ï¼Œæ¯”å¦‚ç›¸æœºã€åœ°ç†ä½ç½®ã€æ¨é€é€šçŸ¥ç­‰ï¼›
    * æ–‡ä»¶è®°å½•äº†é¡¹ç›®ä¸­ä½¿ç”¨çš„ Flutter æ’ä»¶çš„åç§°å’Œè·¯å¾„ä¿¡æ¯ã€‚å½“ä½ åœ¨ Flutter é¡¹ç›®ä¸­æ·»åŠ æˆ–ç§»é™¤ Flutter æ’ä»¶æ—¶ï¼ŒFlutter å·¥å…·ä¼šè‡ªåŠ¨æ›´æ–°è¿™ä¸ªæ–‡ä»¶ï¼›
    * æ–‡ä»¶çš„æ ¼å¼é€šå¸¸æ˜¯ä¸€ä¸ªç®€å•çš„é”®å€¼å¯¹åˆ—è¡¨ï¼Œå…¶ä¸­é”®æ˜¯æ’ä»¶çš„åç§°ï¼Œå€¼æ˜¯æ’ä»¶æ‰€åœ¨çš„è·¯å¾„ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

    ```
    camera=plugins/camera/
    location=plugins/location/
    ```


  * `.flutter-plugins-dependencies` æ–‡ä»¶æ˜¯ä¸€ä¸ªç”¨æ¥å­˜å‚¨ Flutter æ’ä»¶ä¾èµ–ä¿¡æ¯çš„éšè—æ–‡ä»¶ï¼›

    * è¿™ä¸ªæ–‡ä»¶é€šå¸¸ç”± Flutter å·¥å…·è‡ªåŠ¨ç”Ÿæˆå’Œç»´æŠ¤ï¼Œå¹¶ä¸”åœ¨ä½¿ç”¨ `flutter pub get` æˆ– `flutter pub upgrade` å‘½ä»¤æ—¶ä¼šè¢«æ›´æ–°ï¼›

    * æ–‡ä»¶è®°å½•äº†æ¯ä¸ª Flutter æ’ä»¶çš„ä¾èµ–å…³ç³»ï¼ŒåŒ…æ‹¬ä¸»è¦æ’ä»¶å’Œä¾èµ–æ’ä»¶ã€‚è¿™äº›ä¿¡æ¯æœ‰åŠ©äº Flutter å·¥å…·æ›´å¥½åœ°ç®¡ç†æ’ä»¶åŠå…¶ä¾èµ–å…³ç³»ï¼Œå¹¶ç¡®ä¿é¡¹ç›®ä¸­ä½¿ç”¨çš„æ‰€æœ‰æ’ä»¶åŠå…¶ç›¸å…³çš„ä¾èµ–éƒ½è¢«æ­£ç¡®åœ°ä¸‹è½½å’Œç®¡ç†ï¼›

    *`.flutter-plugins-dependencies`*

    ```yaml
    dependencies:
      camera:
        dependency: "direct main"
        description:
          name: camera
          url: "https://pub.dev/packages/camera"
          version: "0.9.4+9"
      image_picker:
        dependency: "direct main"
        description:
          name: image_picker
          url: "https://pub.dev/packages/image_picker"
          version: "0.8.4+3"
    
    # åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ`camera` å’Œ `image_picker` æ˜¯ä¸¤ä¸ªæ’ä»¶ï¼Œå®ƒä»¬åˆ†åˆ«æœ‰è‡ªå·±çš„ä¾èµ–å…³ç³»è®°å½•ï¼ŒåŒ…æ‹¬ä¾èµ–ç±»å‹ï¼ˆ`dependency`ï¼‰ã€åç§°ï¼ˆ`name`ï¼‰ã€URL å’Œç‰ˆæœ¬å·ã€‚
    ```


  * `.idea` æ–‡ä»¶å¤¹é€šå¸¸æ˜¯ JetBrains çš„é›†æˆå¼€å‘ç¯å¢ƒï¼ˆIDEï¼‰å¦‚ IntelliJ IDEA æˆ– Android Studio åœ¨é¡¹ç›®ä¸­ç”Ÿæˆçš„éšè—æ–‡ä»¶å¤¹ã€‚è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­åŒ…å«äº†ä¸é¡¹ç›®ç›¸å…³çš„é…ç½®æ–‡ä»¶ã€å·¥ç¨‹æ–‡ä»¶ã€æ¨¡æ¿æ–‡ä»¶ç­‰ï¼Œ**ç”¨äºé…ç½®é¡¹ç›®åœ¨ IDE ä¸­çš„è¡Œä¸ºå’Œå¤–è§‚**ã€‚

    åœ¨ä¸€ä¸ª Flutter æˆ– Dart é¡¹ç›®ä¸­ï¼Œ`.idea` æ–‡ä»¶å¤¹å¯èƒ½åŒ…å«ä»¥ä¸‹ä¸€äº›å¸¸è§çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼š

    * **workspace.xml**ï¼šä¿å­˜äº†é¡¹ç›®çº§åˆ«çš„å·¥ä½œåŒºé…ç½®ï¼Œæ¯”å¦‚ç¼–è¾‘å™¨çš„å¸ƒå±€ã€çª—å£çŠ¶æ€ç­‰ã€‚
    * **modules.xml**ï¼šåŒ…å«äº†é¡¹ç›®çš„æ¨¡å—ä¿¡æ¯ï¼Œå¦‚æœé¡¹ç›®è¢«åˆ†å‰²æˆäº†å¤šä¸ªæ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—çš„é…ç½®ä¿¡æ¯éƒ½ä¼šåœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ã€‚
    * **dart.xml** æˆ– **flutter.xml**ï¼šè¿™äº›æ–‡ä»¶åŒ…å«äº†ä¸ Dart æˆ– Flutter ç›¸å…³çš„é…ç½®ä¿¡æ¯ï¼Œæ¯”å¦‚ä»£ç æ ¼å¼åŒ–è§„åˆ™ã€ä»£ç æ¨¡æ¿ã€SDK è·¯å¾„ç­‰ã€‚
    * **libraries** æ–‡ä»¶å¤¹ï¼šä¿å­˜äº†é¡¹ç›®ä¸­ä½¿ç”¨çš„åº“çš„é…ç½®ä¿¡æ¯ï¼Œæ¯”å¦‚ Dart SDKã€Flutter SDKã€ç¬¬ä¸‰æ–¹åº“ç­‰ã€‚
    * **inspectionProfiles** æ–‡ä»¶å¤¹ï¼šåŒ…å«äº†ä»£ç æ£€æŸ¥å’Œé™æ€åˆ†æçš„é…ç½®æ–‡ä»¶ï¼Œç”¨äºå®šä¹‰ä»£ç é£æ ¼å’Œè´¨é‡æ£€æŸ¥çš„è§„åˆ™ã€‚
    * å…¶ä»–å¯èƒ½çš„é…ç½®æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼Œæ¯”å¦‚ä»£ç æ¨¡æ¿ã€æ–‡ä»¶æ¨¡æ¿ã€ç‰ˆæœ¬æ§åˆ¶é…ç½®ç­‰ã€‚

    æ€»çš„æ¥è¯´ï¼Œ`.idea` æ–‡ä»¶å¤¹æ˜¯ JetBrains IDE ç”¨äºå­˜å‚¨é¡¹ç›®é…ç½®å’Œå…ƒæ•°æ®çš„æ–‡ä»¶å¤¹ï¼Œå®ƒé€šå¸¸ä¸åº”è¯¥è¢«ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿè·Ÿè¸ªï¼Œå› ä¸ºè¿™äº›é…ç½®æ–‡ä»¶é€šå¸¸æ˜¯ç‰¹å®šäºå¼€å‘è€…çš„ï¼Œå¹¶ä¸”å¯èƒ½ä¼šå› ä¸º IDE ç‰ˆæœ¬çš„ä¸åŒè€Œæœ‰æ‰€å˜åŒ–ã€‚

### 11ã€æ³¨è§£ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>
<font color=red>æ³¨è§£ï¼ˆä»¥`@JsonSerializable() `ä¸ºä¾‹ï¼‰ ğŸ†šÂ OC åˆ†ç±»ï¼ˆCategoryï¼‰</font>

* ç¡®å®éƒ½è¾¾åˆ°äº†**åœ¨ä¸æ”¹åŠ¨åŸç±»ç»“æ„ä¸‹ï¼Œå¢åŠ åŠŸèƒ½**çš„ç›®çš„

    ğŸ“Œ ç›¸åŒç‚¹

  | ç‰¹ç‚¹                          | @JsonSerializable()ï¼ˆFlutterï¼‰ | Categoryï¼ˆObjective-Cï¼‰ |
  | ----------------------------- | ------------------------------ | ----------------------- |
  | âœ… ä¸æ”¹åŠ¨ç±»çš„æ ¸å¿ƒé€»è¾‘          | æ˜¯                             | æ˜¯                      |
  | âœ… ç»™ç±»â€œåŠ åŠŸèƒ½â€                | æ˜¯ï¼ˆåŠ ä¸Šäº† JSON èƒ½åŠ›ï¼‰         | æ˜¯ï¼ˆåŠ æ–¹æ³•æˆ–å±æ€§ï¼‰      |
  | âœ… ä½¿ç”¨æ—¶åƒâ€œå£°æ˜ä¸€ä¸ªæ³¨è§£/æ‰©å±•â€ | æ˜¯                             | æ˜¯                      |
  | âœ… å¼€å‘è€…ä¸ç”¨æ‰‹å†™å¤§é‡æ ·æ¿ä»£ç   | æ˜¯                             | æ˜¯                      |

    âŒ ä¸åŒç‚¹ï¼ˆæœ¬è´¨æœºåˆ¶ä¸ä¸€æ ·ï¼‰

  | ç‰¹ç‚¹           | @JsonSerializable()ï¼ˆDartï¼‰    | Categoryï¼ˆObj-Cï¼‰               |
  | -------------- | ------------------------------ | ------------------------------- |
  | âš™ï¸ æœ¬è´¨         | é ä»£ç ç”Ÿæˆå™¨è‡ªåŠ¨ç”Ÿæˆ Dart ä»£ç  | è¿è¡Œæ—¶åŠ¨æ€å°†æ–¹æ³•åŠ å…¥ç±»          |
  | ğŸ“¦ äº§ç‰©         | ç¼–è¯‘é˜¶æ®µç”Ÿæˆ `.g.dart` æ–‡ä»¶    | è¿è¡Œæ—¶åŠ å…¥æ–°æ–¹æ³•æ˜ å°„è¡¨          |
  | ğŸ”§ å·¥ä½œæ—¶æœº     | ç¼–è¯‘é˜¶æ®µï¼ˆbuild_runnerï¼‰       | è¿è¡Œæ—¶ï¼ˆObjective-C runtimeï¼‰   |
  | ğŸ§  ç±»å‹ç³»ç»Ÿå½±å“ | æœ‰é™æ€ç±»å‹æ£€æŸ¥                 | æ— ç±»å‹æ£€æŸ¥ï¼Œé  runtime dispatch |
  | ğŸ“„ æ–°å¢æ–‡ä»¶     | ä¼šç”Ÿæˆæ–°æ–‡ä»¶                   | ä¸ä¼šç”Ÿæˆæ–°æ–‡ä»¶                  |

### 12ã€DartæŠ½è±¡ç±»+`factory` æ„é€ å‡½æ•° <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> Dart ä¸­çš„æŠ½è±¡ç±»å¯ä»¥å®šä¹‰ `factory` æ„é€ å‡½æ•°ï¼Œå®ƒä¸èƒ½ç›´æ¥è¢«å®ä¾‹åŒ–ï¼Œä½†å¯ä»¥é€šè¿‡è¿™ä¸ª `factory` è¿”å›å­ç±»å¯¹è±¡æˆ–å…¶ä»–å®ä¾‹ï¼Œä»è€Œèµ·åˆ°**å·¥å‚æ–¹æ³•ï¼ˆç±»æ–¹æ³•ï¼‰+ æ„é€ å™¨**çš„åŒé‡ä½œç”¨ã€‚

  * Dart.Flutterå•ä¾‹çš„å…¨éƒ¨å†™æ³•

    | ä½¿ç”¨åœºæ™¯            | æ¨èå†™æ³•                           |
    | ------------------- | ---------------------------------- |
    | ç®€å•å·¥å…·ç±»          | `factory` + ç§æœ‰æ„é€ å‡½æ•°æ‡’æ±‰å¼     |
    | èµ„æºæ•æ„Ÿ/è¦æ‡’åŠ è½½   | `factory` + `??=` åˆå§‹åŒ–           |
    | å¤§å‹é¡¹ç›® / è§£è€¦ä¾èµ– | ä½¿ç”¨ `GetIt` / `riverpod` ç®¡ç†å•ä¾‹ |
    | å¤šç±»å‹ç¼“å­˜ç®¡ç†      | æ³›å‹å•ä¾‹å°è£…æ¨¡æ¿                   |

    * âœ… æœ€æ¨èå†™æ³•ï¼ˆæ‡’æ±‰å¼ + å·¥å‚æ„é€ ï¼‰

      ```dart
      class Singleton {
        static Singleton? _instance;

        Singleton._internal(); // ç§æœ‰æ„é€ å‡½æ•°

        factory Singleton() {
          return _instance ??= Singleton._internal();
        }

        void doSomething() {
          print('Doing something...');
        }
      }
      ```

    * ğŸ“Œ é¥¿æ±‰å¼ï¼ˆç±»åŠ è½½å°±åˆ›å»ºï¼‰

      ```dart
      class Singleton {
        static final Singleton _instance = Singleton._internal();

        Singleton._internal();

        factory Singleton() => _instance;
      }
      ```

    * ğŸ“Œ é™æ€å˜é‡åˆå§‹åŒ–ï¼ˆç­‰æ•ˆé¥¿æ±‰ï¼‰

      ```dart
      class Singleton {
        Singleton._(); // ç§æœ‰æ„é€ 

        static final Singleton instance = Singleton._();

        void foo() => print('Singleton foo');
      }
      ```

      ```dart
      Singleton.instance.foo();
      ```

    * ğŸ“Œ æ‡’æ±‰å¼ getterï¼ˆæ‡’åŠ è½½å†™æ³•ï¼‰

      ```dart
      class Singleton {
        static Singleton? _instance;

        Singleton._();

        static Singleton get instance {
          return _instance ??= Singleton._();
        }
      }
      ```

    * ğŸ“Œ Dart å•ä¾‹å®Œæ•´å°è£…æ¨¡æ¿ï¼ˆå¸¦çº¿ç¨‹å®‰å…¨/æ³›å‹æ”¯æŒï¼‰

      ```dart
      class Singleton<T> {
        static final Map<Type, Object> _cache = {};

        Singleton._();

        static T getInstance<T>(T Function() creator) {
          if (_cache.containsKey(T)) return _cache[T] as T;
          final instance = creator();
          _cache[T] = instance as Object;
          return instance;
        }
      }
      ```

      ```dart
      class MyService {
        void sayHi() => print("Hi");
      }

      final service = Singleton.getInstance(() => MyService());
      ```

    * ğŸ“Œ ä½¿ç”¨ GetIt å®ç°å…¨å±€å•ä¾‹ï¼ˆæ¨èç”¨äºå¤§å‹é¡¹ç›®ï¼‰

      ```dart
      import 'package:get_it/get_it.dart';
      
      final getIt = GetIt.instance;
      
      class MyService {
        void doWork() => print("Working...");
      }
      
      void setup() {
        getIt.registerLazySingleton(() => MyService());
      }
      ```

      ```dart
      // ä½¿ç”¨ï¼š
      void example() {
        getIt<MyService>().doWork();
      }
      ```

### 13ã€<font color=red>**abstract**</font> <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> 1ï¸âƒ£ é˜²æ­¢è¢«å®ä¾‹åŒ–
>
> 2ï¸âƒ£ ä¸èƒ½èƒŒç»§æ‰¿
>
> å¸¸ç”¨äº**çº¯é™æ€å·¥å…·ç±»æˆ–å¸¸é‡å®¹å™¨ç±»**çš„å®šä¹‰ã€‚æå‡ä»£ç çš„å¯è¯»æ€§å’Œè¯­ä¹‰å®‰å…¨æ€§ï¼Œæ˜¯ä¸€ç§æ›´ä¸¥è°¨çš„æ¨èå†™æ³•

### 14ã€Comparable <font color=red><b>&lt;T&gt;</b></font> <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> 1ï¸âƒ£ Dart ä¸­çš„ä¸€ä¸ªæ¥å£ï¼ˆmixinï¼‰ï¼Œè¡¨ç¤º **â€œå¯æ¯”è¾ƒâ€ç±»å‹**
>
> 2ï¸âƒ£ ç”¨äºæ”¯æŒæ’åºã€æŸ¥æ‰¾ã€æ¯”è¾ƒç­‰æ“ä½œ
>
> 3ï¸âƒ£ è§¦å‘`compareTo()`çš„å‡ ä¸ªæ–¹å¼ï¼š<u>ä½¿ç”¨ `List.sort()` æ’åº</u>ã€<u>ä½¿ç”¨ `<`ã€`>`, `<=`, `>=`</u>ã€<u>`Comparable.compare(a, b)`</u>ã€<u>æ˜¾ç¤ºè°ƒç”¨</u>

```dart
Comparable.compare(a, b)
```

  * è¿”å› **è´Ÿæ•°**ï¼šè¡¨ç¤º `a < b`

  * è¿”å› **0**ï¼šè¡¨ç¤º `a == b`

  * è¿”å› **æ­£æ•°**ï¼šè¡¨ç¤º `a > b`

### 15ã€**çº¯é™æ€ç±»** çš„ï¼ˆå¸¸è§ï¼‰å†™æ³• <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> 1ï¸âƒ£ Dart.Flutteré‡Œé¢æ²¡æœ‰åå°„ï¼ˆå°¤å…¶æ˜¯ release æ¨¡å¼ï¼‰æ ¹æœ¬ä¸æ”¯æŒ `dart:mirrors`ï¼ˆå¯¼å…¥æŠ¥é”™ï¼‰
>
> 2ï¸âƒ£ ä½†æ˜¯åœ¨Darté‡Œé¢å´å¯ä»¥æœ‰åå°„ï¼Œå¯ä»¥ç»•è¿‡å»ã€‚ä»è¯­æ³•å±‚é¢æ¥è®²ï¼Œä½¿ç”¨ `enum`æœ€å®‰å…¨ã€‚è€Œäº‹å®ä¸Šï¼Œå› ä¸ºFlutterä¸å­˜åœ¨åå°„æœºåˆ¶ï¼Œæ‰€ä»¥ä¸‹åˆ—3ç§å†™æ³•éƒ½æ˜¯å®‰å…¨çš„
>
> 3ï¸âƒ£ å¦‚æœåªå…³æ³¨ Flutter | ç”¨ `class Xxx._();` å°±å¤Ÿäº† âœ… ï¼›å¦‚æœå†™çš„æ˜¯ Dart å…¬å…±åŒ… / å‘½ä»¤è¡Œå·¥å…· / æœªæ¥ä¹Ÿè€ƒè™‘æœåŠ¡ç«¯ï¼Œé‚£ä¹ˆç”¨ `enum Xxx { ; }` ä¼šæ›´åŠ çš„ä¿é™© âœ…âœ…âœ…

* ç§æœ‰æ„é€ å‡½æ•°æ–¹å¼ï¼ˆæœ€å¸¸è§ï¼‰

  > 1ï¸âƒ£ æ˜ç¡®è¡¨è¾¾â€œä¸èƒ½å®ä¾‹åŒ–â€
  >
  > 2ï¸âƒ£ ç±»ä¸­åªèƒ½åŒ…å« `static` å†…å®¹
  >
  > 3ï¸âƒ£ Dartç‰ˆæœ¬è¦æ±‚ â‰¥ 2.0

  ```dart
  class AppUtils {
    AppUtils._(); // ç§æœ‰æ„é€ å‡½æ•°ï¼Œé˜²æ­¢å¤–éƒ¨å®ä¾‹åŒ–

    static void doSomething() {
      print('Doing something...');
    }

    static const version = '1.0.0';
  }
  ```

* ä½¿ç”¨ `abstract class`

  > 1ï¸âƒ£ `abstract class` ä¸èƒ½è¢«å®ä¾‹åŒ–
  >
  > 2ï¸âƒ£ ä¸éœ€è¦å†™ç§æœ‰æ„é€ å‡½æ•°
  >
  > 3ï¸âƒ£ ç±»ä¸­åªèƒ½å†™ `static` æˆå‘˜ï¼ˆå› ä¸ºæ²¡æ³• newï¼‰
  >
  > 4ï¸âƒ£ Dartç‰ˆæœ¬è¦æ±‚ â‰¥ 2.0

  ```dart
  abstract class AppUtils {
    static void doSomething() {
      print('Doing something...');
    }

    static const version = '1.0.0';
  }
  ```

* ä½¿ç”¨ `enum`

  > 1ï¸âƒ£ enum è‡ªå¸¦é˜²å®ä¾‹åŒ–ç‰¹æ€§
  >
  > 2ï¸âƒ£ `;` æ˜¯ Dart 2.17+ çš„è¯­æ³•ï¼Œç”¨äºå£°æ˜ä¸€ä¸ªç©ºçš„æšä¸¾ä½“
  >
  > 3ï¸âƒ£ æ›´å®‰å…¨ï¼Œå½»åº•ç¦æ­¢æ„é€ 
  >
  > 4ï¸âƒ£ Dartç‰ˆæœ¬è¦æ±‚ â‰¥ 2.17

  ```dart
  enum AppUtils {
    ; // Dart 2.17 å…è®¸ç©º enum è¡¨è¾¾é™æ€å·¥å…·ç±»
  
    static void doSomething() {
      print('Doing something...');
    }
  
    static const version = '1.0.0';
  }
  ```

### 16ã€å‰ªåˆ‡æ¿  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| æ“ä½œ                                     | å¯åŒæ­¥å‰ªè´´æ¿ï¼Ÿ | æ–¹å‘   |
| ---------------------------------------- | -------------- | ------ |
| åœ¨ **macOS ä¸Šå¤åˆ¶**ï¼Œåˆ° iOS æ¨¡æ‹Ÿå™¨ä¸­ç²˜è´´ | âœ… å¯ä»¥         | ğŸ’» âœ ğŸ“±  |
| åœ¨ **iOS æ¨¡æ‹Ÿå™¨ä¸­å¤åˆ¶**ï¼Œåˆ° macOS ä¸Šç²˜è´´ | âŒ ä¸è¡Œ         | ğŸ“± ğŸš«âœ ğŸ’» |

## å››ã€FAQ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

* **`call()`**

  ```dart
  void sayHello() {
    print("Hello!");
  }

  void main() {
    var fn = sayHello;
    fn();        // âœ… ä¼ ç»Ÿå†™æ³•ï¼šè°ƒç”¨å‡½æ•°
    fn.call();   // âœ… ç­‰ä»·å†™æ³•ï¼šæ˜¾å¼è°ƒç”¨ call æ–¹æ³•
  }
  ```

  ```dart
  /// ç”šè‡³å¯ä»¥é‡å†™ call æ–¹æ³•
  class Greeter {
    void call() {
      print("Hi, I'm callable!");
    }
  }

  void main() {
    var g = Greeter();

    g();        // âœ… åƒå‡½æ•°ä¸€æ ·è°ƒç”¨
    g.call();   // âœ… ç­‰ä»·å†™æ³•
  }
  ```

* âœ…ä»€ä¹ˆæ˜¯`ScrollController`?

  * âœ… Flutter ä¸ iOS æ»šåŠ¨æ§åˆ¶å¯¹ç…§æ€»è¡¨

    | ç”¨é€” / åŠŸèƒ½                          | Flutter (`ScrollController`)                                 | iOS (`UIScrollView + Delegate`)                       |
    | ------------------------------------ | ------------------------------------------------------------ | ----------------------------------------------------- |
    | **è·å–æ»šåŠ¨ä½ç½®**                     | `controller.offset`                                          | `scrollView.contentOffset`                            |
    | **ç›‘å¬æ»šåŠ¨äº‹ä»¶**                     | `controller.addListener()`                                   | `scrollViewDidScroll:` ç­‰ä»£ç†æ–¹æ³•                     |
    | **åˆ¤æ–­æ˜¯å¦æ»šåŠ¨åˆ°åº•éƒ¨/é¡¶éƒ¨**          | `controller.position.atEdge` + `offset` åˆ¤æ–­                 | æ‰‹åŠ¨åˆ¤æ–­ `contentOffset + frame.size` ğŸ†š `contentSize` |
    | **è·³è½¬/åŠ¨ç”»æ»šåŠ¨åˆ°æŒ‡å®šä½ç½®**          | `controller.jumpTo()` / `animateTo()`                        | `setContentOffset:animated:`                          |
    | **æ§åˆ¶å¤šä¸ªæ»šåŠ¨åŒæ­¥**                 | å¤šä¸ªç»„ä»¶ä½¿ç”¨åŒä¸€ä¸ª `ScrollController`                        | KVO / é€šçŸ¥ / delegate ç»‘å®šå¤šä¸ª `scrollView`           |
    | **æ­é…æ»šåŠ¨ç»„ä»¶ï¼ˆå¦‚ Scrollbarï¼‰ä½¿ç”¨** | ä¸ `Scrollbar`ã€`DraggableScrollbar`ã€`NestedScrollView` è”åŠ¨ | ä¸ç³»ç»Ÿæ»šåŠ¨æŒ‡ç¤ºå™¨è‡ªåŠ¨è”åŠ¨ï¼Œæ— éœ€æ‰‹åŠ¨æ§åˆ¶                |
    | **ç›‘å¬æ»šåŠ¨è¾¹ç•Œ / å¼¹æ€§çŠ¶æ€**          | `controller.position` é‡Œçš„ `extentBefore` / `extentAfter`    | æ‰‹åŠ¨åˆ¤æ–­ `contentOffset` ä¸è¾¹ç•Œ                       |
    | **æ»šåŠ¨åœæ­¢/å¼€å§‹ç­‰çŠ¶æ€ç›‘å¬**          | `ScrollNotification`ï¼ˆæ›´ç»†ç²’åº¦ï¼‰                             | `scrollViewWillBeginDragging:` ç­‰ä»£ç†æ–¹æ³•             |
    | **æ˜¯å¦æ»šåŠ¨ä¸­ / æ‹–æ‹½ä¸­**              | `controller.position.isScrollingNotifier`                    | `scrollView.isDragging`ã€`isDecelerating`             |

  * ğŸ“Œ æ€»ç»“å¯¹æ¯”é‡ç‚¹ï¼š

    | ç‰¹æ€§                            | Flutter                                      | iOS                                      |
    | ------------------------------- | -------------------------------------------- | ---------------------------------------- |
    | æ§åˆ¶ & ç›‘å¬æ˜¯å¦åˆ†ç¦»             | åˆåœ¨ `ScrollController` æˆ–é€šçŸ¥               | æ§åˆ¶é  `scrollView`ï¼Œç›‘å¬é  delegate     |
    | è”åŠ¨æ»šåŠ¨æ˜¯å¦ç®€ä¾¿                | éå¸¸æ–¹ä¾¿ï¼Œå¤šä¸ªç»„ä»¶ç»‘å®šåŒä¸€ä¸ª controller å³å¯ | æ¯”è¾ƒéº»çƒ¦ï¼Œéœ€è¦åŒæ­¥å¤šä¸ª scrollView çš„çŠ¶æ€ |
    | æ»šåŠ¨çŠ¶æ€åˆ¤å®šæ˜¯å¦æ˜“ç”¨            | `position` å±æ€§ä¸°å¯Œï¼Œå°è£…å®Œå¥½                | éœ€è¦è‡ªå·±è®¡ç®—æˆ–åˆ¤æ–­                       |
    | å¯æ‹“å±•æ€§æ˜¯å¦å¼ºï¼ˆåµŒå¥— / è‡ªå®šä¹‰ï¼‰ | éå¸¸å¼ºï¼Œå¦‚ `NestedScrollView`                | ä¸€èˆ¬ï¼Œéœ€è¦æ‰‹åŠ¨ç»„åˆ                       |

  * ç¤ºä¾‹ä»£ç ï¼š

    ```dart
    /// ç›‘å¬å’Œæ»šåŠ¨åˆ°æŸä¸ªä½ç½®
    class ScrollControllerDemo extends StatefulWidget {
      @override
      _ScrollControllerDemoState createState() => _ScrollControllerDemoState();
    }
    
    class _ScrollControllerDemoState extends State<ScrollControllerDemo> {
      final ScrollController _controller = ScrollController();
    
      @override
      void initState() {
        super.initState();
    
        // âœ… æ·»åŠ æ»šåŠ¨ç›‘å¬
        _controller.addListener(() {
          print('å½“å‰æ»šåŠ¨ä½ç½®: ${_controller.offset}');
        });
      }
    
      @override
      void dispose() {
        _controller.dispose(); // âœ… åˆ«å¿˜äº†é‡Šæ”¾
        super.dispose();
      }
    
      void _scrollToTop() {
        _controller.animateTo(
          0.0, // ç›®æ ‡ offset
          duration: Duration(milliseconds: 500),
          curve: Curves.easeOut,
        );
      }
    
      void _scrollToBottom() {
        _controller.animateTo(
          _controller.position.maxScrollExtent, // æœ€å¤§å¯æ»šåŠ¨è·ç¦»
          duration: Duration(milliseconds: 500),
          curve: Curves.easeInOut,
        );
      }
    
      @override
      Widget build(BuildContext context) {
        return Scaffold(
          appBar: AppBar(title: Text('ScrollController ç¤ºä¾‹')),
          body: Column(
            children: [
              Row(
                children: [
                  TextButton(onPressed: _scrollToTop, child: Text('å›åˆ°é¡¶éƒ¨')),
                  TextButton(onPressed: _scrollToBottom, child: Text('æ»‘åˆ°åº•éƒ¨')),
                ],
              ),
              Expanded(
                child: ListView.builder(
                  controller: _controller, // âœ… ç»‘å®šæ§åˆ¶å™¨
                  itemCount: 50,
                  itemBuilder: (context, index) => ListTile(title: Text('Item $index')),
                ),
              ),
            ],
          ),
        );
      }
    }
    ```

    ```dart
    /// å¤šä¸ªç»„ä»¶åŒæ­¥æ»šåŠ¨
    final controller = ScrollController();
    
    Row(
      children: [
        Expanded(
          child: ListView(controller: controller, ...),
        ),
        Expanded(
          child: ListView(controller: controller, ...), // åŒä¸€ä¸ªæ§åˆ¶å™¨ï¼
        ),
      ],
    )
    ```

* âœ…ä»€ä¹ˆæ˜¯`external`?

  > è¿™ä¸ªæ–¹æ³•æ²¡æœ‰åœ¨ Dart å±‚å®ç°ï¼Œè€Œæ˜¯ç”± Dart VM æˆ–å¹³å°åŸç”Ÿå±‚æä¾›å®ç°ã€‚

* âœ…ä¸ºä»€ä¹ˆ**Dart.Flutter**ç¦æ­¢åå°„æœºåˆ¶ï¼Ÿ

  ğŸ‘‰ æ˜¯ä¸ºäº†ä¿è¯ **æ›´å¿«å¯åŠ¨ã€æ›´å°ä½“ç§¯ã€æ›´é«˜æ€§èƒ½çš„ç§»åŠ¨åº”ç”¨ä½“éªŒ**ï¼Œè¿™æ˜¯è®¾è®¡ä¸Šçš„å–èˆ

  * **AOT æ— æ³•æ”¯æŒåŠ¨æ€åå°„**

    [å®˜æ–¹æ–‡æ¡£è¯´æ˜](https://github.com/flutter/flutter/issues/2072)ï¼šâ€œ<u>We have no plans to support dart:mirrors in Flutter.</u>â€

    ```dart
    import 'dart:mirrors'; // âŒ ç›´æ¥æŠ¥é”™ï¼šUnsupported in Flutter
    ```

    åå°„æ„å‘³ç€ï¼š

    - åŠ¨æ€è°ƒç”¨æ–¹æ³•ï¼ˆé€šè¿‡å­—ç¬¦ä¸²æ–¹æ³•åï¼‰
    - åŠ¨æ€åˆ›å»ºå¯¹è±¡ï¼ˆé€šè¿‡ç±»åå­—ç¬¦ä¸²ï¼‰
    - åŠ¨æ€è¯»å–å­—æ®µï¼ˆé€šè¿‡å­—ç¬¦ä¸²å­—æ®µåï¼‰

    è¿™è¦æ±‚ Dart åœ¨è¿è¡Œæ—¶ **ä¿ç•™æ‰€æœ‰ç±»å‹ä¿¡æ¯** å’Œ **æ–¹æ³•è¡¨**ï¼Œä½† AOT ç¼–è¯‘æ—¶ä¼šï¼š

    - âœ… **å»æ‰æœªç”¨ä»£ç ï¼ˆTree Shakingï¼‰**
    - âœ… **å‰¥ç¦»ç±»å‹ä¿¡æ¯æ¥å‹ç¼©åŒ…ä½“ç§¯**
    - âœ… **åªä¿ç•™è¢«é™æ€è°ƒç”¨çš„ä»£ç è·¯å¾„**

    â¡ï¸ æ‰€ä»¥ **åå°„éœ€è¦çš„è¿è¡Œæ—¶ä¿¡æ¯æ ¹æœ¬å°±è¢«ç¼–è¯‘å™¨ä¼˜åŒ–æ‰äº†**ã€‚

  * **`dart:mirrors` ä¼šæå¤§å¢åŠ ä½“ç§¯å’Œå¯åŠ¨æ—¶é—´**

    * Flutter å®˜æ–¹æµ‹è¯•æ˜¾ç¤ºï¼š
       **å¯ç”¨ dart:mirrors ä¼šå¢åŠ å‡  MB çš„åŒ…å¤§å°**ï¼ˆå°¤å…¶æ˜¯ iOSï¼‰
    * å¯åŠ¨é€Ÿåº¦ä¹Ÿä¼šæ˜æ˜¾å˜æ…¢ï¼Œå› ä¸ºè¦åŠ è½½å¤§é‡å…ƒä¿¡æ¯

  * æ›¿ä»£åå°„

    <font color=red>ç”¨çš„è¿™äº› `@JsonSerializable()`ã€`build_runner` ä»£ç ç”Ÿæˆï¼Œå…¶å®å°±æ˜¯â€œç”¨é™æ€ä»£ç ç”Ÿæˆâ€æ¥**æ›¿ä»£åå°„èƒ½åšçš„é‚£äº›äº‹**ã€‚</font>

    | ç›®çš„        | Flutter æ¨èåšæ³•                        |
    | ----------- | --------------------------------------- |
    | JSON è½¬æ¢   | ç”¨ `json_serializable` ç”Ÿæˆä»£ç ä»£æ›¿åå°„ |
    | è·¯ç”±æ³¨å†Œ    | ç”¨é™æ€è¡¨ / è‡ªåŠ¨ç”Ÿæˆè·¯ç”±æ³¨å†Œ             |
    | AOPï¼ˆåˆ‡é¢ï¼‰ | ç”¨ codegen æˆ–å°è£…ä¸­é—´ä»¶å®ç°             |
    | æœåŠ¡å®šä½    | ç”¨ `GetIt` æˆ– `provider` çš„é™æ€æ³¨å…¥æœºåˆ¶ |

* <font id=Shellé¡µé¢>âœ…ä»€ä¹ˆæ˜¯**Shell**é¡µé¢ï¼Ÿ</font>

  > **Shell é¡µé¢å°±æ˜¯ä½  App çš„â€œä¸»éª¨æ¶é¡µé¢â€**ï¼Œå®ƒè´Ÿè´£æ‰¿è½½å†…å®¹ã€ç®¡ç†å¯¼èˆªç»“æ„ï¼Œè€Œä¸æ˜¯å±•ç¤ºå…·ä½“ä¸šåŠ¡æ•°æ®ã€‚

  åœ¨ iOS ä¸­ç­‰åŒäºï¼š

  - `UITabBarController`
  - `UINavigationController`
  - æˆ–è€…ä½ è‡ªå®šä¹‰çš„â€œä¸»å®¹å™¨ + å†…å®¹é¡µåˆ‡æ¢æ¡†æ¶â€

* <font id=æ¨¡æ€>âœ… ä»€ä¹ˆæ˜¯**æ¨¡æ€**ï¼Ÿ</font>

  > 1ï¸âƒ£ æŒ‡çš„æ˜¯ä¸€ç§**å¼ºåˆ¶ç”¨æˆ·å®ŒæˆæŸä¸ªæ“ä½œæˆ–å…³é—­å¼¹çª—ä¹‹åï¼Œæ‰èƒ½ç»§ç»­ä¸é¡µé¢å…¶ä»–éƒ¨åˆ†äº¤äº’**çš„ç•Œé¢æ–¹å¼ã€‚
  >
  > 2ï¸âƒ£ èƒ½é˜²æ­¢ç”¨æˆ·è¯¯æ“ä½œï¼Œä¹Ÿç”¨äºå¼ºè°ƒé‡è¦æ€§
  >
  > ğŸ”’ ç‰¹ç‚¹æ˜¯ï¼š**é˜»æ–­äº¤äº’**ã€‚ä¸€æ—¦å‡ºç°æ¨¡æ€ç•Œé¢ï¼š
  >
  > - èƒŒåçš„å†…å®¹å˜ç°æˆ–è¢«é®ç½©ï¼›
  > - ç”¨æˆ·æ— æ³•ç‚¹å‡»ã€æ»šåŠ¨ã€ä¸å…¶ä»–ç•Œé¢äº¤äº’ï¼›
  > - åªèƒ½æ“ä½œå¼¹å‡ºçš„æ¨¡æ€æ¡†ï¼ˆå¦‚â€œç¡®å®šâ€æˆ–â€œå–æ¶ˆâ€ï¼‰ï¼›
  > - å…³é—­å¼¹çª—åï¼Œæ‰èƒ½å›åˆ°åŸç•Œé¢ã€‚

