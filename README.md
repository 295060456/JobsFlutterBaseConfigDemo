# <font color=red>[Dart.**`ğŸ¦Flutter`**](https://flutter.dev/?utm_source=google&utm_medium=cpc&utm_campaign=brand_sem&utm_content=apac_apac&gad_source=1&gad_campaignid=13034410756&gbraid=0AAAAAC-INI-9jKGdZCm6a9Zp2RvENOQVv&gclid=Cj0KCQjwj8jDBhD1ARIsACRV2TuPZFDZ2Py9BmKbsRj_mVS18Mf58tJhFzuzJIuxzTe316eALXjyW0AaAhelEALw_wcB&gclsrc=aw.ds)ğŸ§ªé¶åœºé¡¹ç›®</font>@é…ç½®è¯´æ˜

<p align="left">
  <a><img src="https://img.shields.io/badge/flutter-3.22.1-blue" alt="Flutter"/></a>
  <a><img src="https://img.shields.io/badge/dart-3.3.4-orange" alt="Dart"/></a>
  <a><img src="https://img.shields.io/badge/platform-Android/iOS/web-critical" alt="Platforms"/></a>
  <a><img src="https://img.shields.io/github/actions/workflow/status/295060456/JobsFlutterBaseConfigDemo/ci.yml?branch=main" alt="Build Status"/></a>
  <a href="https://github.com/295060456/JobsFlutterBaseConfigDemo"><img src="https://img.shields.io/github/license/295060456/JobsFlutterBaseConfigDemo?style=flat&color=success" alt="License"/></a>
  <a><img src="https://img.shields.io/github/languages/top/295060456/JobsFlutterBaseConfigDemo?color=blueviolet" alt="Top Language"/></a>
  <a href="https://github.com/295060456/JobsFlutterBaseConfigDemo/stargazers"><img src="https://img.shields.io/github/stars/295060456/JobsFlutterBaseConfigDemo?style=flat-square&color=yellow" alt="Stars"/></a>
  <a href="https://github.com/295060456/JobsFlutterBaseConfigDemo/network"><img src="https://img.shields.io/github/forks/295060456/JobsFlutterBaseConfigDemo?style=flat-square&color=blue" alt="Forks"/></a>
  <a><img src="https://img.shields.io/github/issues/295060456/JobsFlutterBaseConfigDemo?color=important" alt="Issues"/></a>
  <a><img src="https://img.shields.io/github/last-commit/295060456/JobsFlutterBaseConfigDemo?color=ff69b4" alt="Last Commit"/></a>
  <a><img src="https://img.shields.io/github/languages/code-size/295060456/JobsFlutterBaseConfigDemo" alt="Code Size"/></a>
</p>

[toc]

å½“å‰æ€»è¡Œæ•°ï¼š

## ğŸ”¥<font id=å‰è¨€>å‰è¨€</font>

* **å·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨**
* **ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šï¼Œæ‰èƒ½çœ‹å¾—æ›´è¿œ**
* **é¢å‘ä¿¡ä»°ç¼–ç¨‹**
* ğŸ”” æ¸©é¦¨æç¤ºï¼šğŸ‘‰  [<font color=red>**å®Œæ•´å±•ç¤ºæœ¬æ–‡æ¡£**</font>](https://github.com/295060456/JobsFlutterBaseConfigDemo/blob/main/README.md)

## ğŸ’¾ å‚è€ƒèµ„æ–™

* [**Flutter å®æˆ˜@ç¬¬äºŒç‰ˆ**](https://book.flutterchina.club/)

## ä¸€ã€ğŸ¯ç›®çš„å’ŒåŠŸæ•ˆ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

* å“æ§æ ‡å‡†ï¼ˆåªèƒ½ä¸¥æ ¼çš„ä¿è¯ç¼–è¯‘å™¨æ­£å¸¸ï¼Œè€Œä¸èƒ½å®Œå…¨ä¿è¯è¿è¡Œæ—¶çš„ä¸å‡ºé”™ï¼‰
  * ä¸€å®šè¦ä¿è¯è¿™ä¸ªå·¥ç¨‹çš„æˆåŠŸç¼–è¯‘é€šè¿‡ï¼Œæ–¹ä¾¿ä»¥åé¡¹ç›®ç›´æ¥è¿›è¡Œå¼•ç”¨ï¼Œä¹ƒè‡³å¼€æ–°ç‰ˆæœ¬
  * <font color=blue>**ç¤ºä¾‹Demoå¯èƒ½å› ä¸ºç›¸å…³Apiçš„å‡çº§ï¼Œæ²¡æœ‰åŠæ—¶çš„è¦†ç›–å¤„ç†ï¼Œå¯èƒ½ä¼šå‡ºç°é—ªé€€ã€‚ä¿®å¤å³å¯**</font>
* è‡ªæ­¤ä»¥åï¼Œæ‰€æœ‰æ–°å¼€çš„é¡¹ç›®éƒ½å¯ä»¥æ ¹æ®è¿™ä¸ª**æ ¹é¡¹ç›®**æ¥è¿›è¡Œç»Ÿä¸€çš„è°ƒé…å’Œä½¿ç”¨
  * å°†å®ƒä½œä¸ºæ‰€æœ‰é¡¹ç›®çš„æ¯ç‰ˆå’ŒåŸºç±»ï¼Œæœ€å¤§é™åº¦çš„åšåˆ°å…¨å±€çš„ç»Ÿä¸€
  * æ—¥ç§¯æœˆç´¯çš„è®°å½•ä¸€äº›å¹³æ—¶ç”Ÿäº§ç”Ÿæ´»ä¸­èŒå‘çš„ä¸€äº›ä¼˜ç§€çš„æƒ³æ³•ã€çµå…‰ä¸€ç°çš„åˆ›æ„ã€‚åŒ…æ‹¬ä½†ä¸ä»…é™äºï¼š<u>è¯­æ³•ç³–çš„å°è£…</u>ã€<u>æ–¹æ³•çš„è°ƒç”¨</u>ï¼Œ<u>ç¬¬ä¸‰æ–¹çš„é€‰ç”¨</u>ã€ä»¥åŠä¸€äº›å¿ƒå¾—ä½“ä¼š
* ä½œä¸ºæŸäº›ä»£ç **å®è·µé¶åœº**ï¼Œåœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæ˜¯éå¸¸æœ‰å¿…è¦çš„
  * ä¸ºæˆ‘ä»¬å¿«é€Ÿä¸”ç¨³å®šçš„å¤ç°ä¸€äº›ä¸šåŠ¡åœºæ™¯ï¼Œä½œä¸ºä»£ç å®éªŒå®¤ğŸ§ªï¼Œè€Œæ­å»ºçš„ä¸€ä¸ªå¹³å°
* ä½œä¸ºä»£ç ç¬”è®°ï¼Œè®°å½•ä¸€äº›å¸¸ç”¨çš„ä»£ç ï¼Œæ–¹ä¾¿æŸ¥é˜…
  * ä¸»è¦å½¢å¼æ˜¯å¯ä»¥è¿è¡Œçš„ä»£ç  + æ–‡å­—æ€§å™è¿° + å›¾æ–‡æ··ç¼–è®²è§£
  * ä½œä¸ºå­¦ä¹ çš„èµ„æ–™ï¼Œå¯ä»¥å¿«é€Ÿäº†è§£åˆ°ä¸€äº›å¸¸ç”¨çš„çŸ¥è¯†ï¼Œå¤§å¹…**é™ä½å­¦ä¹ æˆæœ¬**
  * ä½œä¸ºå…¶ä»–é¡¹ç›®çš„å‚è€ƒï¼Œå¯ä»¥å¿«é€Ÿçš„äº†è§£åˆ°é¡¹ç›®çš„æ¶æ„ï¼Œä»£ç è§„èŒƒï¼Œä»¥åŠä¸€äº›è®¾è®¡æ¨¡å¼
  * è¿™ä¹ˆä¸€äº›ä¼˜ç§€çš„æˆæœï¼Œå…¶æ¥æºä¸ä»…ä»…æ˜¯æ¥è‡ªäºä½œè€…æœ¬èº«çš„æŒç»­ä»˜å‡ºä¸ç§¯ç´¯ã€‚æ›´æ˜¯è¿™ä¸ªé¢†åŸŸå¤§å®¶åº­ä¸­å„è·¯ä¼˜ç§€ä½œè€…çš„æ™ºæ…§ç»“æ™¶
* ç‹¬ç«‹çš„æµ‹è¯•å•å…ƒ
  * å¯¹äºå•ä¸ªçš„[**Flutter**](https://flutter.dev/)å·¥ç¨‹æ–‡ä»¶ï¼ˆå°**Demo**ï¼‰å¯ä»¥åˆ©ç”¨[**è¿è¡Œè„šæœ¬**](./ã€MacOSã€‘â˜€ï¸åŒå‡»è¿è¡ŒFlutteré¡¹ç›®ï¼ˆiOS æ¨¡æ‹Ÿå™¨ï¼‰.command)ï¼Œåœ¨**MacOS**çš„**ç»ˆç«¯**ç›´æ¥æ‹–å…¥è¿›è¡Œè¿è¡Œå’Œå±•ç¤ºï¼ˆç»ˆç«¯è¿è¡Œä¸æ”¯æŒæ–­ç‚¹ï¼Œåªèƒ½è¾“å‡ºæ—¥å¿—ï¼‰
  * ä¸ºäº†ä¿è¯å„ä¸ª**Demo**åœ¨å½¢å¼ä¸Šçš„ç‹¬ç«‹æ€§ï¼Œæ‰€ä»¥å°½å¯èƒ½çš„åœ¨å•ä¸ª`.dart`æ–‡ä»¶é‡Œé¢è¿›è¡Œå™è¿°ã€‚**æ¯ä¸€ä¸ª[Flutter](https://flutter.dev/)çš„Demoæ–‡ä»¶é‡Œï¼Œéƒ½ä¼šå­˜åœ¨å…¶ç¨‹åºçš„å…¥å£å‡½æ•°** 

## äºŒã€ğŸŒ±ç¯å¢ƒé…ç½® <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

### 1ã€[**XCode**](https://developer.apple.com/xcode/)  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

### 2ã€[**Android Studio**](https://developer.android.com/studio?hl=zh-cn) <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

#### 2.1ã€[**ç‚¹æˆ‘ğŸ‘‰ä¸‹è½½Android Studioå†å²ç‰ˆæœ¬**](https://developer.android.com/studio/archive?utm_source=chatgpt.com&hl=zh-cn) <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

<img src="./assets/image-20250806172656678.png" alt="image-20250806172656678" style="zoom:50%;" />

#### 2.2ã€<font color=red>**é…ç½®JDKçš„åœ°æ–¹å’Œå…¶ä»–SDKçš„ä¸ä¸€æ ·**</font> <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

* é…ç½®JDKï¼š

  <div style="text-align: center;">
    <img src="./assets/image-20250806165112135.png" alt="image-1" style="width:30%; display:inline-block; vertical-align: top;" />
    <img src="./assets/image-20250806165221354.png" alt="image-2" style="width:65%; display:inline-block; vertical-align: top;" />
  </div>

* é…ç½®å…¶ä»–çš„SDKï¼š

  <div style="text-align: center;">
  <img src="./assets/image-20250806165752073.png" alt="image-3" style="width:30%; display:inline-block; vertical-align: top;" />
  <img src="./assets/image-20250806165822643.png" alt="image-4" style="width:65%; display:inline-block; vertical-align: top;" />
  </div> 

#### 2.3ã€**`./android/gradlew`**

> è¿™ä¸ªæ–‡ä»¶æ˜¯æ¥è‡ªï¼š`android/gradle/wrapper/gradle-wrapper.propertie`
>
> ```
> distributionUrl=https\://services.gradle.org/distributions/gradle-7.6.3-bin.zip
> ```
>
> å» `https://services.gradle.org` ä¸‹è½½æŒ‡å®šç‰ˆæœ¬ zip

```shell
./android/gradlew -v # å…ˆå®šä½åˆ°Flutteré¡¹ç›®çš„æ ¹ç›®å½•ã€‚è¿è¡ŒæˆåŠŸçš„å‰ææ˜¯æŒ‡å®šé¡¹ç›®ä½¿ç”¨çš„Jenv.JDKæˆ–è€…æ˜¯å…¨å±€é…ç½®çš„Javaå˜é‡
```

### 3ã€[**VSCode**](https://code.visualstudio.com/) <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

* å¦‚æœ[**VSCode**](https://code.visualstudio.com/)æ‰“å¼€[**Flutter**](https://flutter.dev/)é¡¹ç›®ä»¥åæ²¡æœ‰åŠæ³•é€šè¿‡`command`+`click`çš„å½¢å¼ç‚¹è¿›å»çœ‹ï¼Œé‚£ä¹ˆéœ€è¦`command`+`shift`+`x` => å®‰è£…[**Dart**](https://dart.dev/)/[**Flutter**](https://flutter.dev/)

  ![image-20250713101322760](./assets/image-20250713101322760.png)

  ![image-20250713101045523](./assets/image-20250713101045523.png)

  * [**VSCode**](https://code.visualstudio.com/)çš„é…ç½®æ–‡ä»¶

    > ç›´æ¥åŒæ­¥ä¸‹åˆ—æ–‡ä»¶åˆ°ç›®æ ‡é¡¹ç›®ä¸­
  
    ```
    Flutteré¡¹ç›®çš„æ ¹ç›®å½•/
    â””â”€â”€ .vscode/
        â”œâ”€â”€ extensions.json          âœ… æ’ä»¶æ¨èåˆ—è¡¨ï¼ˆâœ… æ¨èåŠ å…¥ Gitï¼‰
        â”œâ”€â”€ launch.json              â–¶ï¸ å¯åŠ¨é…ç½®ï¼ˆå¦‚è°ƒè¯• main.dartï¼‰ï¼ˆâœ… æ¨èåŠ å…¥ Gitï¼‰
        â”œâ”€â”€ settings.json            âš™ï¸ å…¨å±€é¡¹ç›®è®¾ç½®ï¼ˆâš ï¸ è§†æƒ…å†µåŠ å…¥ Gitï¼Œå»ºè®®ä»…ä¿ç•™é€šç”¨è®¾ç½®ï¼‰
        â”œâ”€â”€ settings.local.json      ğŸ§ª æœ¬åœ°ä¸“å±è®¾ç½®ï¼ˆâŒ ä¸å»ºè®®åŠ å…¥ Gitï¼Œåº”æ·»åŠ è‡³ .gitignoreï¼‰
        â””â”€â”€ tasks.json               ğŸ” è‡ªå®šä¹‰ä»»åŠ¡ï¼ˆå¦‚è‡ªåŠ¨æ„å»ºã€æ ¼å¼åŒ–ï¼‰ï¼ˆâœ… æ¨èåŠ å…¥ Gitï¼‰
    ```

    * `extensions.json`
  
      ```json
      /// æ¨èä½¿ç”¨çš„æ’ä»¶æ¸…å•ï¼ˆå›¢é˜Ÿç»Ÿä¸€ï¼‰âœ…æ¨èåŠ å…¥Gitç®¡ç†
      {
          "recommendations": [
              // âœ… Flutter/Dart æ”¯æŒ
              "dart-code.flutter", // Flutter æ’ä»¶ï¼ˆåŒ…å« Dart æ”¯æŒï¼‰
              // âœ… é€šç”¨å¼€å‘ä½“éªŒ
              "esbenp.prettier-vscode", // Prettier æ ¼å¼åŒ–å·¥å…·
              "editorconfig.editorconfig", // ç»Ÿä¸€ä»£ç é£æ ¼é…ç½®
              "streetsidesoftware.code-spell-checker", // æ‹¼å†™æ£€æŸ¥å™¨ï¼ˆé˜²é”™åˆ«å­—ï¼‰
              "gruntfuggly.todo-tree", // é«˜äº® TODO / FIXME ç­‰æ ‡è®°
              "formulahendry.auto-rename-tag", // è‡ªåŠ¨é‡å‘½å HTML/Widget æ ‡ç­¾
              "formulahendry.auto-close-tag", // è‡ªåŠ¨é—­åˆæ ‡ç­¾ï¼ˆå¦‚ HTMLï¼‰
              // âœ… Git æ”¯æŒå¢å¼º
              "eamodio.gitlens", // Git å†å²é«˜äº®ä¸å¢å¼º
              "github.vscode-pull-request-github", // GitHub PR å·¥å…·
              // âœ… å›½é™…åŒ–æ”¯æŒï¼ˆå¦‚æœä½ ç”¨åˆ°äº† easy_localization æˆ– i18nï¼‰
              "lokalise.i18n-ally", // i18n æ–‡ä»¶è¾…åŠ©ç®¡ç†
              // âœ… ä¸­æ–‡è¯­è¨€åŒ…ï¼ˆå¯é€‰ï¼‰
              "ms-ceintl.vscode-language-pack-zh-hans" // ä¸­æ–‡è¯­è¨€æ”¯æŒï¼ˆè‹¥ä¸ºä¸­æ–‡ç¯å¢ƒï¼‰
          ]
      }
      ```
  
    * `launch.json`
  
      ```json
      /// è°ƒè¯•é…ç½®ï¼ˆå¦‚ Flutter è°ƒè¯•å‚æ•°ï¼‰ã€‚âœ…æ¨èåŠ å…¥Gitç®¡ç†
      {
          // ä½¿ç”¨ IntelliSense äº†è§£ç›¸å…³å±æ€§ã€‚
          // æ‚¬åœä»¥æŸ¥çœ‹ç°æœ‰å±æ€§çš„æè¿°ã€‚
          // æ¬²äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·è®¿é—®: https://go.microsoft.com/fwlink/?linkid=830387
          "version": "0.2.0",
          "configurations": [
              {
                  "name": "JobsFlutterBaseConfigDemo", // è°ƒè¯•é…ç½®åç§°
                  "request": "launch", // è°ƒè¯•å™¨è¯·æ±‚ç±»å‹ï¼Œé€šå¸¸ä¸º "launch" æˆ– "attach"
                  "type": "dart", // è°ƒè¯•å™¨ç±»å‹ï¼Œé€šå¸¸ä¸º "dart" æˆ– "flutter"
                  "program": "lib/è°ƒç”¨æœ¬åœ°ç›¸å†Œ+è°ƒç”¨æœ¬æœºæ‘„åƒå¤´æ‹ç…§ï¼ˆå…¨éƒ¨éªŒè¯é€šè¿‡ï¼‰/CameraDemo.dart", // â¤ï¸è¦è°ƒè¯•çš„ç¨‹åºçš„å…¥å£ç‚¹
                  "flutterMode": "debug"
              },
              // {
              //     "name": "JobsFlutterBaseConfigDemo (profile mode)",
              //     "request": "launch",
              //     "type": "dart",
              //     "flutterMode": "profile"
              // },
              // {
              //     "name": "JobsFlutterBaseConfigDemo (release mode)",
              //     "request": "launch",
              //     "type": "dart",
              //     "flutterMode": "release"
              // }
          ]
      }
      ```
  
    * `settings.json`
  
      ```json
      /// ä¸ªäººæœ¬åœ°è®¾ç½®é…ç½®ã€‚âŒä¸æ¨èåŠ å…¥Gitç®¡ç†
      {
        "_comment": "ğŸš« æœ¬æ–‡ä»¶ä¸ºä¸ªäººæœ¬åœ° VS Code è®¾ç½®ï¼Œä»…ä¾›è‡ªå·±ä½¿ç”¨ï¼ŒâŒ ä¸æ¨èåŠ å…¥ Git ç®¡ç†",
        "__cmake_note": "âœ… æŒ‡å®š CMake é¡¹ç›®çš„æºä»£ç ç›®å½•ï¼ˆç”¨äº CMake æ’ä»¶ï¼‰",
        "cmake.sourceDirectory": "/Users/jobs/Documents/GitHub/JobsFlutterBaseConfig/jobs_flutter_base_config/linux",
        "__java_note": "âœ… Java ç¼–è¯‘æ—¶çš„ç©ºå€¼åˆ†ææ¨¡å¼ï¼ˆè‡ªåŠ¨å¯ç”¨ null å®‰å…¨æ£€æŸ¥ï¼‰",
        "java.compile.nullAnalysis.mode": "automatic",
        "__dart_imports_note": "âœ… Dart ç¼–è¾‘å™¨ï¼šæ•´ç† import æ—¶æ€»æ˜¯ä½¿ç”¨ package å¼•ç”¨é£æ ¼",
        "dart.editImports": "always_use_package_imports",
        "__flutter_sdk_note": "âœ… Flutter SDK è·¯å¾„ï¼ˆä½¿ç”¨ FVM ç®¡ç†çš„ç‰ˆæœ¬è·¯å¾„ï¼‰",
        "dart.flutterSdkPath": ".fvm/versions/3.32.6",
        "__format_note": "âœ… æ¯æ¬¡ä¿å­˜æ–‡ä»¶æ—¶è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç ",
        "editor.formatOnSave": true,
        "__autosave_note": "âœ… å½“çª—å£å¤±ç„¦æ—¶è‡ªåŠ¨ä¿å­˜",
        "files.autoSave": "afterDelay",
        "__autosave_delay_note": "âœ… è‡ªåŠ¨ä¿å­˜å»¶è¿Ÿï¼Œ100ms",
        "files.autoSaveDelay": 100,
        "__hot_exit_note": "âœ… å…³é—­çª—å£æ—¶è‡ªåŠ¨ä¿å­˜æœªä¿å­˜æ–‡ä»¶ï¼ˆçƒ­é€€å‡ºï¼‰",
        "files.hotExit": "onExitAndWindowClose",
        "__trim_whitespace_note": "âœ… æ¯æ¬¡ä¿å­˜æ—¶è‡ªåŠ¨ç§»é™¤æ¯è¡Œæœ«å°¾å¤šä½™çš„ç©ºæ ¼",
        "files.trimTrailingWhitespace": true,
        "__final_newline_note": "âœ… æ–‡ä»¶æœ«å°¾è‡ªåŠ¨æ’å…¥ä¸€ä¸ªæ¢è¡Œç¬¦ï¼Œç¬¦åˆç¼–ç è§„èŒƒ",
        "files.insertFinalNewline": true,
        "__save_conflict_note": "âœ… ä¿å­˜æ–‡ä»¶æ—¶å¦‚æœ‰å†²çªï¼Œè‡ªåŠ¨è¦†ç›–ç£ç›˜ä¸Šçš„ç‰ˆæœ¬ï¼ˆé¿å…å¼¹å‡ºå†²çªæç¤ºï¼‰",
        "files.saveConflictResolution": "overwriteFileOnDisk",
        "__restoreWindows_note": "âœ… å¯åŠ¨æ—¶æ¢å¤ä¸Šæ¬¡æ‰“å¼€çš„æ–‡ä»¶",
        "window.restoreWindows": "all",
        "__bracket_guides_note": "âœ… æ˜¾ç¤ºæ‹¬å·å¯¹çš„å¼•å¯¼çº¿ï¼Œæ–¹ä¾¿æŸ¥çœ‹åµŒå¥—ç»“æ„ï¼ˆactive è¡¨ç¤ºä»…åœ¨å…‰æ ‡ä½äºæ‹¬å·ä¸Šæ—¶æ˜¾ç¤ºï¼‰",
        "editor.guides.bracketPairs": "active",
        "__bracket_colorization_note": "âœ… å¯ç”¨æ‹¬å·é¢œè‰²åŒ¹é…åŠŸèƒ½ï¼Œä¸ºä¸åŒå±‚çº§çš„æ‹¬å·ç€è‰²",
        "editor.bracketPairColorization.enabled": true,
        "__bracket_match_note": "âœ… å§‹ç»ˆé«˜äº®å½“å‰æ‹¬å·å¯¹ï¼Œä¾¿äºåŒ¹é…æ‹¬å·ä½ç½®",
        "editor.matchBrackets": "always",
      }
      ```
  
  * **Git**å¿½ç•¥æ–‡ä»¶`.gitignore`å¯¹äº[**VSCode**](https://code.visualstudio.com/)çš„é…ç½®æ–‡ä»¶çš„å¤„ç†
  
    ```plaintext
    # The .vscode folder contains launch configuration and tasks you configure in
    # VS Code which you may wish to be included in version control, so this line
    # is commented out by default.
    .vscode/settings.json
    !.vscode/settings.local.json
    ```
  
* å®‰è£…æ’ä»¶

  * [**GitLens â€” Git supercharged**](https://marketplace.visualstudio.com/items?itemName=eamodio.gitlens)

  * [**Bracket Select**](https://marketplace.visualstudio.com/items?itemName=chunsen.bracket-select)ï¼ˆé»˜è®¤å¿«æ·é”®ï¼š`option` + `A`ï¼‰
  
    > é€‰ä¸­æ‹¬å·å†…çš„å†…å®¹ä»¥å¤‡æ“ä½œ

### 4ã€[**ohmyz.sh**](https://ohmyz.sh/) <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

```shell
sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"
```

or

```shell
sh -c "$(wget https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh -O -)"
```

### 5ã€[**Homebrew**](https://brew.sh/)  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

```shell
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```

#### 5.1ã€[**Homebrew**](https://brew.sh/).[<font color=red>Dart</font>](https://dart.dev/)  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> [**Flutter**](https://flutter.dev/) é‡Œé¢è‡ªå¸¦ä¸€ä¸ª[Dart](https://dart.dev/) ç¯å¢ƒï¼Œç†è®ºä¸Šæ˜¯æ¯”æœ€æ–°çš„[Dart](https://dart.dev/) ç‰ˆæœ¬è½åçš„ã€‚å¦‚æœç³»ç»Ÿé‡Œé¢æ—¢è£…äº†[Dart](https://dart.dev/) ç¯å¢ƒåˆè£…äº†[**Flutter**](https://flutter.dev/)ç¯å¢ƒï¼Œé‚£ä¹ˆ[**Flutter**](https://flutter.dev/)é¡¹ç›®é»˜è®¤ä½¿ç”¨[**Flutter**](https://flutter.dev/).SDKé‡Œé¢è‡ªå¸¦é‚£ä¸ª[Dart](https://dart.dev/) ç¯å¢ƒ

```
brew tap dart-lang/dart
```

#### 5.2ã€[**Homebrew**](https://brew.sh/).[<font color=red>jenv</font>](https://github.com/jenv/jenv)  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

>æ¶‰åŠåˆ°[**Android**](https://www.android.com/)çš„éƒ¨åˆ†éœ€è¦[**Java**](https://www.java.com/zh-CN/)ç¯å¢ƒçš„æ”¯æŒï¼ˆæ‰“åŒ…ã€è¿è¡Œï¼‰
>
>[<font color=red>jenv</font>](https://github.com/jenv/jenv)ä¸ä¼šè‡ªåŠ¨ä¸‹è½½/å…³è”JDKï¼Œéœ€è¦æ‰‹åŠ¨è¿›è¡Œæ“ä½œ
>
>å¦‚æœä½¿ç”¨[<font color=red>jenv</font>](https://github.com/jenv/jenv)é‚£ä¹ˆç³»ç»Ÿå…¨å±€ç¯å¢ƒå˜é‡é‡Œé¢å°±ä¸èƒ½å†™  
>
>```shell
>'export JAVA_HOME=$(/usr/libexec/java_home)'
>'export PATH="$JAVA_HOME/bin:$PATH"'
>```

* ```shell
  jenv versions --bare --verbose
  ```

  >åœ¨ shell è„šæœ¬ä¸­éå†æ‰€æœ‰å·²æ·»åŠ çš„ JDK ç‰ˆæœ¬è·¯å¾„ï¼›
  >
  >æ£€æŸ¥æŸä¸ªç‰ˆæœ¬åˆ°åº•å¯¹åº”å“ªä¸ªç›®å½•ï¼ˆä¾‹å¦‚æ˜¯å¦æ˜¯ Homebrew å®‰è£…çš„ã€SDKMAN å®‰è£…çš„ç­‰ï¼‰ï¼›

* ```shell
  jenv add/remove JDK.path
  ```

  >```shell
  ># Homebrew.JDK.path çš„å›ºå®šæ ¼å¼
  >/opt/homebrew/opt/openjdk@17/libexec/openjdk.jdk/Contents/Home 
  >```
  >
  >```shell
  >jenv_add() {
  >	for v in 8 11 17 21; do
  >path="/opt/homebrew/opt/openjdk@${v}/libexec/openjdk.jdk/Contents/Home"
  >[[ -x "$path/bin/java" ]] && jenv add "$path"
  >done
  >
  >jenv rehash 
  >}
  >```

* ```shell
  jenv rehash # é‡æ–°ç”Ÿæˆ shimsï¼Œä½¿å¾—ä½ æ·»åŠ æˆ–åˆ‡æ¢çš„ Java ç‰ˆæœ¬èƒ½è¢«ç³»ç»Ÿè¯†åˆ«å¹¶ç”Ÿæ•ˆã€‚
  ```

* ç”¨ [**jenv**](https://github.com/jenv/jenv)åˆ‡æ¢[**Java**](https://www.java.com/zh-CN/)ç¯å¢ƒ

  ```shell
  jenv versions --bare --verbose # ç”¨è¿™é‡Œçš„ç»“æœ
  
  jenv global openjdk64-24.0.2   # å…¨å±€ï¼ˆæ‰€æœ‰é¡¹ç›®é»˜è®¤ï¼‰
  jenv local openjdk64-17.0.16    # å½“å‰ç›®å½•ï¼ˆé¡¹ç›®çº§ï¼‰
  java --version                 # éªŒè¯
  ```
  
  > **æ•´ä¸ªMacOSç³»ç»Ÿé‡Œé¢ç”¨æœ€æ–°çš„JDKï¼›è€Œåœ¨å…·ä½“çš„[Flutter](https://flutter.dev/)é¡¹ç›®é‡Œé¢ç”¨æŒ‡å®šç‰ˆæœ¬çš„JDK**
  >
  > ```shell
  > âœ  Desktop java --version              
  > openjdk 24.0.2 2025-07-15
  > OpenJDK Runtime Environment Homebrew (build 24.0.2)
  > OpenJDK 64-Bit Server VM Homebrew (build 24.0.2, mixed mode, sharing)
  > âœ  Desktop /Users/jobs/Documents/Github/flutter_tiyu_app 
  > âœ  flutter_tiyu_app git:(JobsBranch@æ°¸åˆ©ï¼ˆé‡‘ï¼‰) âœ— java --version
  > openjdk 17.0.16 2025-07-15
  > OpenJDK Runtime Environment Homebrew (build 17.0.16+0)
  > OpenJDK 64-Bit Server VM Homebrew (build 17.0.16+0, mixed mode, sharing)
  > âœ  flutter_tiyu_app git:(JobsBranch@æ°¸åˆ©ï¼ˆé‡‘ï¼‰) âœ— 
  > ```

#### 5.3ã€[**Typora**](https://typora.io/)  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

#### 5.4ã€ç³»ç»Ÿç¯å¢ƒå˜é‡  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> <font color=red>ä¸ºäº†æ–¹ä¾¿ç®¡ç†ï¼Œåªé…ç½®**`bash_profile`**å’Œ**`.zshrc`**</font>

<details>
<summary>.bash_profile</summary>

```shell
# æ¯æ¬¡æ‰“å¼€ç»ˆç«¯é»˜è®¤è¿›å…¥æ¡Œé¢ç›®å½•
cd "$HOME/Desktop"

# é…ç½® Rbenv.ruby ç¯å¢ƒå˜é‡ï¼ˆéœ€å®‰è£… rbenvï¼‰
if command -v rbenv &>/dev/null; then
  export PATH="$HOME/.rbenv/bin:$PATH"
  eval "$(rbenv init -)"
else
  echo "âš ï¸ æœªæ£€æµ‹åˆ° rbenvï¼Œè¯·æ‰§è¡Œ brew install rbenv å®‰è£…"
fi
if command -v ruby &>/dev/null; then
  export PATH="/usr/local/opt/ruby/bin:$PATH"
  export LDFLAGS="-L/usr/local/opt/ruby/lib"
  export CPPFLAGS="-I/usr/local/opt/ruby/include"
  export PKG_CONFIG_PATH="/usr/local/opt/ruby/lib/pkgconfig"
else
  echo "âš ï¸ æœªæ£€æµ‹åˆ° rubyï¼Œå»ºè®®æ‰§è¡Œ brew install ruby"
fi

# é…ç½® Curl ç¯å¢ƒå˜é‡ï¼ˆéœ€ Homebrew å®‰è£…ï¼‰
if command -v curl &>/dev/null; then
  export PATH="/usr/local/opt/curl/bin:$PATH"
  export LDFLAGS="-L/usr/local/opt/curl/lib"
  export CPPFLAGS="-I/usr/local/opt/curl/include"
  export PKG_CONFIG_PATH="/usr/local/opt/curl/lib/pkgconfig"
else
  echo "âš ï¸ curl æœªé€šè¿‡ brew å®‰è£…ï¼Œå»ºè®®æ‰§è¡Œ brew install curl"
fi

# é…ç½® VSCode å‘½ä»¤è¡Œï¼ˆcodeï¼‰
if [[ -d "/Applications/Visual Studio Code.app/Contents/Resources/app/bin" ]]; then
  export PATH="$PATH:/Applications/Visual Studio Code.app/Contents/Resources/app/bin"
  if ! command -v code &>/dev/null; then
    echo "âš ï¸ VSCode å·²å®‰è£…ä½†æœªé…ç½® code å‘½ä»¤ï¼Œè¯·åœ¨ VSCode ä¸­è¿è¡Œï¼šShell Command: Install code in PATH"
  fi
else
  echo "âš ï¸ æœªæ£€æµ‹åˆ° VSCodeï¼Œè¯·å…ˆå®‰è£… Visual Studio Code åå†è¿è¡Œæœ¬è„šæœ¬"
fi

# é…ç½® Flutter ç¯å¢ƒå˜é‡
if ! command -v fvm &>/dev/null; then
  if [[ -d "/opt/homebrew/Caskroom/flutter/latest/flutter/bin" ]]; then
    export PATH="/opt/homebrew/Caskroom/flutter/latest/flutter/bin:$PATH"
  elif [[ -d "/usr/local/Caskroom/flutter/latest/flutter/bin" ]]; then
    export PATH="/usr/local/Caskroom/flutter/latest/flutter/bin:$PATH"
  elif [[ -d "$HOME/flutter/bin" ]]; then
    export PATH="$HOME/flutter/bin:$PATH"
  elif [[ -d "$HOME/Documents/GitHub.Jobs/Flutter.SDK/Flutter.SDK.last/bin" ]]; then
    export PATH="$HOME/Documents/GitHub.Jobs/Flutter.SDK/Flutter.SDK.last/bin:$PATH"
  else
    echo "âš ï¸ æœªæ‰¾åˆ° Flutter SDKï¼Œè¯·æ‰‹åŠ¨é…ç½®è·¯å¾„"
  fi
fi
export PUB_HOSTED_URL=https://pub.dartlang.org
export FLUTTER_STORAGE_BASE_URL=https://storage.googleapis.com

# é…ç½® FVM ç¯å¢ƒå˜é‡
export PATH="$HOME/.pub-cache/bin:$PATH"
if command -v fvm &>/dev/null; then
  flutter() { fvm flutter "$@"; }
else
  echo "âš ï¸ æœªæ£€æµ‹åˆ° fvmï¼Œè¯·æ‰§è¡Œ flutter pub global activate fvm å®‰è£…"
fi

# é…ç½® Android SDK ç¯å¢ƒå˜é‡
if [[ -d "$HOME/Library/Android/sdk" ]]; then
  export ANDROID_SDK_ROOT="$HOME/Library/Android/sdk"
  export PATH="$PATH:$ANDROID_SDK_ROOT/platform-tools:$ANDROID_SDK_ROOT/cmdline-tools/latest/bin:$ANDROID_SDK_ROOT/emulator:$ANDROID_SDK_ROOT/tools:$ANDROID_SDK_ROOT/tools/bin"
else
  echo "âš ï¸ æœªæ£€æµ‹åˆ° Android SDKï¼Œè¯·å®‰è£… Android Studio æˆ–é…ç½® ANDROID_SDK_ROOT"
fi

# é…ç½® JDK / OpenJDK / SDKMAN
export JAVA_HOME="/opt/homebrew/opt/openjdk"  # é»˜è®¤å€¼ï¼ˆä¼˜å…ˆçº§æœ€ä½ï¼‰
if /usr/libexec/java_home &>/dev/null; then
  export JAVA_HOME=$(/usr/libexec/java_home)
fi
case ":$PATH:" in
  *":$JAVA_HOME/bin:"*) ;;
  *) export PATH="$JAVA_HOME/bin:$PATH" ;;
esac
if [[ -s "$HOME/.sdkman/bin/sdkman-init.sh" ]]; then
  export SDKMAN_DIR="$HOME/.sdkman"
  source "$HOME/.sdkman/bin/sdkman-init.sh"
else
  echo "âš ï¸ æœªæ£€æµ‹åˆ° SDKMANï¼Œè¯·è®¿é—® https://sdkman.io å®‰è£…"
fi

# é…ç½® Gradle ç¯å¢ƒå˜é‡
if command -v gradle &>/dev/null; then
  export PATH="$HOME/Documents/Gradle/gradle-8.7/bin:$PATH"
else
  echo "âš ï¸ æœªæ£€æµ‹åˆ° gradleï¼Œå»ºè®®æ‰§è¡Œ brew install gradle å®‰è£…"
fi

# é…ç½® pipx ç¯å¢ƒå˜é‡
if command -v pipx &>/dev/null; then
  export PATH="$PATH:$HOME/.local/bin"
else
  echo "âš ï¸ pipx æœªå®‰è£…ï¼Œå»ºè®®æ‰§è¡Œ brew install pipx"
fi

```
</details> 

<details>
<summary>.zshrc</summary>

```dart
export ZSH="$HOME/.oh-my-zsh"
ZSH_THEME="robbyrussell"
plugins=(git)
source $ZSH/oh-my-zsh.sh

flutter() { fvm flutter "$@"; }

jobs() {
  local files=(
    "$HOME/.bash_profile"
    "$HOME/.bashrc"
    "$HOME/.zshrc"
    "$HOME/.oh-my-zsh/oh-my-zsh.sh"
  )
  for file in "${files[@]}"; do
    if [[ -f "$file" ]]; then
      source "$file"
      echo "\033[1;32mâœ… å·²åŠ è½½é…ç½®æ–‡ä»¶ï¼šfile://$file\033[0m"
    else
      echo "\033[1;33mâš ï¸ æœªæ‰¾åˆ°é…ç½®æ–‡ä»¶ï¼šfile://$file\033[0m"
    fi
  done
  echo "\nğŸ“ âŒ˜Command + ç‚¹å‡»è·¯å¾„å¯æ‰“å¼€å¯¹åº”æ–‡ä»¶ï¼ˆmacOS Terminal æ”¯æŒï¼‰"
}

if [[ -z "$JOBS_ALREADY_RUN" ]]; then
  export JOBS_ALREADY_RUN=1
  command -v jobs &>/dev/null && jobs
fi

```
</details>

### 6ã€[<font color=red>**FVM**</font>](https://fvm.app/) = <font color=red>**F**</font>lutter <font color=red>**V**</font>ersion <font color=red>**M**</font>anagement <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> ä¸ºæ¯ä¸€ä¸ªé¡¹ç›®é…ç½®ï¼ˆé”å®šğŸ”’ï¼‰ä¸€ä¸ªå•ç‹¬çš„[**Flutter**](https://flutter.dev/)ç¯å¢ƒï¼Œå’Œç³»ç»Ÿç¯å¢ƒåŒºåˆ†å¼€ï¼Œæ–¹ä¾¿åˆ‡ç¯å¢ƒè¿è¡Œï¼ˆæµ‹è¯•ï¼‰ä»£ç 

* å®‰è£…[**FVM**](https://fvm.app/)çš„å¤§å‰ææ˜¯å…ˆå®‰è£…**dart**ç¯å¢ƒã€‚ğŸºHomebrew æ ¸å¿ƒæºä¸­ç›®å‰**æ²¡æœ‰**æ”¶å½• Dart çš„ `fvm` å·¥å…·

  ```dart
  dart pub global activate fvm
  ```

* ç”±[**FVM**](https://fvm.app/)é”å®šçš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œå†™å…¥åœ¨[**Flutter**](https://flutter.dev/)é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„**`.fvm/fvm_config.json`**ï¼ˆéšè—æ–‡ä»¶å¤¹ï¼‰

  ```json
  {
    "flutterSdkVersion": "3.13.9", /// å½“å‰é¡¹ç›®é”å®šä½¿ç”¨çš„ Flutter ç‰ˆæœ¬
    "pinVersions": false /// æ˜¯å¦é”å®šç²¾ç¡®ç‰ˆæœ¬ï¼ˆé€šå¸¸è®¾ä¸º falseï¼‰
  }
  ```

* ç”±[**FVM**](https://fvm.app/)ç®¡ç†çš„[**Flutter**](https://flutter.dev/).**SDK**çš„ç¼“å­˜ç›®å½•ï¼š`.fvm/flutter_sdk/`

* ç¯å¢ƒå˜é‡é…ç½®ï¼š`.bash_profile`

  > ğŸŒŸå…¨å±€å®šä¹‰äº†ä¸€ä¸ª shell å‡½æ•°ï¼ŒæŠŠæ‰€æœ‰çš„ `flutter` å‘½ä»¤éƒ½è½¬å‘ç»™ `fvm`
  >
  > ğŸ“Œ é‚£ä¹ˆ [**FVM**](https://fvm.app/) æ˜¯æ€ä¹ˆçŸ¥é“ç”¨å“ªä¸ª [**Flutter**](https://flutter.dev/).**SDK**ï¼Ÿ
  >
  > * [**FVM**](https://fvm.app/) ä¼šä¼˜å…ˆæŸ¥æ‰¾**å½“å‰é¡¹ç›®çš„ `.fvm/fvm_config.json`** æ–‡ä»¶ï¼›
  >
  > * å¦‚æœä½ ä¸åœ¨ [**Flutter**](https://flutter.dev/) é¡¹ç›®ç›®å½•ï¼Œ[**FVM**](https://fvm.app/) ä¼šä½¿ç”¨ä½ è®¾ç½®çš„ **å…¨å±€é»˜è®¤ [Flutter](https://flutter.dev/).SDK ç‰ˆæœ¬**ã€‚
  >
  >   ```shell
  >   âœ  Desktop fvm global
  >   ? Select a version:  â€º
  >   â¯ stable
  >     3.32.6
  >     3.24.5
  >   ```

  ```shell
  # é…ç½® FVM ç¯å¢ƒå˜é‡
  export PATH="$HOME/.pub-cache/bin:$PATH"
  if command -v fvm &>/dev/null; then
    flutter() { fvm flutter "$@"; }
  else
    echo "âš ï¸ æœªæ£€æµ‹åˆ° fvmï¼Œè¯·æ‰§è¡Œ flutter pub global activate fvm å®‰è£…"
  fi
  ```

  ```shell
  âœ  Desktop which flutter

  flutter () {
  	fvm flutter "$@"
  }
  ```

* ğŸ”’é”ç‰ˆæœ¬æ–‡ä»¶

  ![image-20250724151315734](./assets/image-20250724151315734.png)

  | æ–‡ä»¶/è·¯å¾„                                                    | ä½ç½®               | æ˜¯å¦å»ºè®®æäº¤   | ä½œç”¨                                                         | å¤‡æ³¨è¯´æ˜                                                     |
  | ------------------------------------------------------------ | ------------------ | -------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
  | `.fvmrc`                                                     | é¡¹ç›®æ ¹ç›®å½•         | âœ… **å»ºè®®æäº¤** | æ˜¾å¼æ ‡è®°å¸Œæœ›ä½¿ç”¨çš„ Flutter ç‰ˆæœ¬ï¼ˆå¦‚ `3.32.6` æˆ– `stable`ï¼‰æ–¹ä¾¿å›¢é˜Ÿåä½œã€CI è‡ªåŠ¨è¯»å– | ä»…ä¸€è¡Œçº¯æ–‡æœ¬ï¼Œä¸æ”¯æŒæ³¨é‡Šï¼Œé€‚ç”¨äºç‰ˆæœ¬å£°æ˜                     |
  | `.fvm/fvm_config.json`                                       | é¡¹ç›®ç›®å½•å†… `.fvm/` | âŒ **å»ºè®®å¿½ç•¥** | å®é™…æ‰§è¡Œæ—¶ FVM å†…éƒ¨è®°å½•çš„é…ç½®ä¿¡æ¯ï¼šåŒ…å« `flutterSdkVersion`ã€`channel`ã€`cachePath` ç­‰ | [**FVM**](https://fvm.app/) è‡ªåŠ¨ç”Ÿæˆï¼Œç”¨äºä»£ç†å’Œå®šä½ SDKï¼Œä¸å¯æ‰‹åŠ¨ç¼–è¾‘ |
  | `.fvm/flutter_sdk`                                           | `.fvm/` ä¸­è½¯é“¾æ¥   | âŒ å¿½ç•¥         | æŒ‡å‘ä½ ç”µè„‘ä¸Šçš„å®é™… SDK ä½ç½®ï¼ˆ`~/.fvm/versions/3.32.6`ï¼‰      | ç”¨äºè®© `fvm flutter` å‘½ä»¤ç”Ÿæ•ˆï¼ŒæŒ‡å‘å®é™…å®‰è£…ç‰ˆæœ¬              |
  | `~/.fvm/versions/<version>`                                  | å…¨å±€è·¯å¾„           | âœ… æœ¬åœ°ç¼“å­˜     | å®é™…å®‰è£…çš„ SDKï¼Œä¾›å¤šä¸ªé¡¹ç›®å…±ç”¨                               | æ¯ä¸ªç‰ˆæœ¬åªå®‰è£…ä¸€æ¬¡ï¼Œå¤šé¡¹ç›®å…±äº«æ­¤ç›®å½•ï¼Œæ— éœ€æäº¤               |
  | `release` æ–‡ä»¶<br>`.fvm/versions/<version>/version` æˆ– `release` | SDK å†…éƒ¨           | âŒ ä¸å…³å¿ƒ       | [**Flutter**](https://flutter.dev/).**SDK** è‡ªå¸¦çš„ç‰ˆæœ¬æè¿°æ–‡ä»¶ï¼Œæ ‡è¯†å½“å‰ç‰ˆæœ¬åŠ channel | å¯ç”¨äºè¯Šæ–­æˆ–å±•ç¤º SDK å†…éƒ¨ä¿¡æ¯ï¼Œä¸€èˆ¬æ— éœ€å…³å¿ƒæˆ–æ“ä½œ            |
  
* ğŸ§°[**FVM**](https://fvm.app/)å‘½ä»¤è¡Œä½¿ç”¨æ–¹å¼ï¼š

  * **æŸ¥çœ‹å½“å‰ [FVM](https://fvm.app/) çš„å…¨å±€é»˜è®¤ç‰ˆæœ¬**

    ```shell
    fvm global
    ```

  * **æŸ¥çœ‹æ‰€æœ‰å¯ç”¨ç‰ˆæœ¬**

    ```
    fvm releases
    ```

  * **æŸ¥çœ‹å½“å‰é¡¹ç›®é”å®šç‰ˆæœ¬**

    ```shell
    fvm flutter --version
    ```

  * æŸ¥è¯¢å¯ç”¨**`channel`**

    ```shell
    fvm flutter channel
    ```

    ```shell
    âœ  Desktop flutter channel
    Flutter channels:
      master (latest development branch, for contributors)
      main (latest development branch, follows master channel)
      beta (updated monthly, recommended for experienced users)
    * stable (updated quarterly, for new users and for production app releases)
    ```

    | channel  | è¯´æ˜                                                         | é€‚ç”¨äººç¾¤       |
    | -------- | ------------------------------------------------------------ | -------------- |
    | `stable` | **ç¨³å®šå‘å¸ƒï¼Œé€‚åˆç”Ÿäº§ç¯å¢ƒ**                                   | æ™®é€šå¼€å‘è€… âœ…   |
    | `beta`   | **æ–°åŠŸèƒ½é¢„è§ˆç‰ˆï¼Œè¾ƒç¨³å®š**                                     | æœ‰ç»éªŒçš„å¼€å‘è€… |
    | `main`   | **ä¸»å¼€å‘åˆ†æ”¯ï¼ŒåŠŸèƒ½æœ€å‰æ²¿**<br>ä» [**Flutter**](https://flutter.dev/) 3.22 å¼€å§‹ï¼Œ[**Flutter**](https://flutter.dev/) å›¢é˜Ÿå¯¹ channel è¿›è¡Œäº†é‡æ„ï¼Œ**åºŸå¼ƒäº† `dev` channel çš„ç‹¬ç«‹ç»´æŠ¤**ï¼Œå…¶åŠŸèƒ½å®Œå…¨è¢« `main` å–ä»£ã€‚ | éœ€ä½“éªŒæœ€æ–°ç‰¹æ€§ |
    | `master` | **[Flutter](https://flutter.dev/) å¼•æ“è´¡çŒ®è€…ä½¿ç”¨**           | æ·±åº¦å‚ä¸è€…     |

  * å‡çº§ï¼ˆåˆ‡æ¢ï¼‰ç”±[**FVM**](https://fvm.app/)ç®¡ç†çš„[**Flutter**](https://flutter.dev/).**SDK**

    ```shell
    # å¦‚æœæœ‰å¿…è¦ï¼Œéœ€è¦å…ˆåˆ‡æ¢channelï¼Œå†upgrade
    fvm flutter channel main
    fvm flutter upgrade
    ```

    | å‘½ä»¤                 | å«ä¹‰                                                         | æ˜¯å¦ä¿®æ”¹é¡¹ç›®é…ç½®                |
    | -------------------- | ------------------------------------------------------------ | ------------------------------- |
    | `fvm install stable` | å®‰è£…**æœ€æ–°ç¨³å®šç‰ˆæœ¬**åˆ°æœ¬åœ°ç¼“å­˜                               | âŒ                               |
    | `fvm use stable`     | è®¾ç½®å½“å‰é¡¹ç›®ä½¿ç”¨æœ€æ–°ç¨³å®šç‰ˆæœ¬                                 | âœ…                               |
    | `fvm global stable`  | è®¾ç½®å…¨å±€é»˜è®¤ç‰ˆæœ¬                                             | âœ…ï¼ˆå…¨å±€ï¼‰                       |
    | `fvm upgrade`        | 1ï¸âƒ£ **è·å–å½“å‰é¡¹ç›® `.fvm/fvm_config.json` ä¸­é…ç½®çš„ `flutterSdkVersion` æ‰€å± channelï¼ˆå¦‚ stableã€betaã€devã€masterï¼‰**ï¼›<br>2ï¸âƒ£ ç„¶åä»è¯¥ **channel** ä¸­ **å‡çº§åˆ°è¯¥ channel çš„æœ€æ–°ç‰ˆæœ¬** | âœ…ï¼ˆæ›´æ–°ç‰ˆæœ¬ä½†ä¸æ¢ **channel**ï¼‰ |

## ä¸‰ã€ğŸ’¥ä»£ç è®²è§£ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

### 1ã€ğŸ–¨ï¸æ‰“å°æ–¹å¼ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

#### 1.1ã€ <font id=æå…‰åŸç”Ÿæ¨é€>ğŸŒŒ</font><a href="#æå…‰åŸç”Ÿæ¨é€" style="font-size:20px; color:green;"><b>æå…‰åŸç”Ÿæ¨é€</b></a>å°è£…çš„å…¨å±€æ‰“å°ï¼ˆğŸ§¨å¼ºçƒˆæ¨èï¼‰<a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a> 

> è™½ç„¶è¿™ä¸ªæ–¹æ³•åŸæœ¬æ˜¯æ’ä»¶å†…éƒ¨å°è£…çš„ï¼Œä½†å®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå¯¹ `print()` çš„å¢å¼ºå°è£…ï¼Œç”¨æ³•é€šç”¨ã€æ•ˆæœæ›´å¼ºå¤§ã€‚

```dart
FlutterPluginEngagelab.printMy(xxx);
```

| ä¼˜ç‚¹                    | è¯´æ˜                    |
| ----------------------- | ----------------------- |
| âœ… ç»Ÿä¸€ç®¡ç†æ—¥å¿—è¾“å‡º      | æ–¹ä¾¿é›†ä¸­æ§åˆ¶            |
| âœ… å¯æ‰©å±•ï¼ˆåŠ é¢œè‰²/æ—¶é—´ï¼‰ | æ¯”åŸç”Ÿ `print()` æ›´çµæ´» |
| âœ… å¯åŠ æ—¥å¿—ç­‰çº§ / tag    | æ¯”å¦‚ `[INFO]` `[ERROR]` |
| âœ… å¯å±è”½ Release è¾“å‡º   | ä¿è¯çº¿ä¸Šä¸æš´éœ²è°ƒè¯•ä¿¡æ¯  |
| âœ… æ—¥å¿—æ›´ç¾è§‚ / å¯å†™æ–‡ä»¶ | åæœŸæ¥å…¥æ–‡ä»¶è®°å½•ä¹Ÿæ–¹ä¾¿  |

#### 1.2ã€`debugPrint` <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

```dart
debugPrint("XXX");
```

#### 1.3ã€`JobsPrint` <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> 1ï¸âƒ£ æ—¥å¿—æ‰“å°è¾“å‡ºæ–‡ä»¶å’Œè¡Œ
>
> 2ï¸âƒ£ å¦‚æœè¦æ‰“å°ç±»çš„å®ä¾‹ï¼Œéœ€è¦åœ¨ç±»ä¸­æ·»åŠ  `Map<String, dynamic> toJson() `æ–¹æ³•
>
> 3ï¸âƒ£ å¯¹<a href="#æå…‰åŸç”Ÿæ¨é€" style="font-size:16px; color:green;"><b>æå…‰åŸç”Ÿæ¨é€</b></a>çš„ä¸€å®šç¨‹åº¦çš„äºŒæ¬¡å°è£…

```dart
import 'package:flutter_plugin_engagelab/flutter_plugin_engagelab.dart';

void JobsPrint(Object? message) {
  /// è·å–å½“å‰è°ƒç”¨æ ˆï¼Œç›®çš„æ˜¯æ‰¾åˆ°è°è°ƒç”¨äº†è¿™ä¸ªæ—¥å¿—å‡½æ•°ã€‚
  final StackTrace stackTrace = StackTrace.current;
  /// æŠŠå †æ ˆä¿¡æ¯æŒ‰è¡Œåˆ‡å‰²ä¸ºæ•°ç»„ã€‚æ¯ä¸€è¡Œå¤§æ¦‚è¡¨ç¤ºä¸€ä¸ªæ–¹æ³•çš„è°ƒç”¨æ ˆå¸§ã€‚
  final List<String> stackTraceLines = stackTrace.toString().split('\n');
  /// å–ç¬¬2è¡Œï¼ˆstackTraceLines[1]ï¼‰ï¼šå› ä¸ºç¬¬1è¡Œæ˜¯å½“å‰å‡½æ•°æœ¬èº«çš„è°ƒç”¨ï¼Œç¬¬2è¡Œæ‰æ˜¯è°ƒç”¨ JobsPrint() çš„åœ°æ–¹ã€‚
  /// ç„¶åä¼ ç»™ _formatStackTraceLine() æ–¹æ³•æå–å‡ºæ–‡ä»¶å’Œè¡Œå·ä¿¡æ¯ã€‚
  final String logLine = stackTraceLines.length > 1
      ? _formatStackTraceLine(stackTraceLines[1])
      : 'Unknown location';
  FlutterPluginEngagelab.printMy('[$logLine] ${_messageToString(message)}');
}
```

### 2ã€`SystemChrome`å¸¸ç”¨äºè®¾ç½®<u>**çŠ¶æ€æ å’Œç³»ç»Ÿåº•éƒ¨å¯¼èˆªæ æ ·å¼**</u>çš„é…ç½® <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

<font color=red>**å°¤å…¶åœ¨ APP å¯åŠ¨æ—¶ã€é¡µé¢åˆå§‹åŒ–æ—¶éå¸¸å¸¸è§**</font>

> 1ã€`SystemChrome`ï¼šæ¥è‡ª `package:flutter/services.dart`ï¼Œç”¨äºè®¾ç½®ç³»ç»Ÿçº§ UI äº¤äº’ï¼ˆå¦‚çŠ¶æ€æ ã€å¯¼èˆªæ ï¼‰
>
> 2ã€`SystemUiOverlayStyle`ï¼šä¸€ä¸ªæ•°æ®ç±»ï¼Œæè¿°çŠ¶æ€æ /å¯¼èˆªæ çš„é¢œè‰²ã€å›¾æ ‡äº®åº¦ç­‰

```dart
SystemChrome.setSystemUIOverlayStyle(const SystemUiOverlayStyle(
    statusBarColor: Colors.white, // çŠ¶æ€æ èƒŒæ™¯é¢œè‰²
    statusBarIconBrightness: Brightness.dark, // çŠ¶æ€æ å›¾æ ‡é¢œè‰²ï¼ˆé»‘è‰²ï¼‰
    statusBarBrightness: Brightness.light, // é€‚ç”¨äºiOS

    systemNavigationBarColor: Colors.white, // å¯¼èˆªæ èƒŒæ™¯é¢œè‰²
    systemNavigationBarIconBrightness: Brightness.dark, // å¯¼èˆªæ å›¾æ ‡ä¸ºé»‘è‰²
    systemNavigationBarDividerColor: Colors.white, // å¯¼èˆªæ åˆ†å‰²çº¿é¢œè‰²ï¼ˆå¯é€‰ï¼‰
  ));
```

###  3ã€ğŸšªé…ç½®å…¥å£ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

#### 3.1ã€ğŸšªé…ç½®é¡¹ç›®å…¥å£   <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

```dart
Future<void> main() async{return runApp(XXX)};
void main() => runApp(XXX);
```

<details>
<summary>MaterialApp</summary>

```dart
import 'package:jobs_flutter_base_config/JobsDemoTools/JobsFlutterTools/JobsRunners/JobsMaterialRunner.dart';// å…¬å…±æµ‹è¯•å™¨è·¯å¾„
void main() => runApp(const JobsMaterialRunner(CustomOverlayDemo(),title:'XXX'));
/// æˆ–è€…
void main() {
  runApp(JobsMaterialRunner.builder(
    title: 'Flutter Bloc Demo',
    builder: (ctx) {
      return BlocProvider(
        create: (_) => CounterBloc(),
        child: const CounterPage(),
      );
    },
  ));
}
```
</details>

<details>
<summary>CupertinoApp</summary>

```dart
  import 'package:jobs_flutter_base_config/JobsDemoTools/JobsFlutterTools/JobsRunners/JobsCupertinoRunner.dart';// å…¬å…±æµ‹è¯•å™¨è·¯å¾„
  void main() => runApp(const JobsCupertinoRunner(CustomOverlayDemo(),title:'XXX'));
  /// æˆ–è€…
  void main() {
    runApp(JobsCupertinoRunner.builder(
      title: 'Flutter Bloc Demo',
      builder: (ctx) {
        return BlocProvider(
          create: (_) => CounterBloc(),
          child: const CounterPage(),
        );
      },
    ));
  }
```
</details>

<details>
<summary>GetMaterialApp</summary>

```dart
import 'package:jobs_flutter_base_config/JobsDemoTools/JobsFlutterTools/JobsRunners/JobsGetXRunner.dart';// å…¬å…±æµ‹è¯•å™¨è·¯å¾„
void main() =>
    runApp(JobsGetRunner(const PageB(), navigatorObservers:[routeObserver],title: 'è·¯ç”±å˜åŒ–çš„ç›‘å¬æµ‹è¯•'));
/// æˆ–è€…
void main() {
  runApp(JobsGetRunner.builder(
    title: 'Obx æµ‹è¯•',
    builder: (ctx) => Center(
      child: Obx(() => Text('å½“å‰å€¼ï¼š${controller.count}')),
    ),
  ));
}
```
</details>

#### 3.2ã€ğŸšªé…ç½®é¡µé¢çš„å…¥å£   <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

##### 3.2.1ã€ğŸšªé…ç½®é¦–é¡µå…¥å£   <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

<details>
<summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

```dart
GetMaterialApp(
  initialRoute: AppPages.INITIAL,      // ä»å“ªä¸ªé¡µé¢å¼€å§‹
  initialBinding: MainBindings(),      // å¯åŠ¨å‰å…ˆæ³¨å…¥å“ªäº›ä¾èµ–
  getPages: AppPages.routes,           // æœ‰å“ªäº›é¡µé¢èƒ½è¢«è·³è½¬
)
```
```dart
MaterialApp(
  home: Builder(
    builder: (ctx) => Scaffold(
      appBar: AppBar(
        title:
            Text(title ?? (child?.runtimeType.toString() ?? 'Builder')),
      ),
      body: Center(
        child: builder != null
            ? builder!(ctx)
            : child ?? Text('è¯·ä¼ å…¥ child æˆ– builder'.tr),
      ),
    ),
  ),
)
```

```dart
CupertinoApp(
  home: Builder(
    builder: (ctx) => CupertinoPageScaffold(
      navigationBar: CupertinoNavigationBar(
        middle:
            Text(title ?? (child?.runtimeType.toString() ?? 'Builder')),
      ),
      child: SafeArea(
        child: child ?? Text('è¯·ä¼ å…¥ child æˆ– builder'.tr),
      ),
    ),
  ),
)
```

</details>

##### 3.2.2ã€æ­å»ºé¡µé¢çš„åŸºæœ¬ç»“æ„   <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> [**Flutter**](https://flutter.dev/) é¡µé¢å¦‚æœæ²¡æœ‰è¢«å¦‚ä¸‹ğŸ‘‡ç»“æ„ç»„ä»¶åŒ…è£¹ï¼Œå°±æ²¡æœ‰é»˜è®¤ UI èƒŒæ™¯ç»“æ„ï¼ˆå¦‚ç™½åº•ã€**AppBar**ã€çŠ¶æ€æ ç©ºé—´ç­‰ï¼‰â€”â€”çœ‹èµ·æ¥å°±åƒâ€œä¸€ç‰‡é»‘â€æˆ–è€…â€œæ²¡æœ‰æ˜¾ç¤ºå†…å®¹â€ã€‚

| ç»„ä»¶å                                    | æ‰€å±åº“                                   | ç”¨é€” / ç‰¹ç‚¹                                                  |
| ----------------------------------------- | ---------------------------------------- | ------------------------------------------------------------ |
| **Scaffold**                              | Material                                 | æœ€å¸¸ç”¨ï¼Œæ„å»º Material é£æ ¼é¡µé¢ç»“æ„ï¼ˆAppBarã€Drawerã€FABã€BottomSheet ç­‰ï¼‰ |
| **CupertinoPageScaffold**                 | Cupertino                                | æ„å»º iOS é£æ ¼é¡µé¢ç»“æ„ï¼Œæ”¯æŒ `navigationBar` å’Œ `child`       |
| **CupertinoTabScaffold**                  | Cupertino                                | iOS é£æ ¼çš„åº•éƒ¨æ ‡ç­¾æ ç»“æ„ï¼Œé…åˆ `CupertinoTabBar` ä½¿ç”¨        |
| **NestedScrollView**                      | Material                                 | æ”¯æŒåè°ƒæ»šåŠ¨çš„é¡µé¢ç»“æ„ï¼ˆå¦‚ Collapsing AppBarï¼‰               |
| **CustomScrollView**                      | Material                                 | æ›´çµæ´»çš„æ»šåŠ¨ç»“æ„ï¼Œé€šå¸¸é…åˆ SliverAppBarã€SliverList ä½¿ç”¨     |
| **PageView**                              | Material                                 | å¯æ¨ªå‘ç¿»é¡µçš„å®¹å™¨ï¼Œå¸¸ç”¨äºå¼•å¯¼é¡µæˆ– Tab é¡µé¢åˆ‡æ¢                |
| **TabBarView** + **DefaultTabController** | Material                                 | ç”¨äºæ„å»º Tab é¡µé¢ç»“æ„ï¼Œæ­é… AppBar çš„ TabBar ä½¿ç”¨            |
| **Navigator** / **Router**                | Flutter Core                             | æ„å»ºè‡ªå®šä¹‰çš„å¯¼èˆªå †æ ˆç®¡ç†ç»“æ„ï¼ˆåº•å±‚çš„é¡µé¢å®¹å™¨ï¼‰               |
| **ShellRoute (GoRouter)**                 | go_router                                | ç”¨äºç»Ÿä¸€é¡µé¢ç»“æ„çš„åµŒå¥—è·¯ç”±å®¹å™¨ï¼ˆWeb å’Œ App é€šç”¨ï¼‰            |
| **GetMaterialApp + GetBuilder / GetView** | [**GetX**](https://pub.dev/packages/get) | [**GetX**](https://pub.dev/packages/get)  çŠ¶æ€ç®¡ç†ä¸­ç”¨äºç»Ÿä¸€ç»“æ„çš„å®¹å™¨ç±»ç»„åˆ |
| **Phoenix**                               | `flutter_phoenix`                        | ç”¨äºâ€œçƒ­é‡å¯â€æ•´ä¸ª app çš„å®¹å™¨ç»“æ„                              |
| **DevicePreview**                         | `device_preview`                         | ç”¨äºå“åº”å¼é¢„è§ˆï¼Œæ¨¡æ‹Ÿä¸åŒè®¾å¤‡çš„ç»“æ„å®¹å™¨                       |

### 4ã€[**Flutter**](https://flutter.dev/)<font color=red>**é¡¹ç›®ä¸­æ¯”è¾ƒæ ‡å‡†ä¸”å®Œæ•´çš„å¯åŠ¨æµç¨‹**</font> <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> 1ï¸âƒ£ `SystemChrome` é™åˆ¶æ–¹å‘
>
> 2ï¸âƒ£ `WakelockPlus` ä¿æŒå±å¹•å¸¸äº®
>
> 3ï¸âƒ£ [**`GetX`**](https://pub.dev/packages/get)  ä¾èµ–æ³¨å…¥ã€è·¯ç”±
>
> 4ï¸âƒ£ `SpUtil` è¯»å–ç¼“å­˜
>
> 5ï¸âƒ£ `ScreenUtil` é€‚é…è®¾è®¡å›¾å°ºå¯¸
>
> 6ï¸âƒ£ `EasyLoading` å…¨å±€ loading æç¤º
>
> 7ï¸âƒ£ å¤šè¯­è¨€æ”¯æŒ
>
> 8ï¸âƒ£ è‡ªå®šä¹‰ç”Ÿå‘½å‘¨æœŸç›‘å¬

<details>
<summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

```dart
SystemChrome.setPreferredOrientations([
    DeviceOrientation.portraitUp,/// å¼ºåˆ¶è®¾ç½® App åªå…è®¸ç«–å±æœä¸Š
  ]).then((_) async {
    WakelockPlus.enable();/// ä¿æŒå±å¹•å¸¸äº®ï¼Œä¸è‡ªåŠ¨æ¯å±
    Get.put(AppLifecycleController()); /// æ³¨å†Œç”Ÿå‘½å‘¨æœŸç›‘å¬
    String currentLanguage =
        await SpUtil.getString("currentLanguageType") ?? "zh";
    NetworkService().setLanguageNum(currentLanguage);
    /// è‡ªå®šä¹‰è·¯ç”±ç›‘å¬å™¨ï¼Œå¯åœ¨é¡µé¢åˆ‡æ¢æ—¶åšè®°å½•ã€åŸ‹ç‚¹ã€ç»Ÿè®¡ç­‰ã€‚
    final AppNavigatorObserver appNavigatorObserver = AppNavigatorObserver();
    runApp(
      /// ScreenUtilInit æ˜¯ flutter_screenutil æä¾›çš„å…¥å£ï¼Œé…åˆè®¾è®¡ç¨¿å°ºå¯¸è¿›è¡Œå°ºå¯¸é€‚é…ï¼›
      /// 1125x2436 æ˜¯ iPhone X çš„è®¾è®¡å°ºå¯¸ï¼ˆå•ä½æ˜¯ pxï¼Œä¸æ˜¯ dpï¼‰ï¼›
      /// å¯è‡ªåŠ¨é€‚é…ä¸åŒåˆ†è¾¨ç‡è®¾å¤‡ï¼Œä¿è¯ UI ä¸å˜å½¢ã€‚
      ScreenUtilInit(
        designSize: const Size(1125, 2436), /// ç›®å‰ç»™åˆ°çš„è®¾è®¡å›¾å°ºå¯¸ï¼Œå¦‚æœ‰å˜åŠ¨ï¼Œåç»­å†æ”¹
        minTextAdapt: true,
        splitScreenMode: true,
        builder: (context, child) {
          return GetMaterialApp(
            debugShowCheckedModeBanner: false,
            title: 'XXXXX',
            navigatorObservers: [appNavigatorObserver],
            localizationsDelegates: const [
              GlobalMaterialLocalizations.delegate,
              GlobalWidgetsLocalizations.delegate,
              GlobalCupertinoLocalizations.delegate,
            ],
            supportedLocales: supportedLocales,/// æ”¯æŒè¯­è¨€åˆ—è¡¨ï¼›
            initialRoute: AppPages.INITIAL,
            initialBinding: MainBindings(),
            getPages: AppPages.routes,
            builder: EasyLoading.init(),/// é…ç½®å…¨å±€ loading æ ·å¼ï¼›
            translations: AppTranslations(),/// å®ç°äº† GetTranslations çš„ç±»ï¼Œæä¾›è¯­è¨€èµ„æºã€‚
            locale: Locale(currentLanguage),/// å½“å‰è¯­è¨€ï¼›
            fallbackLocale: const Locale("en"),/// æ— åŒ¹é…æ—¶çš„é»˜è®¤è¯­è¨€ã€‚
          );
        },
      ),
    );
    configLoading();/// é…ç½® EasyLoading çš„æ ·å¼ï¼Œå¦‚åŠ¨ç”»ã€å­—ä½“ã€é®ç½©ç­‰ã€‚
  });
```
</details>

### 5ã€`WidgetsFlutterBinding`ç¡®ä¿ **Flutter** æ¡†æ¶ä¸åº•å±‚å¹³å°ï¼ˆå¦‚ MethodChannelã€æ’ä»¶ï¼‰ä¹‹é—´çš„æ¡¥æ¢å·²å®Œæˆåˆå§‹åŒ– <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> [**Flutter**](https://flutter.dev/) æœ‰ä¸€ä¸ªå«åš **`WidgetsBinding`** çš„ä¸œè¥¿ï¼Œå®ƒæ˜¯æ‰€æœ‰ **`Widget`** æ¡†æ¶çš„æ ¸å¿ƒï¼Œå®ƒè´Ÿè´£ï¼š
>
> - ç®¡ç†ç”Ÿå‘½å‘¨æœŸï¼ˆå¦‚ `build`ã€`rebuild`ï¼‰
> - ç®¡ç† `SchedulerBinding`ï¼ˆå¸§è°ƒåº¦ï¼‰
> - ç®¡ç†å¹³å°é€šé“ï¼ˆå¦‚ä½¿ç”¨ `MethodChannel` è°ƒç”¨åŸç”Ÿæ–¹æ³•ï¼‰
>
> åœ¨ `runApp()` ä¹‹å‰ï¼Œä½ å¿…é¡»ä¿è¯è¿™ä¸ª **Binding** å·²ç»åˆå§‹åŒ–ã€‚

```dart
WidgetsFlutterBinding.ensureInitialized();
```

æ¯”å¦‚ï¼Œåœ¨ä½¿ç”¨ä»¥ä¸‹åŠŸèƒ½å‰ï¼Œä¸€å®šè¦è¿›è¡Œåˆå§‹åŒ–ï¼š

- ä½¿ç”¨ `SharedPreferences.getInstance()`
- è°ƒç”¨ `SystemChrome.setPreferredOrientations(...)`
- ä½¿ç”¨ `await Firebase.initializeApp()`
- ä½¿ç”¨ `PathProvider.getApplicationDocumentsDirectory()`
- è°ƒç”¨åŸç”Ÿæ’ä»¶ï¼ˆä»»ä½•ä¸å¹³å°é€šé“æœ‰å…³çš„ï¼‰

> å¦‚æœæ²¡æœ‰è°ƒç”¨ `WidgetsFlutterBinding.ensureInitialized()`ï¼Œå¯èƒ½ä¼šæŠ¥é”™ç±»ä¼¼ï¼š
>
> ```shell
> Binding has not yet been initialized.
> ```

### 6ã€`DartPingIOS`åœ¨ **iOS** ä¸Šå¯ç”¨ **native** å±‚å®ç°çš„ <font color=red>**ping åŠŸèƒ½**</font> <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> 1ï¸âƒ£ å› ä¸º **iOS** çš„ç½‘ç»œæƒé™å’Œé™åˆ¶è¾ƒå¤šï¼Œ`dart_ping` éœ€è¦é€šè¿‡åŸç”Ÿæ’ä»¶é…åˆå®ç° `ping`ï¼Œæ‰€ä»¥éœ€è¦å…ˆè¿›è¡Œæ‰‹åŠ¨æ³¨å†Œ
>
> 2ï¸âƒ£ è¿™ä¸ªè°ƒç”¨å¯¹ **Android ä¸éœ€è¦**ï¼ˆåœ¨ [**Android**](https://www.android.com/) ä¸Šä½¿ç”¨ `Ping` ä¸éœ€è¦é¢å¤–å¤„ç†ï¼Œç›´æ¥ç”¨å³å¯ï¼‰

<details>
<summary>æ³¨å†Œ</summary>

```dart
DartPingIOS.register();
```
</details>

<details>
<summary>ä½¿ç”¨</summary>

```dart
final ping = Ping('8.8.8.8', count: 4);

ping.stream.listen((event) {
  print(event.summary); // æˆ– event.response
});
```
</details>

<details>
<summary>é…ç½®</summary>

* `Info.plist `

  ```xml
  <key>NSAppTransportSecurity</key>
  <dict>
    <key>NSAllowsArbitraryLoads</key>
    <true/>
  </dict>
  ```

* `pubspec.yaml`

  ```yaml
  dependencies:
    dart_ping: any
  # iOS éœ€è¦å•ç‹¬å¼•å…¥
  dart_ping_ios: any
  ```

### 7ã€åˆ©ç”¨**`SharedPreferences`**å¯¹æ•°æ®è¿›è¡Œå­˜å– <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> 1ï¸âƒ£ å°è£…åŸç”Ÿ `SharedPreferences` æ”¯æŒçš„æ‰€æœ‰ç±»å‹
>
> 2ï¸âƒ£ é¢å¤–æ”¯æŒäº†è‡ªå®šä¹‰å¯¹è±¡ï¼ˆ**Bean**ï¼‰çš„å­˜å–
>
> ğŸ’¥ [**Flutter**](https://flutter.dev/).**`SharedPreferences`** == OC.**`NSUserDefaults`** == Swift.**`UserDefaults`**

<details>
<summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

```dart
/// SpUtil.dart
import 'dart:convert';
import 'package:shared_preferences/shared_preferences.dart';
import 'app_json_serializable.dart';
/// å­˜å‚¨é…ç½®ä¿¡æ¯çš„å·¥å…·ç±»
class SpUtil {
  /// ä¿å­˜Stringç±»å‹æ•°æ®
  static Future<void> saveString(String key, String value) async {
    final prefs = await SharedPreferences.getInstance();
    await prefs.setString(key, value);
  }
  /// è·å–Stringç±»å‹æ•°æ®
  static Future<String?> getString(String key) async {
    final prefs = await SharedPreferences.getInstance();
    return prefs.getString(key);
  }
  /// ä¿å­˜Intç±»å‹æ•°æ®
  static Future<void> saveInt(String key, int value) async {
    final prefs = await SharedPreferences.getInstance();
    await prefs.setInt(key, value);
  }
  /// è·å–Intç±»å‹æ•°æ®
  static Future<int?> getInt(String key) async {
    final prefs = await SharedPreferences.getInstance();
    return prefs.getInt(key);
  }
  /// ä¿å­˜Doubleç±»å‹æ•°æ®
  static Future<void> saveDouble(String key, double value) async {
    final prefs = await SharedPreferences.getInstance();
    await prefs.setDouble(key, value);
  }
  /// è·å–Doubleç±»å‹æ•°æ®
  static Future<double?> getDouble(String key) async {
    final prefs = await SharedPreferences.getInstance();
    return prefs.getDouble(key);
  }
  /// ä¿å­˜Boolç±»å‹æ•°æ®
  static Future<void> saveBool(String key, bool value) async {
    final prefs = await SharedPreferences.getInstance();
    await prefs.setBool(key, value);
  }
  /// è·å–Boolç±»å‹æ•°æ®
  static Future<bool?> getBool(String key) async {
    final prefs = await SharedPreferences.getInstance();
    return prefs.getBool(key);
  }
  /// ä¿å­˜Stringç±»å‹åˆ—è¡¨æ•°æ®
  static Future<void> saveStringList(String key, List<String> value) async {
    final prefs = await SharedPreferences.getInstance();
    await prefs.setStringList(key, value);
  }
  /// è·å–Stringç±»å‹åˆ—è¡¨æ•°æ®
  static Future<List<String>?> getStringList(String key) async {
    final prefs = await SharedPreferences.getInstance();
    return prefs.getStringList(key);
  }
  /// é€šè¿‡keyåˆ é™¤æŒ‡å®šæ•°æ®
  static Future<void> remove(String key) async {
    final prefs = await SharedPreferences.getInstance();
    await prefs.remove(key);
  }
  /// æ¸…ç©ºæ•°æ®
  static Future<void> clear() async {
    final prefs = await SharedPreferences.getInstance();
    await prefs.clear();
  }
  /// ä¿å­˜åºåˆ—åŒ–çš„bean
  static Future<void> saveBean<T extends AppJsonSerializable>(
      String key, T value) async {
    final prefs = await SharedPreferences.getInstance();
    String jsonString = jsonEncode(value.toJson());
    await prefs.setString(key, jsonString);
  }
  /// æ‹¿å‡ºbean
  static Future<T?> getBean<T extends AppJsonSerializable>(
      String key, T Function(Map<String, dynamic>) fromJson) async {
    final prefs = await SharedPreferences.getInstance();
    String? jsonString = prefs.getString(key);
    if (jsonString != null) {
      Map<String, dynamic> jsonMap = jsonDecode(jsonString);
      return fromJson(jsonMap);
    }
    return null;
  }
}
```
</details>

### 8ã€[**Flutter**](https://flutter.dev/).**SDK**æ ‡å‡†<a href="#æ¨¡æ€" style="color:green; font-size:25px;"><b>æ¨¡æ€</b></a>å¼¹çª—ç»„ä»¶ï¼ˆæˆªè‡³ 2025ï¼‰<a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| åç§°                            | ç±»å‹                        | ç”¨é€”è¯´æ˜                       | æ‰€å±åº“                           |
| ------------------------------- | --------------------------- | ------------------------------ | -------------------------------- |
| **`showDialog()`**              | <font color=red>æ–¹æ³•</font> | é€šç”¨å¼¹çª—å°è£…                   | `package:flutter/material.dart`  |
| **`showGeneralDialog()`**       | <font color=red>æ–¹æ³•</font> | è‡ªå®šä¹‰å†…å®¹å’ŒåŠ¨ç”»çš„åº•å±‚å¼¹çª—æ–¹æ³• | `package:flutter/material.dart`  |
| **`showModalBottomSheet()`**    | <font color=red>æ–¹æ³•</font> | å¼¹å‡ºåº•éƒ¨æ¨¡æ€å¼¹çª—               | `package:flutter/material.dart`  |
| **`showDatePicker()`**          | <font color=red>æ–¹æ³•</font> | å¼¹å‡ºæ—¥æœŸé€‰æ‹©å™¨                 | `package:flutter/material.dart`  |
| **`showTimePicker()`**          | <font color=red>æ–¹æ³•</font> | å¼¹å‡ºæ—¶é—´é€‰æ‹©å™¨                 | `package:flutter/material.dart`  |
| **`showSearch()`**              | <font color=red>æ–¹æ³•</font> | å¼¹å‡ºæœç´¢é¡µï¼ˆå…¨å±å¼¹çª—ï¼‰         | `package:flutter/material.dart`  |
| **`showAboutDialog()`**         | <font color=red>æ–¹æ³•</font> | æ˜¾ç¤ºåº”ç”¨ä¿¡æ¯å¼¹çª—               | `package:flutter/material.dart`  |
| **`showLicensePage()`**         | <font color=red>æ–¹æ³•</font> | æ˜¾ç¤º **License** é¡µé¢          | `package:flutter/material.dart`  |
| **`showCupertinoDialog()`**     | <font color=red>æ–¹æ³•</font> | å¼¹å‡º iOS é£æ ¼å¼¹çª—              | `package:flutter/cupertino.dart` |
| **`showCupertinoModalPopup()`** | <font color=red>æ–¹æ³•</font> | å¼¹å‡º iOS é£æ ¼åº•éƒ¨å¼¹çª—          | `package:flutter/cupertino.dart` |

| åç§°                        | ç±»å‹                          | ç”¨é€”è¯´æ˜                           | æ‰€å±åº“                           |
| --------------------------- | ----------------------------- | ---------------------------------- | -------------------------------- |
| **`AlertDialog`**           | <font color=green>ç»„ä»¶</font> | æ ‡å‡†æç¤ºå¯¹è¯æ¡†                     | `package:flutter/material.dart`  |
| **`SimpleDialog`**          | <font color=green>ç»„ä»¶</font> | ç®€å•é€‰é¡¹å¯¹è¯æ¡†                     | `package:flutter/material.dart`  |
| **`Dialog`**                | <font color=green>ç»„ä»¶</font> | å¯è‡ªå®šä¹‰å†…å®¹                       | `package:flutter/material.dart`  |
| **`LicensePage`**           | <font color=green>ç»„ä»¶</font> | **License** é¡µé¢å®¹å™¨               | `package:flutter/material.dart`  |
| **`CupertinoAlertDialog`**  | <font color=green>ç»„ä»¶</font> | iOS é£æ ¼å¯¹è¯æ¡†ç»„ä»¶                 | `package:flutter/cupertino.dart` |
| **`CupertinoActionSheet`**  | <font color=green>ç»„ä»¶</font> | iOS é£æ ¼åº•éƒ¨å¼¹çª—å†…å®¹               | `package:flutter/cupertino.dart` |
| **`CupertinoPopupSurface`** | <font color=green>ç»„ä»¶</font> | å¼¹çª—è¡¨é¢ç»„ä»¶ï¼ˆç”¨äºè‡ªå®šä¹‰å¼¹çª—å¤–è§‚ï¼‰ | `package:flutter/cupertino.dart` |


* `AlertDialog`ï¼ˆæœ€å¸¸ç”¨ï¼‰

  <details>
  <summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

  ```dart
  showDialog(
    context: context,
    builder: (context) {
      return AlertDialog(
        title: Text('æç¤º'),
        content: Text('ä½ ç¡®å®šè¦åˆ é™¤å—ï¼Ÿ'),
        actions: [
          TextButton(
            onPressed: () => Navigator.of(context).pop(false),
            child: Text('å–æ¶ˆ'),
          ),
          TextButton(
            onPressed: () => Navigator.of(context).pop(true),
            child: Text('ç¡®å®š'),
          ),
        ],
      );
    },
  );
  ```
  </details>
  
* `SimpleDialog`

  <details>
  <summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>
  
  ```dart
  /// é€‚åˆå±•ç¤ºå¤šä¸ªé€‰é¡¹
  showDialog(
    context: context,
    builder: (context) {
      return SimpleDialog(
        title: Text('è¯·é€‰æ‹©'),
        children: [
          SimpleDialogOption(
            onPressed: () => Navigator.pop(context, 'A'),
            child: Text('é€‰é¡¹A'),
          ),
          SimpleDialogOption(
            onPressed: () => Navigator.pop(context, 'B'),
            child: Text('é€‰é¡¹B'),
          ),
        ],
      );
    },
  );
  ```
  </details>
  
* `Dialog`

  <details>
  <summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

  ```dart
  /// ä¸€ä¸ªåŸºç¡€çš„å¯¹è¯æ¡†å®¹å™¨ï¼Œé€šå¸¸ç”¨äºè‡ªå®šä¹‰å¼¹çª—
  showDialog(
    context: context,
    builder: (context) {
      return Dialog(
        shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(12)),
        child: Padding(
          padding: const EdgeInsets.all(16.0),
          child: Column(
            mainAxisSize: MainAxisSize.min,
            children: [
              Text('è‡ªå®šä¹‰å†…å®¹'),
              SizedBox(height: 10),
              ElevatedButton(
                onPressed: () => Navigator.pop(context),
                child: Text('å…³é—­'),
              ),
            ],
          ),
        ),
      );
    },
  );
  ```
  </details>

* `showDialog`

  <details>
  <summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

  ```dart
  /// å¼‚æ­¥ç­‰å¾…ç”¨æˆ·è¿”å›ç»“æœ
  /// Dart ä¸­æ‰€æœ‰æœªåˆå§‹åŒ–çš„å¯¹è±¡å˜é‡ï¼ˆåŒ…æ‹¬ boolï¼‰åœ¨ç±»ä¸­é»˜è®¤å€¼æ˜¯ nullï¼Œå› ä¸º Dart æ˜¯ä¸€ä¸ª ç©ºå®‰å…¨ï¼ˆnull safetyï¼‰è¯­è¨€ã€‚
  bool? confirmed = await showDialog<bool>(
    context: context,
    builder: (context) {
      return AlertDialog(
        title: Text('ç¡®è®¤'),
        content: Text('æ˜¯å¦ä¿å­˜ï¼Ÿ'),
        actions: [
          TextButton(onPressed: () => Navigator.pop(context, false), child: Text('å–æ¶ˆ')),
          TextButton(onPressed: () => Navigator.pop(context, true), child: Text('ç¡®å®š')),
        ],
      );
    },
  );
  if (confirmed == true) {
    // ç”¨æˆ·ç‚¹å‡»äº†ç¡®å®š
  }
  ```
  </details>
  
* `showGeneralDialog`

  <details>
  <summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

  ```dart
  /// å®Œå…¨è‡ªå®šä¹‰å¼¹çª— + åŠ¨ç”»
  showGeneralDialog(
    context: context,
    barrierDismissible: true,
    barrierLabel: 'å¼¹çª—',
    barrierColor: Colors.black54,
    transitionDuration: Duration(milliseconds: 300),
    pageBuilder: (_, __, ___) {
      return Center(
        child: Container(
          width: 250,
          height: 150,
          padding: EdgeInsets.all(20),
          color: Colors.white,
          child: Text('è‡ªå®šä¹‰å¼¹çª—å†…å®¹'),
        ),
      );
    },
    transitionBuilder: (_, animation, __, child) {
      return ScaleTransition(
        scale: animation,
        child: child,
      );
    },
  );
  ```
  </details>
  
  ...demoæœªå®Œå¾…è¡¥å……


### 9ã€[**`EasyLoading`**](https://pub.dev/documentation/flutter_easyloading/latest/) <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| ç±»å‹       | æ–¹æ³•                                    | è¯´æ˜                |
| ---------- | --------------------------------------- | ------------------- |
| åŠ è½½ä¸­     | `EasyLoading.show()`                    | æ˜¾ç¤ºé»˜è®¤åŠ è½½åŠ¨ç”»    |
| è‡ªå®šä¹‰æç¤º | `EasyLoading.show(status: 'åŠ è½½ä¸­...')` | è‡ªå®šä¹‰æç¤ºæ–‡æœ¬      |
| æˆåŠŸæç¤º   | `EasyLoading.showSuccess('æˆåŠŸ')`       | æ˜¾ç¤ºå¸¦ âœ… çš„æˆåŠŸæç¤º |
| å¤±è´¥æç¤º   | `EasyLoading.showError('å¤±è´¥')`         | æ˜¾ç¤ºå¸¦ âŒ çš„é”™è¯¯æç¤º |
| ä¿¡æ¯æç¤º   | `EasyLoading.showInfo('ä¿¡æ¯')`          | æ˜¾ç¤º â„¹ï¸ çš„ä¿¡æ¯æç¤º   |
| å…³é—­æç¤º   | `EasyLoading.dismiss()`                 | éšè—æ‰€æœ‰æç¤º        |

```yaml
/// pubspec.yaml
dependencies:
  flutter_easyloading: any
```

```dart
void configLoading() {
  // EasyLoading.instance
  //   ..loadingStyle = EasyLoadingStyle.light
  //   ..backgroundColor = Colors.white // è‡ªå®šä¹‰èƒŒæ™¯é¢œè‰²
  //   ..dismissOnTap = true; // ç‚¹å‡»ä¸èƒ½å…³é—­åŠ è½½æ¡†

  EasyLoading.instance
    ..indicatorType = EasyLoadingIndicatorType.fadingCircle
    ..loadingStyle = EasyLoadingStyle.custom
    ..backgroundColor = Colors.white
    ..indicatorColor = const Color(theme01MainColor)
    ..textColor = const Color(theme01MainColor)
    ..dismissOnTap = true; // ç‚¹å‡»ä¸èƒ½å…³é—­åŠ è½½æ¡†
  // ..maskType = EasyLoadingMaskType.custom
  // ..maskColor = Colors.black.withOpacity(0.1)
}
```

### 10ã€<font id=æå…‰åŸç”Ÿæ¨é€>[**æå…‰åŸç”Ÿæ¨é€**](https://www.engagelab.com/zh_CN)</font>ï¼š[**`FlutterPluginEngagelab`**](https://pub.dev/packages/flutter_plugin_engagelab) <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> æ¥è‡ªäºï¼š`package:flutter_plugin_engagelab/flutter_plugin_engagelab.dart`
>
> 1ï¸âƒ£ iOS / Android æ¨é€æ¶ˆæ¯æ¥æ”¶ä¸å¤„ç†
>
> 2ï¸âƒ£ è·å–è®¾å¤‡æ³¨å†Œ ID
>
> 3ï¸âƒ£ è®¾ç½®è§’æ ‡
>
> 4ï¸âƒ£ æ¨é€äº‹ä»¶å›è°ƒ
>
> 5ï¸âƒ£ è®¾ç½®è°ƒè¯•æ¨¡å¼ç­‰...

| æ–¹æ³•                                          | è¯´æ˜                                               |
| --------------------------------------------- | -------------------------------------------------- |
| **`addEventHandler({ onMTCommonReceiver })`** | æ³¨å†ŒåŸç”Ÿç«¯å‘æ¥çš„äº‹ä»¶å¤„ç†å›è°ƒ                       |
| **`getRegistrationId()`**                     | è·å–å½“å‰è®¾å¤‡çš„ **Registration ID**ï¼ˆæ¨é€å”¯ä¸€æ ‡è¯†ï¼‰ |
| **`initIos({appKey, channel})`**              | åˆå§‹åŒ– iOS æ¨é€ SDK                                |
| **`initAndroid()`**                           | åˆå§‹åŒ– Android æ¨é€ SDK                            |
| **`setNotificationBadge(int count)`**         | è®¾ç½®é€šçŸ¥è§’æ ‡æ•°ï¼ˆå¦‚ï¼š0ï¼‰                            |
| **`resetNotificationBadge()`**                | é‡ç½®è§’æ ‡                                           |
| **`printMy(String msg)`**                     | ç”¨äº **debug** æ‰“å°ï¼ˆSDK å†…å°è£…ï¼‰                  |
| **`checkNotificationAuthorizationIos()`**     | æ£€æŸ¥ iOS ç”¨æˆ·æ˜¯å¦å¼€å¯é€šçŸ¥æƒé™                      |
| **`configDebugMode(bool)`**                   | è®¾ç½®æ˜¯å¦å¼€å¯è°ƒè¯•æ¨¡å¼                               |

```dart
/// pubspec.yaml
dependencies:
  flutter_plugin_engagelab: any
```

### 11ã€[**`OpenInstall`**](https://www.openinstallglobal.com/)ï¼šç§»åŠ¨ç«¯çš„å®‰è£…/æ‹‰æ–°/æ¸ é“ç»Ÿè®¡ SDK <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

```dart
Future<void> initOpeninstall() async {
  OpeninstallFlutterPlugin openinstallFlutterPlugin =
      OpeninstallFlutterPlugin();
  openinstallFlutterPlugin.setDebug(true);
  openinstallFlutterPlugin.init(wakeupHandler);
  // é”™è¯¯ï¼šåº”è¯¥åœ¨ä¸šåŠ¡éœ€è¦æ—¶å†è°ƒç”¨ install è·å–å‚æ•°
  // openinstallFlutterPlugin.install(installHandler);
}

Future wakeupHandler(Map<String, Object> data) async {
  FlutterPluginEngagelab.printMy("wakeupHandler: $data");
}
```

* `install()` æ˜¯ç”¨äºè·å–å®‰è£…å‚æ•°çš„ï¼Œ**åªèƒ½è°ƒç”¨ä¸€æ¬¡ä¸”åº”å½“åœ¨éœ€è¦æ—¶ï¼ˆå¦‚é¦–æ¬¡æ‰“å¼€ APP çš„æ—¶å€™ï¼‰è°ƒç”¨**ã€‚å¦åˆ™å¯èƒ½æ—¶æœºä¸å¯¹å¯¼è‡´å‚æ•°è·å–ä¸åˆ°ã€‚

### 12ã€â°è·å–å½“å‰æ—¶é—´ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

```dart
/// è°ƒç”¨è¾“å‡ºï¼ˆæ ¼å¼ï¼‰ï¼š2025/07/13T14:38:45.123 PM
String getNowTime() {
  final time = DateTime.now();

  DateFormat formatter = DateFormat('yyyy/MM/ddTHH:mm:ss.SSS');
  String formattedDate = formatter.format(time);

  DateFormat amPmFormatter = DateFormat('a');
  String amPm = amPmFormatter.format(time);
  return '$formattedDate ${amPm == 'AM' ? 'AM' : 'PM'}';
}
```

```dart
// å½“å‰æ—¶é—´
DateTime now = DateTime.now();
// æŒ‡å®šæ—¶é—´
DateTime specific = DateTime(2024, 7, 31, 14, 30); // 2024å¹´7æœˆ31æ—¥ 14:30
// ä»å­—ç¬¦ä¸²è§£æï¼ˆæ³¨æ„æ ¼å¼ï¼‰
DateTime parsed = DateTime.parse("2024-07-31 14:30:00");

print(now.year);       // å¹´
print(now.month);      // æœˆ
print(now.day);        // æ—¥
print(now.hour);       // æ—¶
print(now.minute);     // åˆ†
print(now.second);     // ç§’
print(now.weekday);    // æ˜ŸæœŸå‡ ï¼ˆ1=æ˜ŸæœŸä¸€ï¼Œ7=æ˜ŸæœŸæ—¥ï¼‰
```

* ğŸ“† æ—¥æœŸæ ¼å¼ç¬¦

  | æ ¼å¼ç¬¦  | å«ä¹‰             | ç¤ºä¾‹è¾“å‡º | è¯´æ˜                      |
  | ------- | ---------------- | -------- | ------------------------- |
  | `y`     | å¹´ï¼ˆ1ä½æˆ–å¤šä½ï¼‰  | `2025`   | åªå†™ä¸€ä¸ª `y` ä¼šæ˜¯ç®€å†™å¹´ä»½ |
  | `yy`    | å¹´ï¼ˆä¸¤ä½ï¼‰       | `25`     | 2025 â†’ 25                 |
  | `yyyy`  | å¹´ï¼ˆå››ä½ï¼‰       | `2025`   | å¸¸ç”¨                      |
  | `M`     | æœˆä»½ï¼ˆ1â€“12ï¼‰     | `7`      | ä¸€ä½æ•°æ— å‰å¯¼ 0            |
  | `MM`    | æœˆä»½ï¼ˆä¸¤ä½ï¼‰     | `07`     | è¡¥è¶³å‰å¯¼ 0                |
  | `MMM`   | æœˆä»½ç¼©å†™         | `Jul`    | è‹±æ–‡ç¼©å†™                  |
  | `MMMM`  | æœˆä»½å…¨ç§°         | `July`   | è‹±æ–‡å…¨ç§°                  |
  | `MMMMM` | æœˆä»½é¦–å­—æ¯       | `J`      |                           |
  | `d`     | æ—¥ï¼ˆ1â€“31ï¼‰       | `3`      |                           |
  | `dd`    | æ—¥ï¼ˆä¸¤ä½ï¼‰       | `03`     |                           |
  | `E`     | æ˜ŸæœŸç¼©å†™         | `Sun`    |                           |
  | `EEE`   | æ˜ŸæœŸç¼©å†™         | `Sun`    |                           |
  | `EEEE`  | æ˜ŸæœŸå…¨ç§°         | `Sunday` |                           |
  | `EEEEE` | æ˜ŸæœŸé¦–å­—æ¯       | `S`      |                           |
  | `c`     | å‘¨ä¸­çš„å¤©ï¼ˆæ•°å­—ï¼‰ | `7`      | é€šå¸¸å‘¨æ—¥ä¸º 7              |

* â° æ—¶é—´æ ¼å¼ç¬¦ï¼ˆTime fieldsï¼‰

  | æ ¼å¼ç¬¦ | å«ä¹‰                 | ç¤ºä¾‹è¾“å‡º     | è¯´æ˜                     |
  | ------ | -------------------- | ------------ | ------------------------ |
  | `a`    | ä¸Šåˆ/ä¸‹åˆ            | `AM` æˆ– `PM` | å¯æ ¹æ® locale æ˜¾ç¤ºä¸­æ–‡   |
  | `h`    | 12å°æ—¶åˆ¶å°æ—¶ï¼ˆ1â€“12ï¼‰ | `5`          | æ— å‰å¯¼ 0                 |
  | `hh`   | 12å°æ—¶åˆ¶å°æ—¶ï¼ˆä¸¤ä½ï¼‰ | `05`         | æœ‰å‰å¯¼ 0                 |
  | `H`    | 24å°æ—¶åˆ¶å°æ—¶ï¼ˆ0â€“23ï¼‰ | `17`         | æ— å‰å¯¼ 0                 |
  | `HH`   | 24å°æ—¶åˆ¶å°æ—¶ï¼ˆä¸¤ä½ï¼‰ | `17`         | æœ‰å‰å¯¼ 0                 |
  | `m`    | åˆ†é’Ÿï¼ˆ0â€“59ï¼‰         | `8`          |                          |
  | `mm`   | åˆ†é’Ÿï¼ˆä¸¤ä½ï¼‰         | `08`         |                          |
  | `s`    | ç§’ï¼ˆ0â€“59ï¼‰           | `3`          |                          |
  | `ss`   | ç§’ï¼ˆä¸¤ä½ï¼‰           | `03`         |                          |
  | `S`    | æ¯«ç§’ï¼ˆ1 ä½ï¼‰         | `4`          | å¯èƒ½è¾“å‡ºä¸€ä½ã€ä¸¤ä½æˆ–ä¸‰ä½ |
  | `SSS`  | æ¯«ç§’ï¼ˆä¸‰ä½ï¼‰         | `004`        | æ¨èç”¨                   |

* ğŸŒ æ—¶åŒº

  | æ ¼å¼ç¬¦ | å«ä¹‰             | ç¤ºä¾‹è¾“å‡º              | è¯´æ˜                   |
  | ------ | ---------------- | --------------------- | ---------------------- |
  | `z`    | æ—¶åŒºç¼©å†™         | `GMT+8`               | ä¸ä¸€å®šæ˜¯æ ‡å‡†æ—¶åŒºå     |
  | `zzzz` | æ—¶åŒºå…¨ç§°         | `Greenwich Mean Time` | éƒ¨åˆ† locale æ‰æ”¯æŒ     |
  | `Z`    | RFC 822 æ—¶åŒºæ ¼å¼ | `+0800`               | é€šå¸¸ç”¨äº APIã€ISO æ ‡å‡† |
  | `ZZZZ` | æ—¶åŒºå…¨ç§° + åç§»  | `GMT+08:00`           | æ¯” `Z` æ›´äººæ€§åŒ–        |

* ğŸ”£ å…¶ä»–ç¬¦å·ç”¨æ³•

  | ç¬¦å·       | å«ä¹‰                     | ç¤ºä¾‹æˆ–è¯´æ˜                          |
  | ---------- | ------------------------ | ----------------------------------- |
  | `'...'`    | å­—é¢é‡ï¼ˆåŸæ ·è¾“å‡ºï¼‰       | `'T'` â†’ `T`                         |
  | `T`        | å­—ç¬¦ Tï¼ˆéœ€è¦å†™æˆ `'T'`ï¼‰ | å¸¸ç”¨äºåˆ†éš”æ—¥æœŸä¸æ—¶é—´ï¼ˆå¦‚ ISO æ ¼å¼ï¼‰ |
  | `G`        | å…¬å…ƒçºªå…ƒï¼ˆEraï¼‰          | `AD`ã€`BC`                          |
  | `Q`        | å­£åº¦ï¼ˆæ•°å­—ï¼‰             | `3`                                 |
  | `QQQ`      | å­£åº¦ç¼©å†™                 | `Q3`                                |
  | `QQQQ`     | å­£åº¦å…¨ç§°                 | `3rd quarter`                       |
  | `w` / `ww` | ä¸€å¹´ä¸­çš„ç¬¬å‡ å‘¨           | `27`                                |
  | `D`        | ä¸€å¹´ä¸­çš„ç¬¬å‡ å¤©           | `194`                               |
  | `k` / `kk` | 24å°æ—¶åˆ¶ï¼ˆ1â€“24ï¼‰         | `24`ï¼ˆä¸ä¼šæ˜¯ 0ï¼‰                    |
  | `K` / `KK` | 12å°æ—¶åˆ¶ï¼ˆ0â€“11ï¼‰         | `0` è¡¨ç¤º 12ç‚¹                       |

### 13ã€<font id=Navigator>âœ…**`Navigator`**</font> <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> 1ï¸âƒ£ åœ¨ [**Flutter**](https://flutter.dev/) ä¸­ï¼Œæ¯ä¸€ä¸ª `Navigator` éƒ½ä¼šæœ‰**è‡ªå·±çš„è·¯ç”±æ ˆ**ï¼Œå¹¶ä¸æ˜¯å…¨å±€å”¯ä¸€çš„
>
> 2ï¸âƒ£ å¯ä»¥æœ‰å¤šä¸ª **Navigator**ğŸ‘‡
>
> ```dart
> MaterialApp â†’ Navigator A ï¼ˆæ ¹ï¼‰
>           â””â”€â”€ Scaffold â†’ Navigator B ï¼ˆåµŒå¥—ï¼‰
> ```
>
> 3ï¸âƒ£ é»˜è®¤è°ƒç”¨ `Navigator.of(context)`ï¼Œæ˜¯**ä»å½“å‰ context å‘ä¸ŠæŸ¥æ‰¾æœ€è¿‘çš„ Navigator**ï¼Œ**è€Œä¸æ˜¯æ‰¾æœ€ä¸Šå±‚çš„**

#### 13.1ã€æ­£å‘ä¼ å‚ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

* æ„é€ å‡½æ•°ä¼ å‚ï¼ˆâœ…æœ€æ¨èï¼‰

  ```dart
  Navigator.push(
    context,
    MaterialPageRoute(builder: (context) => SecondPage(name: 'Jobs')),
  );
  ```

  ```dart
  class SecondPage extends StatelessWidget {
    final String name;
    const SecondPage({super.key, required this.name});
  }
  ```

* å…¨å±€å˜é‡æˆ–çŠ¶æ€ç®¡ç†å™¨ä¼ å‚ï¼šï¼ˆå¦‚ä½¿ç”¨ `Provider`ã€[**`GetX`**](https://pub.dev/packages/get) ã€`Riverpod`ã€`Bloc` ç­‰çŠ¶æ€ç®¡ç†æ¡†æ¶å…±äº«æ•°æ®ï¼‰

  * [**`Provider`**](https://pub.dev/packages/provider)

    <details>
    <summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

    ```dart
    import 'package:flutter/material.dart';
    import 'package:provider/provider.dart';
    
    void main() {
      runApp(
        ChangeNotifierProvider(create: (_) => UserModel(), child: MyApp()),
      );
    }
    
    class UserModel extends ChangeNotifier {
      String name = 'é»˜è®¤å';
      void updateName(String newName) {
        name = newName;
        notifyListeners();
      }
    }
    
    class MyApp extends StatelessWidget {
      @override
      Widget build(BuildContext context) => MaterialApp(home: HomePage());
    }
    
    class HomePage extends StatelessWidget {
      @override
      Widget build(BuildContext context) {
        final user = Provider.of<UserModel>(context);
        return Scaffold(
          appBar: AppBar(title: Text('é¦–é¡µ')),
          body: Center(
            child: ElevatedButton(
              child: Text('è®¾ç½®ç”¨æˆ·åå¹¶è·³è½¬'),
              onPressed: () {
                user.updateName('Provider ç”¨æˆ·');
                Navigator.push(context, MaterialPageRoute(builder: (_) => SecondPage()));
              },
            ),
          ),
        );
      }
    }
    
    class SecondPage extends StatelessWidget {
      @override
      Widget build(BuildContext context) {
        final user = Provider.of<UserModel>(context);
        return Scaffold(
          appBar: AppBar(title: Text('ç¬¬äºŒé¡µ')),
          body: Center(child: Text('ç”¨æˆ·åï¼š${user.name}')),
        );
      }
    }
    ```
    </details>
    
  * [**`GetX`**](https://pub.dev/packages/get)
  
    <details>
    <summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

    ```dart
    import 'package:flutter/material.dart';
    import 'package:get/get.dart';
    
    void main() {
      runApp(GetMaterialApp(home: HomePage()));
    }
    
    class UserController extends GetxController {
      var name = 'é»˜è®¤å'.obs;
    }
    
    class HomePage extends StatelessWidget {
      final UserController controller = Get.put(UserController());
    
      @override
      Widget build(BuildContext context) => Scaffold(
            appBar: AppBar(title: Text('é¦–é¡µ')),
            body: Center(
              child: ElevatedButton(
                child: Text('è®¾ç½®ç”¨æˆ·åå¹¶è·³è½¬'),
                onPressed: () {
                  controller.name.value = 'GetX ç”¨æˆ·';
                  Get.to(() => SecondPage());
                },
              ),
            ),
          );
    }
    
    class SecondPage extends StatelessWidget {
      final UserController controller = Get.find();
      @override
      Widget build(BuildContext context) => Scaffold(
            appBar: AppBar(title: Text('ç¬¬äºŒé¡µ')),
            body: Center(
              child: Obx(() => Text('ç”¨æˆ·åï¼š${controller.name.value}')),
            ),
          );
    }
    ```
    </details>
    
  * [**`Riverpod`**](https://pub.dev/packages/riverpod)
  
    <details>
    <summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

    ```dart
    import 'package:flutter/material.dart';
    import 'package:flutter_riverpod/flutter_riverpod.dart';
    
    final userProvider = StateProvider<String>((ref) => 'é»˜è®¤å');
    
    void main() {
      runApp(ProviderScope(child: MyApp()));
    }
    
    class MyApp extends StatelessWidget {
      @override
      Widget build(BuildContext context) => MaterialApp(home: HomePage());
    }
    
    class HomePage extends ConsumerWidget {
      @override
      Widget build(BuildContext context, WidgetRef ref) {
        return Scaffold(
          appBar: AppBar(title: Text('é¦–é¡µ')),
          body: Center(
            child: ElevatedButton(
              child: Text('è®¾ç½®ç”¨æˆ·åå¹¶è·³è½¬'),
              onPressed: () {
                ref.read(userProvider.notifier).state = 'Riverpod ç”¨æˆ·';
                Navigator.push(context, MaterialPageRoute(builder: (_) => SecondPage()));
              },
            ),
          ),
        );
      }
    }
    
    class SecondPage extends ConsumerWidget {
      @override
      Widget build(BuildContext context, WidgetRef ref) {
        final name = ref.watch(userProvider);
        return Scaffold(
          appBar: AppBar(title: Text('ç¬¬äºŒé¡µ')),
          body: Center(child: Text('ç”¨æˆ·åï¼š$name')),
        );
      }
    }
    ```
    </details>
    
  * [**`bloc`**](https://pub.dev/packages/bloc)
  
    > âœ… ä¼˜ç‚¹ï¼šé€‚åˆè·¨é¡µé¢ä¼ é€’å¤§é‡æ•°æ®
    > âŒ ç¼ºç‚¹ï¼šå¯èƒ½è¿‡åº¦ä¾èµ–å…¨å±€çŠ¶æ€ï¼Œè°ƒè¯•æˆæœ¬é«˜

    <details>
    <summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>
    
    ```dart
    import 'package:flutter/material.dart';
    import 'package:flutter_bloc/flutter_bloc.dart';
    
    void main() {
      runApp(BlocProvider(create: (_) => UserCubit(), child: MyApp()));
    }
    
    class UserCubit extends Cubit<String> {
      UserCubit() : super('é»˜è®¤å');
      void updateName(String newName) => emit(newName);
    }
    
    class MyApp extends StatelessWidget {
      @override
      Widget build(BuildContext context) => MaterialApp(home: HomePage());
    }
    
    class HomePage extends StatelessWidget {
      @override
      Widget build(BuildContext context) {
        final cubit = context.read<UserCubit>();
        return Scaffold(
          appBar: AppBar(title: Text('é¦–é¡µ')),
          body: Center(
            child: ElevatedButton(
              child: Text('è®¾ç½®ç”¨æˆ·åå¹¶è·³è½¬'),
              onPressed: () {
                cubit.updateName('Bloc ç”¨æˆ·');
                Navigator.push(context, MaterialPageRoute(builder: (_) => SecondPage()));
              },
            ),
          ),
        );
      }
    }
    
    class SecondPage extends StatelessWidget {
      @override
      Widget build(BuildContext context) {
        return Scaffold(
          appBar: AppBar(title: Text('ç¬¬äºŒé¡µ')),
          body: Center(
            child: BlocBuilder<UserCubit, String>(
              builder: (context, state) => Text('ç”¨æˆ·åï¼š$state'),
            ),
          ),
        );
      }
    }
    ```
    </details>
  
* é€šè¿‡å•ä¾‹ç±»æˆ–é™æ€å˜é‡ä¼ å‚

  > âœ… ä¼˜ç‚¹ï¼šç®€å•ç²—æš´
  >  âŒ ç¼ºç‚¹ï¼šä¸æ¨èç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œæ•°æ®æ±¡æŸ“é£é™©é«˜

  <details>
  <summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

  ```dart
  /// ä¾‹ï¼šç”¨ä¸€ä¸ªå•ä¾‹ç¼“å­˜ä¸´æ—¶å‚æ•°ï¼ˆä¸æ¨èï¼Œä½†å¯åº”æ€¥ï¼‰
  class PageCache {
    static String? tempMessage;
  }
  
  // è®¾ç½®å‚æ•°
  PageCache.tempMessage = 'Hello';
  
  // åœ¨æ–°é¡µé¢è¯»å–
  Text(PageCache.tempMessage ?? '')
  ```
  </details>
  
* ä½¿ç”¨ `RouteSettings` è‡ªå®šä¹‰å‚æ•°ï¼ˆè¿›é˜¶å‘½åè·¯ç”±ï¼‰

  > âœ… ä¼˜ç‚¹ï¼šé€‚åˆå¤§å‹é¡¹ç›®è¿›è¡Œé›†ä¸­ç»Ÿä¸€è·¯ç”±å¤„ç†
  >  âŒ ç¼ºç‚¹ï¼šå†™æ³•è¾ƒå¤æ‚

  <details>
  <summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

  ```dart
  onGenerateRoute: (settings) {
    if (settings.name == '/second') {
      final args = settings.arguments as Map;
      return MaterialPageRoute(
        builder: (_) => SecondPage(name: args['name']),
      );
    }
  }
  ```
  </details>
  
* å‘½åè·¯ç”± + `ModalRoute.of(context)?.settings.arguments`ï¼š**é€‚åˆå¤šé¡µé¢ç»Ÿä¸€ç®¡ç†æ—¶ä½¿ç”¨**

  > âœ… ä¼˜ç‚¹ï¼šæ­é… `onGenerateRoute` å¯ç»Ÿä¸€è·¯ç”±ç®¡ç†
  >  âŒ ç¼ºç‚¹ï¼šå‚æ•°ç±»å‹æ ¡éªŒé è‡ªå·±ï¼Œä¸å¦‚æ„é€ å‡½æ•°å®‰å…¨

  <details>
  <summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

  ```dart
  /// æ³¨å†Œè·¯ç”±ï¼š
  MaterialApp(
    initialRoute: '/',
    routes: {
      '/': (context) => HomePage(),
      '/second': (context) => SecondPage(),
    },
  );
  ```
  ```dart
  /// è·³è½¬ä¼ å‚ï¼š
  Navigator.pushNamed(
    context,
    '/second',
    arguments: {'name': 'Jobs'},
  );
  ```
  
  ```dart
  /// æ¥æ”¶å‚æ•°ï¼š
  class SecondPage extends StatelessWidget {
    @override
    Widget build(BuildContext context) {
      final args = ModalRoute.of(context)?.settings.arguments as Map?;
      final name = args?['name'];
  
      return Scaffold(
        body: Center(child: Text('Hello $name')),
      );
    }
  }
  ```
  
  </details>

#### 13.2ã€è¿”å‘ä¼ å‚ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

* æ ‡å‡†å‹

   ```dart
   final result = await Navigator.push(...);
   Navigator.pop(context, è¿”å›å€¼);
   ```

* å…¨å±€å˜é‡æˆ–çŠ¶æ€ç®¡ç†å™¨ä¼ å‚ï¼šï¼ˆå¦‚ä½¿ç”¨  [**`Provider`**](https://pub.dev/packages/provider)ã€[**`GetX`**](https://pub.dev/packages/get) ã€[**`Riverpod`**](https://pub.dev/packages/riverpod)ã€[**Bloc**](https://pub.dev/packages/bloc) ç­‰çŠ¶æ€ç®¡ç†æ¡†æ¶å…±äº«æ•°æ®ï¼‰

  * [**`Provider`**](https://pub.dev/packages/provider)

    é€šè¿‡æ¨¡å‹åŒæ­¥ï¼ˆé—´æ¥ä¼ å‚ï¼‰

    <details>
    <summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

    ```dart
    class UserModel extends ChangeNotifier {
      String result = 'æ— ';
      void setResult(String value) {
        result = value;
        notifyListeners();/// notifyListeners(); ä¸æ˜¯â€œå…¨å±€â€é€šçŸ¥ï¼Œè€Œæ˜¯å¯¹æ³¨å†Œäº†å®ƒè¿™ä¸ªå¯¹è±¡çš„æ‰€æœ‰ç›‘å¬è€…å‘é€šçŸ¥ã€‚
      }
    }
    
    // é¦–é¡µ
    ElevatedButton(
      onPressed: () async {
        Navigator.push(context, MaterialPageRoute(builder: (_) => SecondPage()));
      },
      child: Text('è·³è½¬åˆ°ç¬¬äºŒé¡µ'),
    ),
    Text('è¿”å›ç»“æœï¼š${Provider.of<UserModel>(context).result}'),
    
    // ç¬¬äºŒé¡µ
    onPressed: () {
      Provider.of<UserModel>(context, listen: false).setResult('Provider çš„è¿”å›å€¼');
      Navigator.pop(context);
    },
    ```
    </details>
    
  * [<font color=red>**`GetX`**</font>](https://pub.dev/packages/get)
  
    ä½¿ç”¨ `Get.back(result: value)`ï¼ˆæ ‡å‡†æ–¹å¼ï¼‰
  
    <details>
    <summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

    ```dart
    // é¦–é¡µ
    ElevatedButton(
      onPressed: () async {
        final result = await Get.to(() => SecondPage());
        print('è¿”å›å€¼ï¼š$result');
      },
      child: Text('è·³è½¬å¹¶æ¥æ”¶è¿”å›å€¼'),
    );
    
    // ç¬¬äºŒé¡µ
    ElevatedButton(
      onPressed: () => Get.back(result: 'GetX çš„è¿”å›å€¼'),
      child: Text('è¿”å›å¹¶ä¼ å€¼'),
    );
    ```
    </details>
    
  * [**`Riverpod`**](https://pub.dev/packages/riverpod)
  
    ä¿®æ”¹çŠ¶æ€å† popï¼ˆé—´æ¥ï¼‰
  
    <details>
    <summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

    ```dart
    final resultProvider = StateProvider<String>((ref) => 'æ— ');
    
    // é¦–é¡µ
    ElevatedButton(
      onPressed: () async {
        await Navigator.push(context, MaterialPageRoute(builder: (_) => SecondPage()));
      },
      child: Text('è·³è½¬'),
    ),
    Text('è¿”å›å€¼ï¼š${ref.watch(resultProvider)}'),
    
    // ç¬¬äºŒé¡µ
    ref.read(resultProvider.notifier).state = 'Riverpod è¿”å›å€¼';
    Navigator.pop(context);
    ```
    </details>
    
  * [**`Bloc`**](https://pub.dev/packages/bloc)
  
    emit çŠ¶æ€å popï¼ˆé—´æ¥ï¼‰
  
    <details>
    <summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

    ```dart
    class ResultCubit extends Cubit<String> {
      ResultCubit() : super('æ— ');
      void setResult(String val) => emit(val);
    }
    
    // é¦–é¡µ
    BlocBuilder<ResultCubit, String>(
      builder: (_, result) => Column(
        children: [
          ElevatedButton(
            onPressed: () => Navigator.push(context, MaterialPageRoute(builder: (_) => SecondPage())),
            child: Text('è·³è½¬'),
          ),
          Text('è¿”å›å€¼ï¼š$result'),
        ],
      ),
    );
    
    // ç¬¬äºŒé¡µ
    context.read<ResultCubit>().setResult('Bloc çš„è¿”å›å€¼');
    Navigator.pop(context);
    ```
    </details>

### 14ã€ğŸ”™ å¯¼èˆªæ è¿”å›æŒ‰é’®çš„è¡Œä¸ºï¼šç›‘å¬+å®šä¹‰   <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

<details>
<summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

```dart
/// PageC
class PageC extends RouteAwareStatefulPage {
  const PageC({super.key, super.onTap, super.buttonChild})
      : super(title: 'Page C');

  @override
  State<PageC> createState() => _PageCState();
}

class _PageCState extends RouteAwareState<PageC> {}
```
```dart
abstract class RouteAwareStatefulPage extends StatefulWidget {
  final String title;
  final VoidCallback? onTap;
  final Widget? buttonChild;

  const RouteAwareStatefulPage({
    super.key,
    required this.title,
    this.onTap,
    this.buttonChild,
  });
}

abstract class RouteAwareState<T extends RouteAwareStatefulPage>
    extends State<T> with RouteAware {
  @override
  void didChangeDependencies() {
    super.didChangeDependencies();
    routeObserver.subscribe(this, ModalRoute.of(context)! as PageRoute);
  }

  @override
  void dispose() {
    routeObserver.unsubscribe(this);
    super.dispose();
  }

  @override
  void didPush() => debugPrint('ğŸ“¥ ${widget.title} pushed');
  @override
  void didPop() => debugPrint('ğŸ“¤ ${widget.title} popped');
  @override
  void didPopNext() => debugPrint('ğŸ”™ Return to ${widget.title}');
  @override
  void didPushNext() => debugPrint('â¡ï¸ Navigate away from ${widget.title}');

  @override
  Widget build(BuildContext context) {
    return PopConfirmWrapper(
      child: Scaffold(
        appBar: AppBar(title: Text(widget.title)),
        body: Center(
          child: Column(
            mainAxisSize: MainAxisSize.min,
            children: [
              Text('å½“å‰é¡µé¢ï¼š${widget.title}'.tr,
                  style: normalTextStyle(fontSize: 24)),
              const SizedBox(height: 20),
              ElevatedButton(
                onPressed: widget.onTap,
                child: widget.buttonChild ?? Text('ç‚¹æˆ‘'.tr),
              ),
            ],
          ),
        ),
      ),
    );
  }
}
```

</details>

### 15ã€ğŸ–¥ï¸[**Flutter**](https://flutter.dev)å±å¹•é€‚é…æ–¹æ¡ˆ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| å·¥å…·/æ–¹å¼            | ä½œç”¨                              | ç”¨æ³•ç¤ºä¾‹                                                     |
| -------------------- | --------------------------------- | ------------------------------------------------------------ |
| `MediaQuery`         | è·å–å±å¹•å®½é«˜/è¾¹è·/é”®ç›˜é«˜åº¦        | `MediaQuery.of(context).size.height`                         |
| `SafeArea`           | è‡ªåŠ¨é¿å¼€çŠ¶æ€æ /å¯¼èˆªæ              | `SafeArea(child: ...)`                                       |
| `flutter_screenutil` | å±å¹•å°ºå¯¸é€‚é…ï¼ˆ**dp**/**sp**ç»Ÿä¸€ï¼‰ | `20.w`, `14.sp`, `EdgeInsets.all(10.r)`                      |
| `LayoutBuilder`      | è‡ªé€‚åº”å¸ƒå±€å¤§å°åˆ¤æ–­                | `constraints.maxWidth < 600 ? PhoneLayout() : TabletLayout()` |
| `KeyboardVisibility` | é”®ç›˜å¼¹å‡ºç›‘å¬ï¼Œå¤„ç†é®æŒ¡é—®é¢˜        | `KeyboardVisibilityController().onChange.listen(...)`        |

#### 15.1ã€[**flutter_screenutil**](https://pub.dev/packages/flutter_screenutil)  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

* â€¼ï¸é‡è¦è¯´æ˜

  * [**ScreenUtilInit**](https://pub.dev/packages/flutter_screenutil).**builder** åé¢çš„å‚æ•°

    | App ç±»å‹                              | æ˜¯å¦æ”¯æŒ                                  | åŸå› è¯´æ˜                                         |
    | ------------------------------------- | ----------------------------------------- | ------------------------------------------------ |
    | `MaterialApp`                         | âœ… æ”¯æŒ                                    | å®˜æ–¹æ¨èç”¨æ³•ï¼Œå†…éƒ¨å·²å¤„ç† context åˆå§‹åŒ–é€»è¾‘      |
    | `CupertinoApp`                        | âŒ ä¸æ”¯æŒ                                  | æ—  `MediaQuery`ï¼Œ`ScreenUtil` åˆå§‹åŒ–å¤±è´¥æˆ–ä¸å®Œæ•´ |
    | `GetMaterialApp`                      | âŒ ä¸ç›´æ¥æ”¯æŒ                              | å†…éƒ¨ç»“æ„ä¸åŒï¼Œ`context` è·å–æ—¶æœºä¸åŒ             |
    | `WidgetsApp`                          | âš ï¸ å‹‰å¼ºæ”¯æŒ                                | éœ€è‡ªå·±ç¡®ä¿ `MediaQuery` æ³¨å…¥ï¼Œä½¿ç”¨å—é™           |
    | `Builder` åŒ…è£… + ä»»æ„ Appï¼ˆå¦‚ä¸‹æ‰€ç¤ºï¼‰ | âœ… <font color=red>**æ¨èæ›¿ä»£æ–¹æ¡ˆ**</font> | æ‰‹åŠ¨ä¼ å…¥ `context`ï¼Œå¯å…¼å®¹ä»»ä½•æ¡†æ¶ï¼ˆåŒ…æ‹¬ GetXï¼‰  |

  * `ScreenUtilInit` å†…éƒ¨ä¾èµ–ï¼š

    - `MediaQuery.of(context)` åˆå§‹åŒ–è®¾å¤‡å°ºå¯¸ç­‰ï¼›
    - `WidgetsBinding.instance.window.physicalSize` æ˜¯å…œåº•ï¼›
    - ä¸€èˆ¬é€šè¿‡ `MaterialApp` åˆ›å»ºå®Œæ•´çš„ widget æ ‘ï¼ŒåŒ…æ‹¬ `MediaQuery`ã€`Localizations` ç­‰ã€‚

* ä½¿ç”¨

  <details>
  <summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

  ```yaml
  dependencies:
    flutter_screenutil: any
  ```
  ```dart
  import 'package:flutter_screenutil/flutter_screenutil.dart';
  ```
  
  ```dart
  Widget build(BuildContext context) => ScreenUtilInit(
      designSize: const Size(1125, 2436),// ğŸ‘ˆ æŒ‡å®šè®¾è®¡ç¨¿å°ºå¯¸
      minTextAdapt: true,
      builder: (context, child) => GetMaterialApp(/// â† å¯ä»¥æ›¿æ¢æˆ CupertinoAppã€WidgetsApp ç­‰
          debugShowCheckedModeBanner: false,
          title: title ?? 'GetX Demo',
          theme: ThemeData(
            primarySwatch: Colors.blue,
          ),
          home: Builder(
            builder: (ctx) => Scaffold(
              appBar: AppBar(
                title:
                    Text(title ?? (child?.runtimeType.toString() ?? 'Builder')),
              ),
              body: builder != null ? builder!(ctx) : child!,
            ),
          ),
        )
    );
  ```
  
  ```dart
  520.h     // è¡¨ç¤ºé«˜åº¦é€‚é…å€¼
  300.w     // è¡¨ç¤ºå®½åº¦é€‚é…å€¼
  16.sp     // è¡¨ç¤ºå­—ä½“å¤§å°é€‚é…å€¼
  ```
  
  </details>

#### 15.2ã€**SafeArea** <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

* å‚è€ƒ
  * [**SafeArea & MediaQuery**](https://docs.flutter.dev/ui/adaptive-responsive/safearea-mediaquery)
  * [**Layouts in Flutter**](https://docs.flutter.dev/ui/layout)

* ç³»ç»Ÿé®æŒ¡åŒºçš„å®šä¹‰ğŸ‘‡

  | åœºæ™¯                   | è¯´æ˜                                                         |
  | ---------------------- | ------------------------------------------------------------ |
  | â« é¡¶éƒ¨çŠ¶æ€æ            | iOS é¡¶éƒ¨åˆ˜æµ·ã€çŠ¶æ€æ ï¼›Android é€šçŸ¥æ                          |
  | â¬ åº•éƒ¨ç³»ç»Ÿå¯¼èˆªæ        | **Android**åº•éƒ¨å¯¼èˆªæŒ‰é’®åŒºåŸŸï¼ˆBack/Home/Recentï¼‰              |
  | ğŸ“± **iPhone** åˆ˜æµ·/ä¸‹å·´ | **iPhone** **X**/**11**/**12**/**13**/**14**/**15** ç³»åˆ—çš„`å‡¹å£`å’Œ`ä¸‹å·´`åŒºåŸŸ |
  | ğŸ†˜ æ¨ªå±ä¸‹çš„å·¦å³è¾¹ç¼˜     | ä¸€äº›è®¾å¤‡æ¨ªå±æ—¶ä¼šæœ‰ä¾§è¾¹æ‰‹åŠ¿æ                                  |

* æ¸©é¦¨æç¤º

  *  **é€‚åˆç”¨äºé¡¶å±‚å¸ƒå±€å®¹å™¨ï¼Œè‡ªåŠ¨ï¼ˆå¯é€‰é¿è®©æ–¹å‘ï¼‰é¿å¼€ç³»ç»Ÿé®æŒ¡åŒºåŸŸçš„`Widget`**

    ```dart
    SafeArea(
      top: false, // å¦‚æœå·²ç»æœ‰ AppBarï¼Œå°±ä¸éœ€è¦é¡¶éƒ¨é¿è®©
      child: Scaffold(
        body: ...
      ),
    )
    ```

  * `SafeArea` é€šå¸¸åº”è¯¥æ”¾åœ¨æœ€å¤–å±‚ï¼ˆæˆ–æ¥è¿‘æœ€å¤–å±‚ï¼‰ï¼Œä¸”**å…¨å±€åªéœ€è¦ç”¨ä¸€æ¬¡**

  * ä¸åº”è¯¥åœ¨ **`main()`** ä¸­ä½¿ç”¨ `SafeArea`ï¼š**`SafeArea` ä¾èµ–äº `MediaQuery`ï¼Œè€Œ `main()` æ²¡æœ‰æ„å»ºä¸Šä¸‹æ–‡**

    * `SafeArea` çš„å·¥ä½œæœºåˆ¶ï¼šå®ƒä» `MediaQuery.of(context)` ä¸­è·å–ç³»ç»Ÿçš„å®‰å…¨åŒºåŸŸï¼ˆçŠ¶æ€æ ã€åˆ˜æµ·ã€å¯¼èˆªæ ç­‰ï¼‰è¿›è¡Œ paddingã€‚
    * è€Œ `main()` ä¸­ï¼Œè¿˜æ²¡æœ‰æ„å»º `MaterialApp`ï¼Œæ²¡æœ‰ä¸Šä¸‹æ–‡æ ‘ï¼Œè‡ªç„¶æ²¡æœ‰ `MediaQuery`ï¼Œæ‰€ä»¥ `SafeArea` æ— æ³•ç”Ÿæ•ˆã€‚

  * ğŸ’¥ **ä¸è¦åµŒå¥—å¤šä¸ª `SafeArea`**ï¼šä¼šå¯¼è‡´ `MediaQuery` `padding` è¢«å¤šæ¬¡åº”ç”¨ï¼Œé€ æˆå¸ƒå±€åç§»ã€‚<font color=red>è‹¥æœ‰åµŒå¥—éœ€æ±‚ï¼Œä½¿ç”¨ **`MediaQuery.removePadding`**</font>

    * ä½¿ç”¨ `MediaQuery.removePadding`ï¼ˆå…¼å®¹æ—§ç‰ˆ Flutterï¼‰

      ğŸ”¹ ä¼˜ç‚¹ï¼šå…¼å®¹æ—§ç‰ˆæœ¬
      ğŸ”¹ ç¼ºç‚¹ï¼šè¦æ‰‹åŠ¨æŒ‡å®š `removeTop`ã€`removeBottom`ï¼Œé€»è¾‘ç•¥å¤æ‚

      ```dart
      SafeArea(
        child: MediaQuery.removePadding(
          context: context,
          removeTop: true, // æ ¹æ®éœ€æ±‚ç§»é™¤
          removeBottom: true,
          child: YourNestedContent(),
        ),
      )
      ```

  * ğŸ’¥ **ä¸è¦ä¸ `Scaffold.resizeToAvoidBottomInset` å†²çªä½¿ç”¨**ï¼šä¼šå‡ºç°å¸ƒå±€è·³åŠ¨ã€æŒ¤å‹ã€åº•éƒ¨ç©ºé—´é”™è¯¯ç­‰é—®é¢˜

    * æ¨èåªç”¨ `SafeArea` æˆ–ä½¿ç”¨ `resizeToAvoidBottomInset: false`

      ```dart
      Scaffold(
        resizeToAvoidBottomInset: false, // é¿å… SafeArea å†²çª
        body: SafeArea(
          child: ...,
        ),
      )
      ```

  * ğŸŸ¡ **ä¸èƒ½ä»£æ›¿é”®ç›˜é¿è®©æœºåˆ¶**ï¼š`SafeArea` åªè€ƒè™‘ç³»ç»Ÿ UIï¼ˆå¦‚çŠ¶æ€æ ã€åˆ˜æµ·ã€åº•éƒ¨ Home æŒ‡ç¤ºå™¨ç­‰ï¼‰ï¼Œä¸è´Ÿè´£é”®ç›˜é¿è®©

    * å¦‚æœæœ‰é”®ç›˜å¼¹å‡ºéœ€æ±‚ï¼Œéœ€ç»“åˆ `MediaQuery` æˆ– `KeyboardAvoider` ç­‰æ‰‹åŠ¨å¤„ç†ã€‚

  * âš ï¸ **å¯¹ Dialog/Overlay ç­‰ä¸æ˜¯åœ¨æ ¹èŠ‚ç‚¹æ¸²æŸ“çš„å†…å®¹æ— æ•ˆ**ï¼š`SafeArea` å¿…é¡»åœ¨æ‹¥æœ‰ `MediaQuery` çš„ä¸Šä¸‹æ–‡ä¸­æ‰èµ·ä½œç”¨ï¼ˆé€šå¸¸æ˜¯ `MaterialApp` æˆ– `WidgetsApp` ä¹‹ä¸‹ï¼‰ï¼Œå¦åˆ™æ— æ•ˆã€‚

  * **`CupertinoPageScaffold` è‡ªå¸¦ SafeArea è¡Œä¸º**ï¼Œä½†è‡ªå®šä¹‰é¡µé¢ä»éœ€è¦æ‰‹åŠ¨å¤„ç†ã€‚

  * âš ï¸ **ä¸ `AppBar` å…±ç”¨æ—¶åº”åªä½œç”¨äº body**ï¼šå¦åˆ™ä¼šè®© AppBar æœ‰é¢å¤–é¡¶éƒ¨è¾¹è·ï¼Œä¸€èˆ¬åªåŒ…è£¹ `Scaffold.body` å³å¯ã€‚

#### 15.3ã€ğŸ“ é”®ç›˜é®æŒ¡é€šç”¨å¤„ç†æ–¹æ¡ˆ  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

ğŸŒ¹ç±»ä¼¼äº**iOS**é‡Œé¢çš„[**IQKeyboardManager**](https://github.com/hackiftekhar/IQKeyboardManager)ï¼ŒğŸ‘‰ **ç›‘å¬é”®ç›˜çš„é«˜åº¦å˜åŒ–ï¼ŒåŠ¨æ€å°†è§†å›¾å¾€ä¸Šæ¨è¿™ä¹ˆå¤šè·ç¦»ï¼Œé¿å…è¾“å…¥æ§ä»¶è¢«é®æŒ¡ã€‚**

> **MediaQuery**.**of(context)**.**viewInsets**.**bottom**ï¼Œæ˜¯ [**Flutter**](https://flutter.dev/) æä¾›çš„ä¸€ä¸ª<u> **åŠ¨æ€å€¼**</u>ï¼Œè¡¨ç¤ºï¼šå½“å‰å±å¹•åº•éƒ¨è¢«â€œç³»ç»Ÿé®æŒ¡â€çš„é«˜åº¦
>
> | ç³»ç»Ÿé®æŒ¡ | MediaQuery.of(context).viewInsets.bottom å€¼ |
> | -------- | ------------------------------------------- |
> | æ²¡æœ‰é®æŒ¡ | 0                                           |
> | é”®ç›˜å¼¹å‡º | é”®ç›˜çš„å®é™…é«˜åº¦ï¼ˆæ¯”å¦‚ 300ï¼‰                  |

```dart
/// âŒ å¦‚æœä½ ä»€ä¹ˆéƒ½ä¸å¤„ç†ï¼š
/// é”®ç›˜ä¸€å¼¹å‡º
/// TextField å°±ä¼šè¢« ç›´æ¥æŒ¡ä½
/// é¡µé¢ä¸èƒ½æ»‘åŠ¨ï¼Œä½ æ ¹æœ¬çœ‹ä¸åˆ°å®ƒäº†
Scaffold(
  body: Column(
    children: [
      Spacer(),
      TextField(), // è¾“å…¥æ¡†é ä¸‹
    ],
  ),
)
```

```dart
/// é”®ç›˜æœªå¼¹å‡º	é¡µé¢æ­£å¸¸æ˜¾ç¤º
/// é”®ç›˜å¼¹å‡º	è¢«é”®ç›˜æŒ¡ä½çš„åŒºåŸŸä¼šè¢« Padding é¡¶ä¸Šæ¥
/// å†…å®¹è¶…å‡º	SingleChildScrollView å…è®¸ä½ æ»šåŠ¨çœ‹åˆ°å…¨éƒ¨å†…å®¹ï¼ˆå³ä½¿è¢«é”®ç›˜æŒ¡ä½ï¼‰
/// ğŸ”¥ SafeArea + SingleChildScrollView + Padding
SafeArea(
  child: Scaffold(
    resizeToAvoidBottomInset: true,
    body: SingleChildScrollView(
      child: Padding(
        /// åœ¨åº•éƒ¨æ·»åŠ ä¸€ä¸ªåŠ¨æ€çš„ paddingï¼ˆå†…è¾¹è·ï¼‰
        /// å®ƒçš„å€¼æ˜¯ï¼šMediaQuery.of(context).viewInsets.bottom
        /// ä¹Ÿå°±æ˜¯æŠŠä½ çš„é¡µé¢å†…å®¹æ•´ä½“å¾€ä¸Šæ¨è¿™ä¹ˆå¤šç©ºé—´ï¼Œé¿å…è¾“å…¥æ¡†è¢«é”®ç›˜æŒ¡ä½ã€‚
        padding: EdgeInsets.only(bottom: MediaQuery.of(context).viewInsets.bottom),
        child: Column(
          children: [
      			Spacer(),
     			  TextField(), // è¾“å…¥æ¡†é ä¸‹
   			  ],
        ),
      ),
    ),
  ),
)
```

* [**Flutter**](https://flutter.dev/) æ²¡æœ‰åƒ **iOS** é‚£æ ·åŸç”Ÿçš„ `keyboardWillShow` äº‹ä»¶ï¼Œä½†å¯ä»¥é€šè¿‡ï¼š

  - `MediaQuery.of(context).viewInsets.bottom`
  - æˆ–è€… `flutter_keyboard_visibility` åŒ…æ¥ç›‘å¬é”®ç›˜çŠ¶æ€å˜åŒ–

  æ‰‹åŠ¨åŠ  `ScrollView + Padding`ï¼Œå°±ç­‰åŒäº**Flutter ç‰ˆ IQKeyboardManager**

#### 15.4ã€ğŸ”„ å“åº”å¼å¸ƒå±€ï¼šæ ¹æ®å®½åº¦åˆ‡æ¢å¸ƒå±€  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

```dart
LayoutBuilder(
  builder: (context, constraints) {
    if (constraints.maxWidth < 600) {
      return PhoneLayout();
    } else {
      return TabletLayout();
    }
  },
)
```

### 16ã€Dart.**Object** <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> åœ¨ Dart ä¸­ï¼Œ**æ‰€æœ‰ç±»æœ€ç»ˆéƒ½ç»§æ‰¿è‡ª `Object`**ï¼Œæ‰€ä»¥è¿™äº›æ–¹æ³•æ¯ä¸ªç±»éƒ½è‡ªåŠ¨æ‹¥æœ‰

| æ–¹æ³•                                  | è¿”å›ç±»å‹  | ä½œç”¨                                                         | æ˜¯å¦å¸¸é‡å†™                  |
| ------------------------------------- | --------- | ------------------------------------------------------------ | --------------------------- |
| `toString()`                          | `String`  | å°†å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œå¸¸ç”¨äºæ‰“å°ã€æ—¥å¿—è°ƒè¯•ã€‚                   | âœ… ç»å¸¸é‡å†™ï¼Œç”¨äºè°ƒè¯•æ‰“å°ç­‰  |
| `operator ==(Object other)`           | `bool`    | æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰                                         | âœ… è‡ªå®šä¹‰æ¯”è¾ƒé€»è¾‘æ—¶å¿…é¡»é‡å†™  |
| `get hashCode`                        | `int`     | è¿”å›å¯¹è±¡çš„å“ˆå¸Œå€¼ï¼Œé…åˆ `==` ä½¿ç”¨<br>**åœ¨å†…å­˜ä¸­å¿«é€Ÿå®šä½/æŸ¥æ‰¾ç”¨çš„ ID** | âœ… å¦‚æœé‡å†™ `==`ï¼Œå¿…é¡»é‡å†™å®ƒ |
| `noSuchMethod(Invocation invocation)` | `dynamic` | æ‹¦æˆªæœªå®šä¹‰æ–¹æ³•è°ƒç”¨ã€‚<br>æ•è·æœªå®šä¹‰çš„æ–¹æ³•è°ƒç”¨ï¼ˆåŠ¨æ€è°ƒç”¨æ—¶ï¼‰ï¼Œç”¨äºå®ç°â€œä»£ç†â€ã€â€œMockâ€ã€â€œåŠ¨æ€æ¥å£â€ç­‰ã€‚ | âš ï¸ é«˜çº§ç”¨æ³•ï¼Œè¾ƒå°‘ç”¨          |
| `runtimeType`                         | `Type`    | è¿”å›å½“å‰å¯¹è±¡çš„è¿è¡Œæ—¶å®é™…ç±»å‹ï¼Œå¸¸ç”¨äºè°ƒè¯•æˆ–ç±»å‹åˆ¤æ–­           | âŒ ä¸èƒ½é‡å†™ï¼Œåªèƒ½è°ƒç”¨        |
| `identical(a, b)`                     | `bool`    | åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ä¸ºåŒä¸€å¼•ç”¨                                   | âŒ é™æ€æ–¹æ³•ï¼Œä¸å¯é‡å†™        |

```dart
class XXX{}
/// ğŸ‘†ç­‰ä»·äºğŸ‘‡ï¼š
class XXX extends Object{}
```

### 17ã€åœ¨[**Flutter**](https://flutter.dev/)ä¸­ï¼Œæ”¯æŒ<font color=red>**æ»‘åŠ¨**</font>çš„æ‰€æœ‰æ ¸å¿ƒ**`Widget`** <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> **Grid**ï¼šç½‘æ ¼

* æ»šåŠ¨æ¡

  * **iOS** æ»šåŠ¨æŒ‡ç¤ºå™¨æ˜¯ **`UIScrollView`** è‡ªå¸¦çš„

    | ç‰¹ç‚¹               | æè¿°                                                         |
    | ------------------ | ------------------------------------------------------------ |
    | **å†…ç½®æŒ‡ç¤ºå™¨**     | æ»šåŠ¨æ¡ï¼ˆscroll indicatorï¼‰æ˜¯ **`UIScrollView`** è‡ªå¸¦çš„ UI è¡Œä¸º |
    | **æ— éœ€é…ç½®**       | ç³»ç»Ÿè‡ªåŠ¨æ ¹æ® `contentOffset` å’Œ `contentSize` æ¥å†³å®šæ˜¯å¦æ˜¾ç¤ºæ»šåŠ¨æ¡ |
    | **å¼€å¯/å…³é—­æ§åˆ¶**  | é€šè¿‡å±æ€§æ§åˆ¶ï¼š`showsVerticalScrollIndicator = YES/NO`        |
    | **æ— æ³•è‡ªå®šä¹‰**     | æ ·å¼å’Œä½ç½®éš¾ä»¥è‡ªå®šä¹‰ï¼Œé™¤éç§æœ‰ API æˆ–è¦†ç›–å­è§†å›¾ï¼ˆä¸æ¨èï¼‰    |
    | **æ»šåŠ¨é©±åŠ¨æŒ‡ç¤ºå™¨** | æ»šåŠ¨è¡Œä¸ºè‡ªåŠ¨é©±åŠ¨æŒ‡ç¤ºå™¨å˜åŒ–ï¼Œæ— éœ€å¼€å‘è€…æ‰‹åŠ¨å¹²é¢„               |

  * [**Flutter**](https://flutter.dev/) æ»šåŠ¨æŒ‡ç¤ºå™¨æ˜¯ç‹¬ç«‹çš„ `Scrollbar` ç»„ä»¶

    | ç‰¹ç‚¹                    | æè¿°                                                         |
    | ----------------------- | ------------------------------------------------------------ |
    | **ä¸æ˜¯å†…ç½®çš„**          | é»˜è®¤çš„ `ListView` / `SingleChildScrollView` æ˜¯**æ²¡æœ‰æ»šåŠ¨æ¡**çš„ |
    | **éœ€è¦æ‰‹åŠ¨åŒ…è£¹**        | å¿…é¡»å¤–å±‚æ‰‹åŠ¨åŒ…ä¸€å±‚ `Scrollbar` æ‰æœ‰æ»šåŠ¨æ¡æ•ˆæœ                |
    | **éœ€è¦å…±äº« controller** | `Scrollbar` è¦å’Œå†…éƒ¨æ»šåŠ¨ç»„ä»¶**å…±ç”¨ä¸€ä¸ª `ScrollController`**ï¼Œæ‰èƒ½åŒæ­¥æ»šåŠ¨ |
    | **æ”¯æŒè‡ªå®šä¹‰æ ·å¼**      | å¯ä»¥è®¾ç½®é¢œè‰²ã€åšåº¦ã€æ˜¯å¦æ€»æ˜¯æ˜¾ç¤ºã€æ˜¯å¦äº¤äº’æ‹–åŠ¨ç­‰             |
    | **æ»šåŠ¨é©±åŠ¨æŒ‡ç¤ºå™¨**      | ç”± controller é©±åŠ¨æ»šåŠ¨ï¼Œ`Scrollbar` é€šè¿‡ç»‘å®š controller æ¥åŒæ­¥æ»šåŠ¨ä½ç½® |

  * ğŸ“Œ æ€»ç»“

    | å¯¹æ¯”ç‚¹             | iOS                 | [**Flutter**](https://flutter.dev/)  |
    | ------------------ | ------------------- | ------------------------------------ |
    | æ»šåŠ¨æ¡æ¥æº         | `UIScrollView` å†…ç½® | éœ€è¦æ‰‹åŠ¨ç”¨ `Scrollbar` åŒ…è£¹          |
    | æ»šåŠ¨æ¡æ˜¯å¦è‡ªåŠ¨åŒæ­¥ | âœ… ç³»ç»Ÿè‡ªåŠ¨          | âŒ éœ€é€šè¿‡ `ScrollController` æ‰‹åŠ¨åŒæ­¥ |
    | æ˜¯å¦å¯ä»¥è‡ªå®šä¹‰     | âŒ éå¸¸å—é™          | âœ… é¢œè‰²ã€å®½åº¦ã€äº¤äº’ã€æ‹–æ‹½ç­‰å…¨å¯è‡ªå®šä¹‰ |
    | æ˜¯å¦å¯ä»¥æ‹–åŠ¨æ¡æ»šåŠ¨ | âŒ ä¸èƒ½ï¼ˆä»…è§†è§‰ï¼‰    | âœ… `interactive: true` æ”¯æŒæ‹–åŠ¨æ»šåŠ¨   |

* [**Flutter**](https://flutter.dev/).**SDK** å†…ç½®çš„æ»šåŠ¨ç»„ä»¶

  | ç±»å‹       | Widget                                              | è¯´æ˜                     |
  | ---------- | --------------------------------------------------- | ------------------------ |
  | åˆ—è¡¨ç±»     | `ListView`                                          | å¸¸ç”¨çº¿æ€§æ»šåŠ¨åˆ—è¡¨         |
  | ç½‘æ ¼ç±»     | `GridView`                                          | ç±»ä¼¼ `UICollectionView`  |
  | åˆ†é¡µç±»     | `PageView`                                          | å·¦å³æ»‘åŠ¨åˆ†é¡µ             |
  | å•ç»„ä»¶æ»šåŠ¨ | `SingleChildScrollView`                             | åµŒå¥—æ»šåŠ¨æˆ–è¡¨å•æ»‘åŠ¨å¸¸ç”¨   |
  | å¯é‡æ’åˆ—è¡¨ | `ReorderableListView`                               | å†…ç½®æ‹–æ‹½é‡æ’             |
  | ç»„åˆæ»šåŠ¨   | `CustomScrollView` + `SliverList` / `SliverGrid`    | å¤æ‚ç»“æ„æ»šåŠ¨             |
  | å¤šæ»šåŠ¨åµŒå¥— | `NestedScrollView`                                  | æ»‘åŠ¨è”åŠ¨ï¼ˆå¦‚é¡¶éƒ¨æŠ˜å ï¼‰   |
  | æ»šåŠ¨å¢å¼º   | `Scrollbar`ã€`RefreshIndicator`ã€`ScrollController` | æ»šåŠ¨æ¡ã€åˆ·æ–°ã€è·³è½¬æ§åˆ¶ç­‰ |

  <details>
  <summary>ListView</summary>

  ```dart
  Widget build(BuildContext context) {
    return ListView.builder(
      itemCount: 20, // åˆ—è¡¨é¡¹æ•°é‡
      itemBuilder: (context, index) {
        return ListTile(title: Text('Item $index'));
      },
      scrollDirection: Axis.vertical, // æ»šåŠ¨æ–¹å‘ï¼ˆé»˜è®¤å‚ç›´ï¼Œå¯è®¾ç½®ä¸º Axis.horizontalï¼‰
      reverse: false, // æ˜¯å¦å€’åºæ˜¾ç¤ºåˆ—è¡¨é¡¹
      controller: ScrollController(), // æ»šåŠ¨æ§åˆ¶å™¨ï¼Œå¯ç”¨äºè·³è½¬æ»šåŠ¨ä½ç½®
      primary: false, // æ˜¯å¦ä½¿ç”¨ä¸»æ»šåŠ¨åŒºåŸŸï¼ˆtrueæ—¶è‡ªåŠ¨è¿æ¥ä¸» ScrollControllerï¼‰
      physics: BouncingScrollPhysics(), // æ»šåŠ¨ç‰©ç†ç‰¹æ€§ï¼ˆæƒ¯æ€§ã€å›å¼¹ã€æ»‘åŠ¨è¡Œä¸ºï¼‰
      shrinkWrap: false, // æ˜¯å¦æ ¹æ®å­ç»„ä»¶å†…å®¹è‡ªåŠ¨æ”¶ç¼©ï¼ˆtrueæ—¶é€‚åˆåµŒå¥—ï¼‰
      padding: EdgeInsets.all(8), // å†…å®¹çš„å†…è¾¹è·
      cacheExtent: 100.0, // é¢„åŠ è½½åŒºåŸŸï¼ˆåˆ—è¡¨æ»šåŠ¨åˆ°ä¸´è¿‘ä½ç½®æ—¶æå‰æ„å»ºï¼‰
      keyboardDismissBehavior: ScrollViewKeyboardDismissBehavior.manual,
      // é”®ç›˜æ”¶èµ·è¡Œä¸ºï¼Œå¯é€‰ manual / onDrag
      restorationId: 'listViewDemo', // çŠ¶æ€æ¢å¤ç”¨çš„ IDï¼Œç”¨äºè®°ä½æ»šåŠ¨ä½ç½®
      clipBehavior: Clip.hardEdge, // å†…å®¹æº¢å‡ºè£å‰ªæ–¹å¼
    );
  }
  ```
  </details>
  
  <details>
  <summary>GridView</summary>
  
  ```dart
  Widget build(BuildContext context) {
    return GridView.count(
      crossAxisCount: 3, // æ¯è¡Œå‡ ä¸ªæ ¼å­
      mainAxisSpacing: 10.0, // ä¸»è½´ï¼ˆå‚ç›´æ–¹å‘ï¼‰é—´è·
      crossAxisSpacing: 10.0, // æ¨ªå‘é—´è·
      childAspectRatio: 1.0, // å®½é«˜æ¯”ï¼Œ1.0 = æ­£æ–¹å½¢
      scrollDirection: Axis.vertical, // é»˜è®¤å‚ç›´æ»šåŠ¨
      reverse: false, // æ˜¯å¦å€’åºæ˜¾ç¤º
      controller: ScrollController(), // æ»šåŠ¨æ§åˆ¶å™¨
      physics: ClampingScrollPhysics(), // Android é£æ ¼æ»‘åŠ¨ç‰©ç†
      shrinkWrap: false, // æ˜¯å¦è‡ªåŠ¨æ”¶ç¼©ï¼ˆé€‚åˆåµŒå¥—ï¼‰
      padding: EdgeInsets.all(8), // å¤–è¾¹è·
      primary: false, // æ˜¯å¦å ç”¨ä¸»æ»šåŠ¨è§†å›¾
      restorationId: 'gridViewDemo', // çŠ¶æ€æ¢å¤ ID
      clipBehavior: Clip.hardEdge, // å†…å®¹è£å‰ª
      children: List.generate(
        30,
        (index) => Container(
          color: Colors.blue,
          child: Center(child: Text('Item $index')),
        ),
      ),
    );
  }
  ```
  </details>
  
  <details>
  <summary>PageView</summary>

  ```dart
  Widget build(BuildContext context) {
    return PageView.builder(
      itemCount: 5, // é¡µæ•°
      itemBuilder: (context, index) => Center(child: Text('Page $index')),
  
      scrollDirection: Axis.horizontal, // æ¨ªå‘æˆ–çºµå‘æ»‘åŠ¨ï¼ˆé»˜è®¤æ°´å¹³ï¼‰
      reverse: false, // æ˜¯å¦åå‘æ»‘åŠ¨ï¼ˆå³æ»‘å˜æˆå‰ä¸€é¡µï¼‰
      controller: PageController(
        initialPage: 0, // åˆå§‹é¡µç 
        keepPage: true, // æ˜¯å¦ä¿æŒæ»šåŠ¨çŠ¶æ€
        viewportFraction: 1.0, // é¡µé¢å å±å¹•å®½åº¦æ¯”ä¾‹ï¼ˆ<1 æ—¶å¯æ˜¾ç¤ºéƒ¨åˆ†ä¸‹ä¸€é¡µï¼‰
      ),
      physics: BouncingScrollPhysics(), // æ»‘åŠ¨è¡Œä¸ºï¼Œæ”¯æŒå¼¹æ€§ã€æƒ¯æ€§ã€å›å¼¹
      pageSnapping: true, // æ˜¯å¦è‡ªåŠ¨å¯¹é½æ•´é¡µï¼ˆåˆ†é¡µå¸é™„ï¼‰
      onPageChanged: (index) {
        print('é¡µé¢åˆ‡æ¢åˆ° $index');
      },
      allowImplicitScrolling: false, // æ˜¯å¦å…è®¸â€œæ‡’åŠ è½½ä¸‹ä¸€é¡µâ€ï¼ˆç”¨äºåŠ¨ç”»æå‰æ„å»ºï¼‰
      restorationId: 'pageViewDemo', // çŠ¶æ€æ¢å¤ IDï¼ˆç”¨äºæ¢å¤é¡µç ï¼‰
      clipBehavior: Clip.hardEdge, // è£å‰ªè¡Œä¸º
    );
  }
  ```
  </details>
  
  <details>
  <summary>SingleChildScrollView</summary>

  ```dart
  Widget build(BuildContext context) {
    return SingleChildScrollView(
      scrollDirection: Axis.vertical, // å‚ç›´æˆ–æ°´å¹³æ»šåŠ¨
      reverse: false, // æ˜¯å¦å€’åºæ˜¾ç¤ºï¼ˆé€‚åˆèŠå¤©ç•Œé¢ï¼‰
      padding: EdgeInsets.all(16), // å†…å®¹è¾¹è·
      primary: false, // æ˜¯å¦ä½¿ç”¨ä¸»æ»šåŠ¨è§†å›¾ï¼ˆå¦‚åµŒå¥—æƒ…å†µè®¾ä¸º falseï¼‰
      physics: AlwaysScrollableScrollPhysics(), // æ»‘åŠ¨ç‰©ç†ï¼ˆå…è®¸ç©ºçŠ¶æ€ä¹Ÿèƒ½æ»‘åŠ¨ï¼‰
      controller: ScrollController(), // æ§åˆ¶å™¨ï¼Œå¯ç”¨äºå®šä½æ»šåŠ¨
      clipBehavior: Clip.hardEdge, // å†…å®¹è¶…å‡ºè£å‰ªæ–¹å¼
      keyboardDismissBehavior: ScrollViewKeyboardDismissBehavior.onDrag,
      // æ‹–åŠ¨æ—¶æ˜¯å¦è‡ªåŠ¨æ”¶èµ·é”®ç›˜ï¼ˆé€‚åˆè¡¨å•ï¼‰
      restorationId: 'singleChildScrollViewDemo', // çŠ¶æ€æ¢å¤ ID
      child: Column(
        crossAxisAlignment: CrossAxisAlignment.start,
        children: List.generate(20, (i) => Text('Line $i')),
      ),
    );
  }
  ```
  </details>
  
  <details>
  <summary>ReorderableListViewï¼ˆæ”¯æŒæ‹–æ‹½æ’åºï¼‰</summary>
  
  ```dart
  Widget build(BuildContext context) {
    return ReorderableListView(
      onReorder: (oldIndex, newIndex) {
        print('ä» $oldIndex æ‹–åŠ¨åˆ° $newIndex');
        // æ‹–åŠ¨å®Œæˆåéœ€è‡ªå·±æ›´æ–°æ•°æ®æºï¼Œå¦åˆ™ UI ä¸ä¼šåˆ·æ–°
      },
  
      children: List.generate(
        10,
        (index) => ListTile(
          key: ValueKey(index), // ğŸ”¥ å¿…é¡»æä¾› Keyï¼Œå¦åˆ™æ— æ³•æ‹–æ‹½
          title: Text('Item $index'),
          leading: Icon(Icons.drag_handle), // å¯æ‹–åŠ¨æç¤ºå›¾æ ‡
        ),
      ),
  
      scrollDirection: Axis.vertical, // æ»šåŠ¨æ–¹å‘ï¼ˆé»˜è®¤å‚ç›´ï¼Œå¯æ¨ªå‘ï¼‰
      reverse: false, // æ˜¯å¦å€’åºæ˜¾ç¤º
      controller: ScrollController(), // æ»šåŠ¨æ§åˆ¶å™¨
      padding: EdgeInsets.symmetric(vertical: 12), // åˆ—è¡¨è¾¹è·
      physics: BouncingScrollPhysics(), // æ»šåŠ¨ç‰©ç†ï¼ˆå¼¹æ€§ï¼‰
      proxyDecorator: (child, index, animation) {
        // æ‹–åŠ¨æ—¶è‡ªå®šä¹‰æ‹–æ‹½è§†å›¾æ ·å¼
        return Material(
          elevation: 6,
          child: child,
        );
      },
      buildDefaultDragHandles: true, // æ˜¯å¦ä½¿ç”¨é»˜è®¤æ‹–åŠ¨æ‰‹æŸ„ï¼ˆè®¾ç½® false è‡ªå®šä¹‰ï¼‰
      keyboardDismissBehavior: ScrollViewKeyboardDismissBehavior.onDrag,
      clipBehavior: Clip.hardEdge,
      restorationId: 'reorderListDemo',
    );
  }
  ```
  </details>
  
  <details>
  <summary>CustomScrollViewï¼ˆç»„åˆå¤šä¸ª Sliver çš„é«˜çº§æ»šåŠ¨ç»“æ„ï¼‰</summary>
  
  ```dart 
  Widget build(BuildContext context) {
    return CustomScrollView(
      scrollDirection: Axis.vertical, // æ»šåŠ¨æ–¹å‘
      reverse: false, // æ˜¯å¦å€’åºæ»šåŠ¨
      controller: ScrollController(), // æ»šåŠ¨æ§åˆ¶å™¨
      physics: ClampingScrollPhysics(), // æ»šåŠ¨ç‰©ç†ï¼ˆå®‰å“é£æ ¼ï¼‰
      primary: false,
      shrinkWrap: false, // æ˜¯å¦æ ¹æ®å†…å®¹è‡ªåŠ¨æ”¶ç¼©ï¼ˆé€šå¸¸ä¸º falseï¼‰
      keyboardDismissBehavior: ScrollViewKeyboardDismissBehavior.manual,
      restorationId: 'customScrollViewDemo',
      clipBehavior: Clip.hardEdge,
  
      slivers: [
        SliverAppBar(
          pinned: true, // æ˜¯å¦å›ºå®šé¡¶éƒ¨ï¼ˆå¸é¡¶ï¼‰
          expandedHeight: 150.0,
          flexibleSpace: FlexibleSpaceBar(
            title: Text('SliverAppBar'),
          ),
        ),
        SliverToBoxAdapter(
          child: Container(
            height: 80,
            color: Colors.amber,
            child: Center(child: Text('æ™®é€šå†…å®¹')),
          ),
        ),
        SliverList(
          delegate: SliverChildBuilderDelegate(
            (context, index) => ListTile(title: Text('Item $index')),
            childCount: 10,
          ),
        ),
        SliverGrid(
          delegate: SliverChildBuilderDelegate(
            (context, index) => Container(
              color: Colors.blue[100 * ((index % 8) + 1)],
              child: Center(child: Text('Grid $index')),
            ),
            childCount: 8,
          ),
          gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(
            crossAxisCount: 2, // æ¯è¡Œå‡ ä¸ª
            mainAxisSpacing: 8,
            crossAxisSpacing: 8,
            childAspectRatio: 1.2,
          ),
        ),
      ],
    );
  }
  ```
  > `CustomScrollView` æ˜¯æ„å»ºå¤æ‚æ»šåŠ¨ç»“æ„çš„æ ¸å¿ƒæ¡†æ¶ï¼Œé€‚åˆå¤„ç†ï¼š
  >
  > - å¸é¡¶ headerï¼ˆSliverAppBarï¼‰
  > - åˆ—è¡¨ + ç½‘æ ¼æ··æ’
  > - å†…å®¹è‡ªé€‚åº” + æ»šåŠ¨è”åŠ¨
  > - æ›¿ä»£ `NestedScrollView` è§£å†³æ€§èƒ½é—®é¢˜
  
  </details>
  
  <details>
  <summary>SliverGrid å…¨å±æ€§ç¤ºä¾‹ï¼ˆFlutter åŸç”Ÿ Sliver ç½‘æ ¼ï¼‰</summary>
  
  ```dart
  Widget build(BuildContext context) {
    return CustomScrollView(
      slivers: [
        SliverPadding(
          padding: EdgeInsets.all(8), // å¤–è¾¹è·
          sliver: SliverGrid(
            delegate: SliverChildBuilderDelegate(
              (context, index) {
                return Container(
                  color: Colors.primaries[index % Colors.primaries.length],
                  child: Center(child: Text('Item $index')),
                );
              },
              childCount: 20, // å­é¡¹æ€»æ•°
            ),
            gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(
              crossAxisCount: 3, // æ¯è¡Œæ˜¾ç¤ºå‡ ä¸ªæ ¼å­
              mainAxisSpacing: 10.0, // å‚ç›´æ–¹å‘æ ¼å­ä¹‹é—´çš„é—´è·
              crossAxisSpacing: 10.0, // æ°´å¹³æ–¹å‘æ ¼å­ä¹‹é—´çš„é—´è·
              childAspectRatio: 1.2, // å®½é«˜æ¯”ï¼ˆ>1 è¡¨ç¤ºæ›´å®½ï¼‰
            ),
          ),
        ),
      ],
    );
  }
  ```
  > âŒ **`SliverGrid` ä¸èƒ½å•ç‹¬ä½œä¸º `Widget` è¿”å›**ï¼Œå› ä¸ºå®ƒä¸æ˜¯ç»§æ‰¿è‡ª `Widget`ï¼Œè€Œæ˜¯ç»§æ‰¿è‡ª **`SliverMultiBoxAdaptorWidget`**ï¼Œåªèƒ½è¢«æ”¾åœ¨ `CustomScrollView.slivers` ä¸­ä½¿ç”¨ã€‚
  
  </details>
  
  <details>
  <summary>NestedScrollViewï¼ˆåµŒå¥—æ»šåŠ¨è§†å›¾ï¼‰</summary>
  
  ```dart 
  Widget build(BuildContext context) {
    return NestedScrollView(
      controller: ScrollController(), // å¤–å±‚æ»šåŠ¨æ§åˆ¶å™¨
      physics: BouncingScrollPhysics(), // æ»šåŠ¨ç‰©ç†
      headerSliverBuilder: (context, innerBoxIsScrolled) => [
        SliverAppBar(
          pinned: true, // å›ºå®šé¡¶éƒ¨å¸é¡¶
          expandedHeight: 200.0,
          flexibleSpace: FlexibleSpaceBar(
            title: Text('Nested Header'),
          ),
        ),
      ],
      body: ListView.builder(
        itemCount: 30,
        itemBuilder: (context, index) => ListTile(title: Text('Item $index')),
      ),
      floatHeaderSlivers: false, // header æ˜¯å¦æµ®åŠ¨ï¼ˆå’Œ SliverAppBar çš„ floating è”åŠ¨ï¼‰
      scrollDirection: Axis.vertical,
      clipBehavior: Clip.hardEdge,
      restorationId: 'nestedScrollViewDemo',
    );
  }
  ```
  </details>
  
  <details>
  <summary>Scrollbarï¼ˆæ·»åŠ æ»šåŠ¨æ¡ï¼‰</summary>
  
  ```dart
  Widget build(BuildContext context) {
    return Scrollbar(
      child: ListView.builder(
        itemCount: 20,
        itemBuilder: (context, index) => ListTile(title: Text('Item $index')),
      ),
  
      thumbVisibility: true, // å§‹ç»ˆæ˜¾ç¤ºæ»šåŠ¨æ¡ï¼ˆé»˜è®¤åªåœ¨æ»šåŠ¨æ—¶å¯è§ï¼‰
      trackVisibility: true, // æ˜¾ç¤ºæ»šåŠ¨è½¨é“
      interactive: true, // æ˜¯å¦æ”¯æŒæ‹–åŠ¨æ»šåŠ¨æ¡è¿›è¡Œæ»‘åŠ¨
      thickness: 6.0, // æ»šåŠ¨æ¡å®½åº¦
      radius: Radius.circular(8), // æ»šåŠ¨æ¡åœ†è§’
      controller: ScrollController(), // æ»šåŠ¨æ§åˆ¶å™¨ï¼ˆä¸å†…éƒ¨ ListView ä¿æŒä¸€è‡´ï¼‰
      scrollbarOrientation: ScrollbarOrientation.right, // æ»šåŠ¨æ¡æ˜¾ç¤ºåœ¨å³ä¾§æˆ–å·¦ä¾§
    );
  }
  ```
  </details>
  
  <details>
  <summary>å±•ç¤º RefreshIndicator çš„å…¨éƒ¨å±æ€§ç”¨æ³•ï¼ˆä¸‹æ‹‰åˆ·æ–°ï¼‰</summary>
  
  ```dart
  Widget build(BuildContext context) {
    return RefreshIndicator(
      // âœ… ä¸‹æ‹‰åˆ·æ–°è§¦å‘å›è°ƒï¼ˆè¿”å› Futureï¼‰
      onRefresh: () async {
        await Future.delayed(Duration(seconds: 1));
        print('åˆ·æ–°å®Œæˆ');
      },
      // âœ… åˆ·æ–°åœˆä¸‹æ‹‰çš„è§¦å‘åç§»ï¼ˆå•ä½ pxï¼‰
      displacement: 60.0, // é»˜è®¤æ˜¯ 40
      // âœ… åœˆåœˆçš„é¢œè‰²
      color: Colors.blue,
      // âœ… åœˆåœˆèƒŒæ™¯é¢œè‰²ï¼ˆMaterial é£æ ¼ï¼‰
      backgroundColor: Colors.yellow[100],
      // âœ… åœˆåœˆçº¿æ¡ç²—ç»†
      strokeWidth: 3.0,
      // âœ… æ˜¯å¦å¿…é¡»ä»â€œè¾¹ç¼˜â€æ‰èƒ½è§¦å‘åˆ·æ–°ï¼ˆé»˜è®¤ï¼šonEdgeï¼‰
      triggerMode: RefreshIndicatorTriggerMode.any,
      // onEdge = å¿…é¡»ä»é¡¶éƒ¨è¾¹ç¼˜æ‹–åŠ¨
      // any = åªè¦æ»šåŠ¨ç»„ä»¶å†…å‘ä¸‹æ‹–å°±å¯è§¦å‘
      // âœ… æ§åˆ¶æ˜¯å¦å…è®¸åˆ·æ–°è§¦å‘ï¼ˆæ‹¦æˆªå™¨ï¼‰
      notificationPredicate: (ScrollNotification notification) {
        print('æ»šåŠ¨é€šçŸ¥ç±»å‹: ${notification.runtimeType}');
        // ä¾‹å¦‚åªå…è®¸åœ¨æ²¡æœ‰æ‹–åŠ¨æ—¶åˆ·æ–°
        return notification is ScrollStartNotification;
      },
      // âœ… åˆ·æ–°åŒºåŸŸï¼ˆchild å¿…é¡»æ˜¯å¯æ»šåŠ¨ç»„ä»¶ï¼‰
      child: ListView.builder(
        physics: AlwaysScrollableScrollPhysics(), // å³ä½¿å†…å®¹ä¸è¶³ä¹Ÿå¯ä¸‹æ‹‰
        itemCount: 15,
        itemBuilder: (context, index) => ListTile(title: Text('Item $index')),
      ),
    );
  }
  ```
  </details>
  
  <details>
  <summary>ç»„åˆ RefreshIndicator + ScrollController å®ç°ä¸Šä¸‹æ‹‰å®Œæ•´ä½“éªŒï¼ˆå¸¦åˆ†é¡µï¼‰</summary>
  
  ```dart
  class RefreshLoadMoreDemo extends StatefulWidget {
    @override
    _RefreshLoadMoreDemoState createState() => _RefreshLoadMoreDemoState();
  }
  
  class _RefreshLoadMoreDemoState extends State<RefreshLoadMoreDemo> {
    final ScrollController _scrollController = ScrollController();
    List<int> _data = List.generate(20, (i) => i);
    bool _isLoadingMore = false;
  
    @override
    void initState() {
      super.initState();
      // âœ… ç›‘å¬æ»šåŠ¨ï¼Œè§¦å‘ä¸Šæ‹‰åŠ è½½æ›´å¤š
      _scrollController.addListener(() {
        if (_scrollController.position.pixels >=
            _scrollController.position.maxScrollExtent - 50) {
          _loadMore();
        }
      });
    }
    // âœ… ä¸‹æ‹‰åˆ·æ–°é€»è¾‘
    Future<void> _handleRefresh() async {
      await Future.delayed(Duration(seconds: 1));
      setState(() {
        _data = List.generate(20, (i) => i);
      });
    }
    // âœ… ä¸Šæ‹‰åŠ è½½æ›´å¤šé€»è¾‘
    Future<void> _loadMore() async {
      if (_isLoadingMore) return;
      _isLoadingMore = true;
  
      await Future.delayed(Duration(seconds: 1));
      setState(() {
        int current = _data.length;
        _data.addAll(List.generate(10, (i) => current + i));
      });
  
      _isLoadingMore = false;
    }
  
    @override
    Widget build(BuildContext context) {
      return RefreshIndicator(
        onRefresh: _handleRefresh,
        child: ListView.builder(
          controller: _scrollController,
          itemCount: _data.length + 1, // æœ€åä¸€é¡¹æ˜¯ loading æŒ‡ç¤ºå™¨
          itemBuilder: (context, index) {
            if (index < _data.length) {
              return ListTile(title: Text('Item ${_data[index]}'));
            } else {
              return Padding(
                padding: const EdgeInsets.all(16),
                child: Center(child: CircularProgressIndicator()),
              );
            }
          },
        ),
      );
    }
  
    @override
    void dispose() {
      _scrollController.dispose();
      super.dispose();
    }
  }
  ```
  > åœ¨**iOS**ä¸­æ²¡æœ‰ä¸“é—¨çš„ç³»ç»Ÿå°è£…ä¸Šæ‹‰åŠ è½½ã€ä¸‹æ‹‰åˆ·æ–°çš„æ§ä»¶ï¼ˆä¸€èˆ¬ç”¨[**MJRefresh**](https://github.com/CoderMJLee/MJRefresh)ï¼‰
  >
  > ä½†æ˜¯åœ¨[**Flutter**](https://flutter.dev/)ç”±ç³»ç»Ÿç»™æä¾›äº†`RefreshIndicator`
  
  </details>
  
  <details>
  <summary>DraggableScrollableSheetï¼ˆå¯æ‹–åŠ¨åº•éƒ¨å¼¹å‡ºæ»‘åŠ¨é¢æ¿ï¼‰</summary>
  
  ```dart
  Widget build(BuildContext context) {
    return DraggableScrollableSheet(
      initialChildSize: 0.3, // åˆå§‹é«˜åº¦ï¼ˆç›¸å¯¹äºçˆ¶å®¹å™¨ 0.0~1.0ï¼‰
      minChildSize: 0.2, // æœ€å°é«˜åº¦
      maxChildSize: 0.8, // æœ€å¤§é«˜åº¦
      expand: true, // æ˜¯å¦å¡«æ»¡çˆ¶ç»„ä»¶ï¼ˆfalse = æŒ‰éœ€å¸ƒå±€ï¼‰
      builder: (context, scrollController) {
        return Container(
          color: Colors.grey[200],
          child: ListView.builder(
            controller: scrollController, // æ§åˆ¶æ»šåŠ¨
            itemCount: 20,
            itemBuilder: (context, index) => ListTile(title: Text('Item $index')),
          ),
        );
      },
    );
  }
  ```
  </details>
  
* [**Flutterç¤¾åŒº**](pub.dev)/ç¬¬ä¸‰æ–¹æä¾›çš„æ»šåŠ¨åº“

  | åº“                                   | è¯´æ˜                                                         |
  | ------------------------------------ | ------------------------------------------------------------ |
  | `flutter_staggered_grid_view`        | å®ç°ç€‘å¸ƒæµ Masonry å¸ƒå±€                                      |
  | `carousel_slider` / `flutter_swiper` | é«˜æ€§èƒ½è½®æ’­ç»„ä»¶ï¼ˆåŸºäº PageViewï¼‰                              |
  | `infinite_scroll_pagination`         | åˆ†é¡µåŠ è½½åˆ—è¡¨ç»„ä»¶                                             |
  | `extended_nested_scroll_view`        | æ›´å¼ºå¤§çš„åµŒå¥—æ»šåŠ¨æ”¯æŒï¼Œè§£å†³å®˜æ–¹ NestedScrollView æ»šåŠ¨å†²çªé—®é¢˜ |
  | `pull_to_refresh`                    | ä¸‹æ‹‰åˆ·æ–°/ä¸Šæ‹‰åŠ è½½çš„å°è£…åº“                                    |
  | `flutter_easyrefresh`ï¼ˆå·²åœæ›´ï¼‰      | æ›¾ç»æµè¡Œçš„åˆ·æ–°åº“ï¼ˆä¸æ¨èæ–°é¡¹ç›®ç”¨ï¼‰                           |

### 18ã€ğŸ‘‹æ‰‹åŠ¿ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> è™½ç„¶æœ¬è´¨æ˜¯å“åº”ç”¨æˆ·è¾“å…¥ï¼ˆå¦‚ç‚¹å‡»ã€æ»‘åŠ¨ã€æ‹–åŠ¨ã€ç¼©æ”¾ç­‰ï¼‰ï¼Œä½†å®ƒä»¬çš„ä½¿ç”¨æ–¹å¼**ç¡®å®ä¹Ÿæ˜¯é€šè¿‡ `Widget` å®ç°çš„**
>
> ```
> â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
> â”‚ Pointer åŸå§‹äº‹ä»¶å±‚         â”‚ â†’ Listener / MouseRegion
> â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
> â”‚ æ‰‹åŠ¿è¯†åˆ«å°è£…å±‚             â”‚ â†’ GestureDetector / RawGestureDetector
> â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
> â”‚ æ‰‹åŠ¿ + å¯è§†åŒ–åé¦ˆå±‚         â”‚ â†’ InkWell / InkResponse / æŒ‰é’®ç±»
> â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
> â”‚ æ‹–æ‹½ã€æ»‘åŠ¨ç­‰å¤æ‚äº¤äº’å°è£…     â”‚ â†’ Draggable / Dismissible / RefreshIndicator
> â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
> ```

* [**Flutter**](https://flutter.dev/) ä¸­çš„æ‰‹åŠ¿ç³»ç»Ÿæœ¬è´¨ï¼ˆç”±ä¸‰å±‚æœºåˆ¶ç»„æˆï¼‰

  | å±‚çº§   | åç§°                     | è¯´æ˜                                                         |
  | ------ | ------------------------ | ------------------------------------------------------------ |
  | 1ï¸âƒ£ åº•å±‚ | `Listener`               | åŸå§‹äº‹ä»¶ç›‘å¬ï¼ˆå¦‚ **pointerDown**ã€**pointerMove**ï¼‰          |
  | 2ï¸âƒ£ ä¸­å±‚ | `GestureDetector`        | å¯¹åŸå§‹äº‹ä»¶è¿›è¡Œè¯†åˆ«å°è£…ï¼ˆå¦‚ **tap**ã€**double tap**ã€**drag**ï¼‰ |
  | 3ï¸âƒ£ é«˜å±‚ | `InkWell`, `InkResponse` | ç»„ä»¶åŒ–çš„æ‰‹åŠ¿ + è§†è§‰åé¦ˆï¼ˆå¦‚æ°´æ³¢çº¹ï¼‰                          |

* âœ…[**Flutter**](https://flutter.dev/) ä¸­æ‰€æœ‰æ‰‹åŠ¿ç›¸å…³ **`Widget`** ä¸€è§ˆï¼ˆå…¨é‡åˆ†ç±»ï¼‰

  * ğŸ”¹åŸå§‹æŒ‡é’ˆäº‹ä»¶å±‚ï¼ˆPointer çº§ï¼‰ï¼šå¤„ç†æœ€åº•å±‚çš„è§¦æ‘¸äº‹ä»¶ï¼ˆ**pointer down** / **move** / **up** ç­‰ï¼‰

    | Widget               | è¯´æ˜                                                         |
    | -------------------- | ------------------------------------------------------------ |
    | **`Listener`**       | ç›‘å¬åŸå§‹ **Pointer** äº‹ä»¶ï¼ˆè§¦æ‘¸æŒ‰ä¸‹ã€ç§»åŠ¨ã€æŠ¬èµ·ã€å–æ¶ˆã€è¿›å…¥ã€ç¦»å¼€ç­‰ï¼‰ |
    | `MouseRegion`        | ä¸“é—¨å¤„ç†é¼ æ ‡äº‹ä»¶ï¼ˆè¿›å…¥ã€æ‚¬åœã€ç¦»å¼€ã€ä½ç½®ï¼‰                   |
    | `RawGestureDetector` | æ‰‹åŠ¨æ„å»ºæ‰‹åŠ¿è¯†åˆ«å™¨ï¼Œé€‚åˆè‡ªå®šä¹‰å¤æ‚æ‰‹åŠ¿è¯†åˆ«é€»è¾‘               |
    | `IgnorePointer`      | ç¦ç”¨å­ç»„ä»¶å¯¹ **Pointer** äº‹ä»¶çš„å“åº”                          |
    | `AbsorbPointer`      | æ‹¦æˆª **Pointer** äº‹ä»¶ï¼ˆè‡ªèº«å“åº”ä½†ä¸ä¼ é€’ç»™å­ç»„ä»¶ï¼‰            |

  * ğŸ”¹æ‰‹åŠ¿è¯†åˆ«å±‚ï¼ˆGesture çº§ï¼‰ï¼šå¯¹åŸå§‹ **Pointer** çš„å°è£…ï¼Œè´Ÿè´£è¯†åˆ«å‡ºâ€œç‚¹å‡»/æ‹–åŠ¨/ç¼©æ”¾â€ç­‰è¯­ä¹‰æ‰‹åŠ¿

    | Widget                                                       | è¯´æ˜                                                         |
    | ------------------------------------------------------------ | ------------------------------------------------------------ |
    | **`GestureDetector`**                                        | æ”¯æŒ **tap**ã€**double tap**ã€**long press**ã€**drag**ã€**scale** ç­‰å®Œæ•´æ‰‹åŠ¿<br/>âŒ æ— è§†è§‰åé¦ˆ |
    | `Dismissible`                                                | æ”¯æŒæ»‘åŠ¨åˆ é™¤æ‰‹åŠ¿ï¼Œå†…ç½®åŠ¨ç”»                                   |
    | **`Draggable`**                                              | å¯æ‹–æ‹½ç»„ä»¶<br/>âœ… å†…å»ºæ‹–åŠ¨é€»è¾‘                                |
    | `LongPressDraggable`                                         | é•¿æŒ‰åè§¦å‘æ‹–æ‹½                                               |
    | **`DragTarget`**                                             | æ‹–æ‹½ç›®æ ‡åŒºï¼Œå¯æ¥æ”¶æ‹–æ‹½æ•°æ®<br/>âœ… å†…å»ºæ‹–åŠ¨é€»è¾‘                |
    | `InteractiveViewer`                                          | æ”¯æŒç¼©æ”¾ã€æ‹–åŠ¨ã€æ—‹è½¬çš„äº¤äº’å®¹å™¨                               |
    | `GestureDetectorWithMultipleCustomGestureRecognizer`ï¼ˆè‡ªå®šä¹‰ç»„åˆï¼‰ | è‡ªå·±ç»„åˆå¤šä¸ªè¯†åˆ«å™¨<br/>éœ€ RawGestureDetector                 |

  * ğŸ”¹æ‰‹åŠ¿ + è§†è§‰åé¦ˆå±‚ï¼ˆå¸¦äº¤äº’è§†è§‰ï¼‰ï¼šè¿™äº›ç»„ä»¶ä¸ä»…æ”¯æŒæ‰‹åŠ¿è¯†åˆ«ï¼Œè¿˜é™„å¸¦ç‚¹å‡»åé¦ˆï¼ˆå¦‚æ°´æ³¢çº¹ï¼‰

    | Widget                                                       | è¯´æ˜                                                         |
    | ------------------------------------------------------------ | ------------------------------------------------------------ |
    | **`InkWell`**                                                | ç‚¹å‡»æ°´æ³¢çº¹æ•ˆæœï¼Œé…åˆ `Material` ä½¿ç”¨                         |
    | **`InkResponse`**                                            | æ›´çµæ´»æ§åˆ¶æ°´æ³¢çº¹èŒƒå›´çš„ç‚¹å‡»ç»„ä»¶<br>æ›´çµæ´»çš„ Ink æ•ˆæœ<br/>æ”¯æŒåœ†å½¢<br/>å¯è°ƒç‚¹å‡»åŒºåŸŸç­‰ |
    | `CupertinoButton`                                            | iOS é£æ ¼æŒ‰é’®ï¼Œè‡ªå¸¦ç‚¹å‡»é«˜äº®åé¦ˆ                               |
    | `MaterialButton` / `ElevatedButton` / `TextButton` / `OutlinedButton` | éƒ½æ˜¯å°è£…äº†ç‚¹å‡»åé¦ˆçš„ç»„ä»¶                                     |

  * ğŸ”¹ç»„åˆè¡Œä¸ºç±»ç»„ä»¶ï¼ˆå¤æ‚æ‰‹åŠ¿äº¤äº’ï¼‰

    | Widget                   | è¯´æ˜                                          |
    | ------------------------ | --------------------------------------------- |
    | `PageView`               | å¯æ¨ªå‘/çºµå‘æ»‘åŠ¨åˆ†é¡µï¼ˆå†…éƒ¨ä½¿ç”¨æ‹–æ‹½æ‰‹åŠ¿ï¼‰       |
    | **`Dismissible`**        | å¤„ç†å·¦å³æ»‘åŠ¨åˆ é™¤çš„æ‰‹åŠ¿ï¼ˆâœ… å†…å»ºåŠ¨ç”»ï¼‰          |
    | `RefreshIndicator`       | ä¸‹æ‹‰åˆ·æ–°ï¼ˆé…åˆæ»šåŠ¨æ‰‹åŠ¿è§¦å‘ï¼‰                  |
    | `Slider` / `RangeSlider` | æ‹–åŠ¨æ»‘å—ï¼ˆæ‹–æ‹½ + tapï¼‰                        |
    | `Switch` / `Checkbox`    | ä¹Ÿæ”¯æŒæ‰‹åŠ¿ï¼ˆtapï¼‰ä½†é€šå¸¸ä¸ç›´æ¥ä½œä¸ºæ‰‹åŠ¿ç»„ä»¶ä½¿ç”¨ |

### 19ã€<font id=çº¿æ€§å¸ƒå±€>ğŸ§±</font> [**Flutter**](https://flutter.dev/)ä¸­ï¼Œæ¶‰åŠåˆ°å¸ƒå±€çš„**`Widget`**  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> ğŸ”¹ å¸ƒå±€ç±»ï¼š**çœ‹ä¸è§çš„ç»“æ„æ§åˆ¶**ï¼ˆæ¸²æŸ“ã€æ˜¾ç¤ºé€»è¾‘ã€åŠ¨æ€æ„å»º...ï¼‰ã€‚ç±»ä¼¼ iOS ä¸­çš„ [**Masonry**](https://github.com/SnapKit/Masonry) æˆ– **AutoLayout**

#### 19.1ã€<font id=çº¿æ€§å¸ƒå±€>ğŸ§±</font> çº¿æ€§å¸ƒå±€ï¼ˆç±»ä¼¼ iOS çš„ `UIStackView`ï¼‰ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a> 

| Widget                                                       | åŠŸèƒ½è¯´æ˜                                                     |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| <a href="#Row" style="font-size:17px; color:green;"><b>`Row`</b></a> | æ°´å¹³æ–¹å‘æ’åˆ—å­ç»„ä»¶                                           |
| <a href="#Column" style="font-size:17px; color:green;"><b>`Column`</b></a> | å‚ç›´æ–¹å‘æ’åˆ—å­ç»„ä»¶                                           |
| <a href="#Row" style="font-size:17px; color:green;"><b>`Flex`</b></a> | å¯æŒ‡å®šä¸»è½´æ–¹å‘ï¼ˆæ¨ª / ç«–ï¼‰                                    |
| <a href="#Expanded" style="font-size:17px; color:green;"><b>**`Expanded`**</b></a> | 1ï¸âƒ£ **å æ®å‰©ä½™ç©ºé—´ï¼Œå¼¹æ€§ä¼¸ç¼©**<br/>2ï¸âƒ£ <font color=red>**åªåœ¨ `Row` / `Column` / `Flex` ä¸­èµ·ä½œç”¨**</font>ï¼Œç”¨æ¥è‡ªåŠ¨å¡«æ»¡å¤šä½™çš„å¯ç”¨ç©ºé—´<br/>3ï¸âƒ£ ä¸èƒ½ç”¨äº `Stack` / `Container` / `GridView` ç­‰å…¶ä»–å¸ƒå±€ä¸­<br/>4ï¸âƒ£ å ç”¨çš„æ˜¯å‰©ä½™ç©ºé—´ï¼Œä¸èƒ½å¼ºè¡Œæ’‘å¤§çˆ¶ **Widget** |
| <a href="#Flexible" style="font-size:17px; color:green;"><b>`Flexible`</b></a> | å¼¹æ€§å¸ƒå±€ï¼Œå¯é€‰æ‹©å ä¸å æ»¡                                     |
| <a href="#Spacer" style="font-size:17px; color:green;"><b>`Spacer`</b></a> | ç©ºé—´å ä½å™¨ï¼Œ<font color=red>**å®è´¨æ˜¯ `Flexible` å°è£…**</font> |
| <a href="#SizedBox" style="font-size:17px; color:green;"><b>`SizedBox`</b></a> | å›ºå®šå°ºå¯¸æˆ–é—´è·                                               |

> `Expanded` ğŸ†š `Flexible`
>
> | æ¯”è¾ƒç‚¹   | `Expanded`                | `Flexible`                     |
> | -------- | ------------------------- | ------------------------------ |
> | é»˜è®¤è¡Œä¸º | å¼ºåˆ¶å¡«æ»¡å‰©ä½™ç©ºé—´          | å¯ä»¥å¡«æ»¡ï¼Œä¹Ÿå¯ä»¥ç”±å†…å®¹å†³å®šå¤§å° |
> | å¸¸ç”¨åœºæ™¯ | å æ»¡ç©ºé—´ã€å‡åˆ†            | éœ€è¦çµæ´»æ§åˆ¶å†…å®¹å¤§å°æ—¶ä½¿ç”¨     |
> | åŒ…è£…æ•ˆæœ | æ˜¯ `Flexible(fit: tight)` | å¯è‡ªå®šä¹‰ `fit: tight/loose`    |

##### 19.1.1ã€<font id=Row>`Row`</font>  <a href="#çº¿æ€§å¸ƒå±€" style="font-size:17px; color:green;"><b>â¬†ï¸</b></a>

##### 19.1.2ã€<font id=Column>`Column`</font> <a href="#çº¿æ€§å¸ƒå±€" style="font-size:17px; color:green;"><b>â¬†ï¸</b></a>

##### 19.1.3ã€<font id=Flex>`Flex`</font> <a href="#çº¿æ€§å¸ƒå±€" style="font-size:17px; color:green;"><b>â¬†ï¸</b></a>

```dart
Flex(
  direction: Axis.horizontal, // æˆ– Axis.vertical
  mainAxisAlignment: MainAxisAlignment.center,
  crossAxisAlignment: CrossAxisAlignment.start,
  children: [
    Expanded(child: Text('A')),
    Expanded(child: Text('B')),
  ],
)
```

* å¯ä»¥çœ‹ä½œæ˜¯ `Row` å’Œ `Column` çš„é€šç”¨ç‰ˆæœ¬ï¼Œéœ€è¦æ‰‹åŠ¨æŒ‡å®šæ–¹å‘ã€‚

* åªè¦æ˜¯åŸºäº `Flex` çš„å¸ƒå±€ç»„ä»¶ï¼ˆå¦‚ `Row`ã€`Column`ã€`Flex`ï¼‰ï¼Œ**éƒ½æ”¯æŒ `crossAxisAlignment`**ï¼Œå®ƒæ§åˆ¶çš„æ˜¯ **â€œå‚ç›´äºä¸»è½´æ–¹å‘â€ çš„å­ç»„ä»¶å¯¹é½æ–¹å¼**ã€‚

  | Widget   | ä¸»è½´æ–¹å‘                      | äº¤å‰è½´æ–¹å‘ï¼ˆcrossAxisï¼‰ |
  | -------- | ----------------------------- | ----------------------- |
  | `Column` | ç«–ç›´ï¼ˆä¸Šä¸‹ï¼‰                  | æ°´å¹³ï¼ˆå·¦å³ï¼‰            |
  | `Row`    | æ°´å¹³ï¼ˆå·¦å³ï¼‰                  | ç«–ç›´ï¼ˆä¸Šä¸‹ï¼‰            |
  | `Flex`   | å¯å˜ï¼ˆé€šè¿‡ `direction` æŒ‡å®šï¼‰ | å–å†³äº `direction`      |

##### 19.1.4ã€<font id=Expanded>**`Expanded`**</font> <a href="#çº¿æ€§å¸ƒå±€" style="font-size:17px; color:green;"><b>â¬†ï¸</b></a>

> åœ¨**ä¸»è½´æ–¹å‘**æ’‘æ»¡çˆ¶ç»„ä»¶å‰©ä½™ç©ºé—´

```dart
Row(
  children: [
    Expanded(
      flex: 1, // é»˜è®¤å€¼æ˜¯ 1
      child: Container(color: Colors.red, height: 50),
    ),
    Expanded(
      flex: 2, // å ç”¨å‰©ä½™ç©ºé—´çš„ 2 ä»½
      child: Container(color: Colors.blue, height: 50),
    ),
  ],
)
```

```dart
Row(
  children: [
    Container(width: 80, color: Colors.orange),
    Expanded(
      child: Container(color: Colors.green), // è‡ªåŠ¨å¡«æ»¡å‰©ä½™
    ),
  ],
)
```

##### 19.1.5ã€<font id=Flexible>`Flexible`</font> <a href="#çº¿æ€§å¸ƒå±€" style="font-size:17px; color:green;"><b>â¬†ï¸</b></a>

| ç‰¹æ€§         | Expanded                   | Flexible                       |
| ------------ | -------------------------- | ------------------------------ |
| å¡«å……å‰©ä½™ç©ºé—´ | **å¿…é¡»å¡«å……ï¼ˆå¼ºåˆ¶æ‹‰ä¼¸ï¼‰**   | **å¯é€‰æ‹©æ˜¯å¦å¡«å……**             |
| `fit` å±æ€§   | å›ºå®šä¸º `tight`ï¼ˆå¡«æ»¡ç©ºé—´ï¼‰ | `loose`ï¼ˆå°½é‡å°ï¼‰æˆ– `tight`    |
| ä½¿ç”¨é¢‘ç‡     | æ›´é«˜                       | å¤šç”¨äºéœ€è¦çµæ´»ç¼©æ”¾ä½†ä¸å¼ºåˆ¶å¡«æ»¡ |

##### 19.1.6ã€<font id=Spacer>`Spacer`</font> <a href="#çº¿æ€§å¸ƒå±€" style="font-size:17px; color:green;"><b>â¬†ï¸</b></a>

> `Spacer` ç”¨æ¥å æ® **å¯ä¼¸ç¼©çš„ç©ºç™½åŒºåŸŸ**ï¼Œå¸¸ç”¨äºâ€œæŠŠä¸¤ä¸ªç»„ä»¶æ‹‰å¼€â€æˆ–â€œå‡åˆ†è·ç¦»â€ã€‚

```dart
Row(
  children: [
    Text('A'),
    Spacer(flex: 1),      // å 1ä»½
    Text('B'),
    Spacer(flex: 2),      // å 2ä»½
    Text('C'),
  ],
)
```

* <font id=SizedBox>`SizedBox`</font> <a href="#çº¿æ€§å¸ƒå±€" style="font-size:17px; color:green;"><b>â¬†ï¸</b></a>

  ```dart
  /// TODO
  ```

#### 19.2ã€<font id=å±‚å å¸ƒå±€>ğŸ§±</font> å±‚å å¸ƒå±€ï¼ˆç±»ä¼¼ iOS çš„ Frame å¸ƒå±€ + zIndexï¼‰ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| Widget                                                       | åŠŸèƒ½è¯´æ˜                                          |
| ------------------------------------------------------------ | ------------------------------------------------- |
| <a href="#Stack" style="font-size:17px; color:green;"><b>`Stack`</b></a> | å±‚å å¸ƒå±€ï¼ˆç±»ä¼¼ **iOS** çš„ `UIView` å åŠ ï¼‰         |
| <a href="#Positioned" style="font-size:17px; color:green;"><b>`Positioned`</b></a> | **`Stack`** å­å…ƒç´ å®šä½                            |
| <a href="#Align" style="font-size:17px; color:green;"><b>`Align`</b></a> | å­ç»„ä»¶å¯¹é½ï¼ˆç”¨äº **`Stack`**ã€æ™®é€š **`Widget`**ï¼‰ |
| <a href="#Center" style="font-size:17px; color:green;"><b>`Center`</b></a> | å­ç»„ä»¶å±…ä¸­                                        |

##### 19.2.1ã€<font id=Stack>`Stack`</font> <a href="#å±‚å å¸ƒå±€" style="font-size:17px; color:green;"><b>â¬†ï¸</b></a>

```dart
/// åœ¨ Flutter ä¸­ï¼ŒPositioned ä¸èƒ½ æ”¾åœ¨ Stack å¤–é¢ï¼Œå¿…é¡»ä½œä¸º Stack çš„ç›´æ¥å­ç»„ä»¶ã€‚è¿™æ˜¯å› ä¸º Positioned åªåœ¨ Stack å†…éƒ¨ç”Ÿæ•ˆï¼Œå®ƒçš„å¸ƒå±€è¡Œä¸ºä¾èµ–äºçˆ¶çº§æ˜¯ Stackã€‚
Stack(
  alignment: Alignment.center, // é»˜è®¤ topStart
  clipBehavior: Clip.none,     // é»˜è®¤è£å‰ªå¯è¶…å‡ºè¾¹ç•Œ
  children: [
    Container(width: 200, height: 200, color: Colors.red),
    Positioned(
      top: 20,
      left: 30,
      child: Container(width: 100, height: 100, color: Colors.green),
    ),
    Text('ä½äºä¸­é—´çš„æ–‡å­—'),
  ],
)
```

```dart
/// ä¸€ä¸ª æ©™è‰²çš„æ­£æ–¹å½¢ï¼ˆ200x200ï¼‰ åœ¨åº•éƒ¨ï¼›
/// ç„¶ååœ¨å®ƒçš„ å·¦ä¸Šè§’ï¼Œå†è¦†ç›–ä¸€ä¸ª è“è‰²åŠé€æ˜çš„æ­£æ–¹å½¢ï¼ˆ100x100ï¼‰ï¼›
Stack(
  children: [
    Container(width: 200, height: 200, color: Colors.orange),
    Container(width: 100, height: 100, color: Colors.blue.withOpacity(0.6)),
  ],
)
```

##### 19.2.2ã€<font id=Positioned>`Positioned`</font> <a href="#å±‚å å¸ƒå±€" style="font-size:17px; color:green;"><b>â¬†ï¸</b></a>

> ç²¾ç¡®åƒç´ ä½ç½®
>
> <font color=red>åªèƒ½ä¸ `Stack` æ­é…ï¼Œä¸èƒ½ä¸å…¶ä»–å®¹å™¨æ­é…</font>

##### 19.2.3ã€<font id=Align>`Align`</font> <a href="#å±‚å å¸ƒå±€" style="font-size:17px; color:green;"><b>â¬†ï¸</b></a>

> `Align` ç”¨æ¥åœ¨çˆ¶å®¹å™¨ä¸­å¯¹é½å­ç»„ä»¶çš„ä½ç½®ï¼Œæ”¯æŒå„ç§æ–¹å‘ï¼ˆä¸Šä¸‹å·¦å³ã€å±…ä¸­ç­‰ï¼‰

```dart
/// æŠŠæŒ‰é’®æ”¾åœ¨å³ä¸‹è§’
Container(
  width: 300,
  height: 300,
  color: Colors.grey,
  child: Align(
    alignment: Alignment.bottomRight,
    child: ElevatedButton(onPressed: () {}, child: Text('ç‚¹æˆ‘')),
  ),
)
```

```dart
/// è‡ªå®šä¹‰ä½ç½®
/// åœ¨ Flutter çš„ Alignment(x, y) ä¸­ï¼šï¼ˆx å’Œ y èŒƒå›´æ˜¯ -1.0 ~ 1.0ï¼‰
            y = -1.0
               â†‘
   (-1, -1)     |     (1, -1)
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚         â”‚         â”‚
      â”‚         â”‚         â”‚
x = -1â”‚         â”‚         â”‚x = 1
      â”‚         â”‚         â”‚
      â”‚         â”‚         â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   (-1, 1)      â†“     (1, 1)
            y = 1.0

ğŸ”¸Alignment(0, 0)ï¼šæ­£ä¸­é—´ï¼Œå±…ä¸­å¯¹é½
ğŸ”¸Alignment(1.0, 1.0)ï¼šå³ä¸‹è§’ï¼Œæœ€å¤§åç§»ï¼Œè´´åˆ°å³ä¸‹è§’
ğŸ”¸Alignment(-1.0, -1.0)ï¼šå·¦ä¸Šè§’ï¼Œæœ€å°åç§»ï¼Œè´´åˆ°å·¦ä¸Šè§’

Align(
  alignment: Alignment(0.8, -0.5), // ç›¸å¯¹äºçˆ¶è§†å›¾çš„åç§»æ¯”ä¾‹å€¼ï¼ˆä¸æ˜¯åƒç´ å€¼ï¼‰ï¼Œè¡¨ç¤ºå­ç»„ä»¶ç›¸å¯¹çˆ¶å®¹å™¨çš„ä½ç½®ï¼šå³ä¸Šåä¸‹ä¸€ç‚¹
  child: Icon(Icons.star, size: 40, color: Colors.orange),
)
```

##### 19.2.4ã€<font id=Align>`Center`</font> <a href="#å±‚å å¸ƒå±€" style="font-size:17px; color:green;"><b>â¬†ï¸</b></a>

> | å‚æ•°å         | ç±»å‹      | è¯´æ˜                                                         |
> | -------------- | --------- | ------------------------------------------------------------ |
> | `key`          | `Key?`    | æ ‡å‡† [**Flutter**](https://flutter.dev/) æ„é€ å‡½æ•°å‚æ•°ï¼Œç”¨äºæ ‡è¯† **`Widget`** |
> | `child`        | `Widget?` | è¦å±…ä¸­çš„å­ç»„ä»¶                                               |
> | `widthFactor`  | `double?` | è‹¥é nullï¼Œåˆ™ **Center** çš„å®½åº¦ = `child.width * widthFactor` |
> | `heightFactor` | `double?` | è‹¥é nullï¼Œåˆ™ **Center** çš„é«˜åº¦ = `child.height * heightFactor` |

```dart
import 'package:flutter/material.dart';
import 'package:jobs_flutter_base_config/JobsDemoTools/JobsFlutterTools/JobsRunners/JobsMaterialRunner.dart';

void main() =>
    runApp(const JobsMaterialRunner(CenterDemo(), title: 'Center å±æ€§æ¼”ç¤º'));

class MyApp extends StatelessWidget {
  const MyApp({super.key});

  @override
  Widget build(BuildContext context) {
    return const CenterDemo();
  }
}

class CenterDemo extends StatelessWidget {
  const CenterDemo({super.key});

  @override
  Widget build(BuildContext context) {
    return Container(
      color: Colors.grey[300],
      child: Center(
        widthFactor: 2.0, // å®½åº¦ä¸º child çš„ 2 å€
        heightFactor: 3.0, // é«˜åº¦ä¸º child çš„ 3 å€
        child: Container(
          color: Colors.blue,
          width: 80,
          height: 80,
          child: const Center(
            child: Text(
              'å±…ä¸­',
              style: TextStyle(color: Colors.white),
            ),
          ),
        ),
      ),
    );
  }
}
```

#### 19.3ã€<font id=çº¦æŸç±»å¸ƒå±€>ğŸ§±</font> çº¦æŸç±»å¸ƒå±€ï¼ˆæœ€æ¥è¿‘ [**Masonry**](https://github.com/SnapKit/Masonry) çš„æ€æƒ³ï¼‰ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| Widget                                                       | åŠŸèƒ½è¯´æ˜                 |
| ------------------------------------------------------------ | ------------------------ |
| <a href="#ConstrainedBox" style="font-size:17px; color:green;"><b>`ConstrainedBox`</b></a> | æ·»åŠ æœ€å°æœ€å¤§å°ºå¯¸çº¦æŸ     |
| <a href="#UnconstrainedBox" style="font-size:17px; color:green;"><b>`UnconstrainedBox`</b></a> | ç§»é™¤çˆ¶ç»„ä»¶çš„çº¦æŸ         |
| <a href="#SizedBox" style="font-size:17px; color:green;"><b>`SizedBox`</b></a> | å›ºå®šå®½é«˜å°ºå¯¸             |
| <a href="#FractionallySizedBox" style="font-size:17px; color:green;"><b>`FractionallySizedBox`</b></a> | æ ¹æ®çˆ¶å°ºå¯¸æŒ‰æ¯”ä¾‹è®¾ç½®å®½é«˜ |
| <a href="#AspectRatio" style="font-size:17px; color:green;"><b>`AspectRatio`</b></a> | æŒ‰å®½é«˜æ¯”è‡ªåŠ¨è°ƒæ•´å°ºå¯¸     |
| <a href="#LimitedBox" style="font-size:17px; color:green;"><b>`LimitedBox`</b></a> | è¶…å‡ºæœ€å¤§å°ºå¯¸æ—¶æ‰åº”ç”¨é™åˆ¶ |

##### 19.3.1ã€<font id=ConstrainedBox>`ConstrainedBox`</font> <a href="#çº¦æŸç±»å¸ƒå±€" style="font-size:17px; color:green;"><b>â¬†ï¸</b></a>

> ç”¨æ¥è®¾ç½®å­ç»„ä»¶çš„**æœ€å¤§/æœ€å°å®½é«˜é™åˆ¶**ï¼Œä¸ç®¡å­ç»„ä»¶æœ¬èº«å¤šå¤§ã€‚

```dart
ConstrainedBox(
  constraints: BoxConstraints(
    minWidth: 100,
    maxWidth: 200,
    minHeight: 50,
    maxHeight: 100,
  ),
  child: Container(width: 300, height: 30, color: Colors.red),
)
  
ğŸ“Œ ä¸Šé¢è¿™ä¸ªä¾‹å­é‡Œï¼Œå³ä½¿ Container è®¾ç½®äº† width: 300, height: 30ï¼Œä½† ConstrainedBox ä¼šå¼ºè¡Œè®©å®ƒï¼š
å®½åº¦ï¼šæœ€å¤§ä¸èƒ½è¶…è¿‡ 200
é«˜åº¦ï¼šæœ€å°ä¸èƒ½å°äº 50
ğŸ”š æœ€ç»ˆå®é™…å¤§å°æ˜¯ï¼š200 x 50
```

```dart
ConstrainedBox(
  constraints: BoxConstraints(minWidth: 60, minHeight: 60),
  child: ConstrainedBox(
    constraints: BoxConstraints(minWidth: 90, minHeight: 20),
    child: Container(width: 30, height: 10, color: Colors.green),
  ),
)

minWidth: å–ä¸¤ä¸ª minWidth ä¸­è¾ƒå¤§çš„ï¼š90
minHeight: å–ä¸¤ä¸ª minHeight ä¸­è¾ƒå¤§çš„ï¼š60
â¡ï¸ æœ€ç»ˆä¸ºï¼š90 x 60
```

##### 19.3.2ã€<font id=UnconstrainedBox>`UnconstrainedBox`</font> <a href="#çº¦æŸç±»å¸ƒå±€" style="font-size:17px; color:green;"><b>â¬†ï¸</b></a>

##### 19.3.3ã€<font id=SizedBox>`SizedBox`</font> <a href="#çº¦æŸç±»å¸ƒå±€" style="font-size:17px; color:green;"><b>â¬†ï¸</b></a>

##### 19.3.4ã€<font id=FractionallySizedBox>`FractionallySizedBox`</font> <a href="#çº¦æŸç±»å¸ƒå±€" style="font-size:17px; color:green;"><b>â¬†ï¸</b></a>

##### 19.3.5ã€<font id=AspectRatio>`AspectRatio`</font> <a href="#çº¦æŸç±»å¸ƒå±€" style="font-size:17px; color:green;"><b>â¬†ï¸</b></a>

##### 19.3.6ã€<font id=LimitedBox>`LimitedBox`</font> <a href="#çº¦æŸç±»å¸ƒå±€" style="font-size:17px; color:green;"><b>â¬†ï¸</b></a>

#### 19.4ã€<font id=è‡ªåŠ¨æ¢è¡Œ&æµå¼å¸ƒå±€>ğŸ§±</font> è‡ªåŠ¨æ¢è¡Œ&æµå¼å¸ƒå±€ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| Widget                                                       | åŠŸèƒ½è¯´æ˜                                     |
| ------------------------------------------------------------ | -------------------------------------------- |
| <a href="#Wrap" style="font-size:17px; color:green;"><b>`Wrap`</b></a> | è‡ªåŠ¨æ¢è¡Œå¸ƒå±€ï¼ˆç±»ä¼¼ **HTML** çš„ `flex-wrap`ï¼‰ |
| <a href="#Flow" style="font-size:17px; color:green;"><b>`Flow`</b></a> | é«˜çº§æµå¼å¸ƒå±€ï¼ˆéœ€æ‰‹åŠ¨å®ç° **delegate**ï¼‰      |

##### 19.4.1ã€<font id=Wrap>`Wrap`</font> <a href="#è‡ªåŠ¨æ¢è¡Œ&æµå¼å¸ƒå±€" style="font-size:17px; color:green;"><b>â¬†ï¸</b></a>

##### 19.4.2ã€<font id=Flow>`Flow`</font> <a href="#è‡ªåŠ¨æ¢è¡Œ&æµå¼å¸ƒå±€" style="font-size:17px; color:green;"><b>â¬†ï¸</b></a>

```dart
import 'package:flutter/material.dart';
import 'package:jobs_flutter_base_config/JobsDemoTools/JobsFlutterTools/JobsRunners/JobsMaterialRunner.dart';

void main() => runApp(const JobsMaterialRunner(FlowApp(), title: 'Flow ç¤ºä¾‹'));

class FlowApp extends StatelessWidget {
  const FlowApp({super.key});

  @override
  Widget build(BuildContext context) {
    return Center(
      child: Flow(
        delegate: MyFlowDelegate(),
        children: List.generate(10, (i) {
          return Container(
            width: 60,
            height: 40,
            color: Colors.primaries[i % Colors.primaries.length],
            alignment: Alignment.center,
            margin: const EdgeInsets.all(2),
            child: Text('$i', style: const TextStyle(color: Colors.white)),
          );
        }),
      ),
    );
  }
}

class MyFlowDelegate extends FlowDelegate {
  @override
  void paintChildren(FlowPaintingContext context) {
    double x = 0.0, y = 0.0;
    const spacing = 8.0;
    final maxWidth = context.size.width;

    for (int i = 0; i < context.childCount; i++) {
      final size = context.getChildSize(i)!;
      if (x + size.width > maxWidth) {
        x = 0;
        y += size.height + spacing;
      }
      context.paintChild(i, transform: Matrix4.translationValues(x, y, 0));
      x += size.width + spacing;
    }
  }

  @override
  Size getSize(BoxConstraints constraints) => Size(constraints.maxWidth, 200);

  @override
  bool shouldRepaint(covariant FlowDelegate oldDelegate) => false;
}
```

#### 19.5ã€<font id=è¡¨æ ¼&ç½‘æ ¼å¸ƒå±€>ğŸ§±</font> è¡¨æ ¼&ç½‘æ ¼å¸ƒå±€ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| Widget                                                       | åŠŸèƒ½è¯´æ˜               |
| ------------------------------------------------------------ | ---------------------- |
| <a href="#Table" style="font-size:17px; color:green;"><b>`Table`</b></a> | ç±»ä¼¼ HTML è¡¨æ ¼å¸ƒå±€     |
| <a href="#GridView" style="font-size:17px; color:green;"><b>`GridView`</b></a> | ç½‘æ ¼å¸ƒå±€ï¼ˆæ”¯æŒæ»šåŠ¨ï¼‰   |
| <a href="#SliverGrid" style="font-size:17px; color:green;"><b>`SliverGrid`</b></a> | æ»šåŠ¨æ€§èƒ½ä¼˜åŒ–çš„ç½‘æ ¼å¸ƒå±€ |

##### 19.5.1ã€<font id=Table>`Table`</font> <a href="#è¡¨æ ¼&ç½‘æ ¼å¸ƒå±€" style="font-size:17px; color:green;"><b>â¬†ï¸</b></a>

##### 19.5.2ã€<font id=GridView>`GridView`</font> <a href="#è¡¨æ ¼&ç½‘æ ¼å¸ƒå±€" style="font-size:17px; color:green;"><b>â¬†ï¸</b></a>

##### 19.5.3ã€<font id=SliverGrid>`SliverGrid`</font> <a href="#è¡¨æ ¼&ç½‘æ ¼å¸ƒå±€" style="font-size:17px; color:green;"><b>â¬†ï¸</b></a>

#### 19.6ã€<font id=è¾¹è·&å¡«å……&å¯¹é½>ğŸ§±</font> è¾¹è·&å¡«å……&å¯¹é½ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| Widget                                                       | åŠŸèƒ½è¯´æ˜                                                     |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| <a href="#Padding" style="font-size:17px; color:green;"><b>`Padding`</b></a> | æ·»åŠ å†…è¾¹è·                                                   |
| <a href="#Margin" style="font-size:17px; color:green;"><b>`Margin`</b></a> | âŒ æ— æ­¤ **`Widget`**ï¼Œå¯ç”¨ `Padding + Container` æ¨¡æ‹Ÿå¤–è¾¹è·   |
| <a href="#Container" style="font-size:17px; color:Red;"><b>`Container`</b></a> | å¯ç»„åˆè®¾ç½® `padding`, `margin`, `alignment`ã€‚<font color=red>**æ˜¯è£…é¥° + å¸ƒå±€ä¸€ä½“çš„`å®¹å™¨`**</font> |
| <a href="#Align" style="font-size:17px; color:green;"><b>`Align`</b></a> | è®¾ç½®å¯¹é½æ–¹å¼                                                 |
| <a href="#Center" style="font-size:17px; color:green;"><b>`Center`</b></a> | å­ç»„ä»¶å±…ä¸­                                                   |
| <a href="#Baseline" style="font-size:17px; color:green;"><b>`Baseline`</b></a> | æŒ‰åŸºçº¿å¯¹é½                                                   |
| <a href="#Baseline" style="font-size:17px; color:green;"><b>`Transform`</b></a> | ç”¨äºä»»ä½•**`Widget`**å¤–éƒ¨æ¥å®ç°ç›¸å¯¹åŸä½ç½®çš„åç§»               |

##### 19.6.1ã€<font id=Padding>`Padding`</font> <a href="#è¾¹è·&å¡«å……&å¯¹é½" style="font-size:17px; color:green;"><b>â¬†ï¸</b></a> 

##### 19.6.2ã€<font id=Margin>`Margin`</font> <a href="#è¾¹è·&å¡«å……&å¯¹é½" style="font-size:17px; color:green;"><b>â¬†ï¸</b></a>

##### 19.6.3ã€<font id=Container>`Container`</font> <a href="#è¾¹è·&å¡«å……&å¯¹é½" style="font-size:17px; color:green;"><b>â¬†ï¸</b></a>

##### 19.6.4ã€<font id=Align>`Align`</font> <a href="#è¾¹è·&å¡«å……&å¯¹é½" style="font-size:17px; color:green;"><b>â¬†ï¸</b></a>

##### 19.6.5ã€<font id=Center>`Center`</font> <a href="#è¾¹è·&å¡«å……&å¯¹é½" style="font-size:17px; color:green;"><b>â¬†ï¸</b></a>

##### 19.6.6ã€<font id=Baseline>`Baseline`</font> <a href="#è¾¹è·&å¡«å……&å¯¹é½" style="font-size:17px; color:green;"><b>â¬†ï¸</b></a>

##### 19.6.7ã€<font id=Baseline>`Transform`</font> <a href="#è¾¹è·&å¡«å……&å¯¹é½" style="font-size:17px; color:green;"><b>â¬†ï¸</b></a>

```dart
Transform.translate(
  offset: Offset(20, -10), // å‘å³ç§»åŠ¨ 20pxï¼Œå‘ä¸Šç§»åŠ¨ 10px
  child: Container(
    width: 100,
    height: 100,
    color: Colors.green,
  ),
)
```

| ç‰¹æ€§/è¡Œä¸º         | `Positioned`               | `Transform.translate`                  |
| ----------------- | -------------------------- | -------------------------------------- |
| å¿…é¡»åœ¨ `Stack` ä¸­ | âœ… æ˜¯                       | âŒ å¦                                   |
| å½±å“å¸ƒå±€ä½ç½®      | âœ… ä¼šæ”¹å˜å¸ƒå±€ï¼ˆçœŸæ­£â€œç§»åŠ¨â€ï¼‰ | âŒ ä»…è§†è§‰åç§»ï¼Œä¸å½±å“çˆ¶å¸ƒå±€çš„è®¡ç®—       |
| å¯ä»¥åŠ¨ç”»ä½¿ç”¨      | âŒ æ‰‹åŠ¨å®ç°åŠ¨ç”»             | âœ… å¯é…åˆåŠ¨ç”»æ§åˆ¶åç§»                   |
| é€‚ç”¨åœºæ™¯          | ç²¾ç¡®æ”¾ç½®å­ç»„ä»¶ä½ç½®         | è½»é‡ä½ç½®åç§»ã€åŠ¨ç”»æ»‘åŠ¨ã€è§†è§‰é”™ä½æ•ˆæœç­‰ |

#### 19.7ã€<font id=å¸ƒå±€è¾…åŠ©>ğŸ§±</font> å¸ƒå±€è¾…åŠ© <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| Widget                                                       | åŠŸèƒ½è¯´æ˜                   |
| ------------------------------------------------------------ | -------------------------- |
| <a href="#Offstage" style="font-size:17px; color:green;"><b>`Offstage`</b></a> | æ§åˆ¶æ˜¯å¦æ¸²æŸ“ä½†ä¿ç•™çŠ¶æ€     |
| <a href="#Visibility" style="font-size:17px; color:green;"><b>`Visibility`</b></a> | æ§åˆ¶æ˜¯å¦æ¸²æŸ“å¹¶å¯åŠ¨ç”»       |
| <a href="#LayoutBuilder" style="font-size:17px; color:green;"><b>`LayoutBuilder`</b></a> | å¯æ ¹æ®çˆ¶çº¦æŸåŠ¨æ€æ„å»ºå­ç»„ä»¶ |
| <a href="#CustomSingleChildLayout/CustomMultiChildLayout" style="font-size:17px; color:green;"><b>`CustomSingleChildLayout` / `CustomMultiChildLayout`</b></a> | é«˜çº§è‡ªå®šä¹‰å¸ƒå±€é€»è¾‘         |

##### 19.7.1ã€<font id=Offstage>`Offstage`</font> <a href="#å¸ƒå±€è¾…åŠ©" style="font-size:17px; color:green;"><b>â¬†ï¸</b></a>

```dart
/// TODO
```

##### 19.7.2ã€<font id=Visibility>`Visibility`</font> <a href="#å¸ƒå±€è¾…åŠ©" style="font-size:17px; color:green;"><b>â¬†ï¸</b></a>

```dart
/// TODO
```

##### 19.7.3ã€<font id=LayoutBuilder>`LayoutBuilder`</font> <a href="#å¸ƒå±€è¾…åŠ©" style="font-size:17px; color:green;"><b>â¬†ï¸</b></a>

```dart
/// TODO
```

##### 19.7.4ã€<font id=CustomSingleChildLayout/CustomMultiChildLayout>`CustomSingleChildLayout` / `CustomMultiChildLayout`</font> <a href="#å¸ƒå±€è¾…åŠ©" style="font-size:17px; color:green;"><b>â¬†ï¸</b></a>

* **`CustomSingleChildLayout`**

  > `CustomSingleChildLayout` æ˜¯ [**Flutter**](https://flutter.dev/) ä¸­ç”¨äºç²¾ç¡®æ§åˆ¶**å•ä¸ªå­ç»„ä»¶**å¸ƒå±€çš„ **`Widget`**ï¼Œå®ƒå’Œ `CustomMultiChildLayout` ç±»ä¼¼ï¼Œä½†ä»…ç”¨äº **ä¸€ä¸ªå­ç»„ä»¶**

  ```dart
  import 'package:flutter/material.dart';
  import 'package:jobs_flutter_base_config/JobsDemoTools/JobsFlutterTools/JobsRunners/JobsMaterialRunner.dart';
  
  void main() => runApp(const JobsMaterialRunner(CustomSingleLayoutApp(),
      title: 'ğŸ“ CustomSingleChildLayout ç¤ºä¾‹'));
  
  class CustomSingleLayoutApp extends StatelessWidget {
    const CustomSingleLayoutApp({super.key});
  
    @override
    Widget build(BuildContext context) {
      return Container(
        width: 300,
        height: 200,
        color: Colors.grey.shade300,
        child: CustomSingleChildLayout(
          delegate: MySingleChildDelegate(),
          child: Container(
            width: 100,
            height: 60,
            color: Colors.blue,
            alignment: Alignment.center,
            child: const Text('Hello', style: TextStyle(color: Colors.white)),
          ),
        ),
      );
    }
  }
  
  class MySingleChildDelegate extends SingleChildLayoutDelegate {
    @override
    Offset getPositionForChild(Size size, Size childSize) {
      // å­ç»„ä»¶æ”¾åœ¨åº•éƒ¨ä¸­é—´
      return Offset(
        (size.width - childSize.width) / 2,
        size.height - childSize.height,
      );
    }
  
    @override
    Size getSize(BoxConstraints constraints) => constraints.biggest;
  
    @override
    bool shouldRelayout(covariant SingleChildLayoutDelegate oldDelegate) => false;
  }
  ```

* **`CustomMultiChildLayout`**

  ```dart
  import 'package:flutter/material.dart';
  import 'package:jobs_flutter_base_config/JobsDemoTools/JobsFlutterTools/JobsRunners/JobsMaterialRunner.dart';
  
  void main() => runApp(const JobsMaterialRunner(CustomLayoutApp(),
      title: 'CustomMultiChildLayout ç¤ºä¾‹'));
  
  class CustomLayoutApp extends StatelessWidget {
    const CustomLayoutApp({super.key});
  
    @override
    Widget build(BuildContext context) {
      return Center(
        child: CustomMultiChildLayout(
          delegate: MyCustomLayoutDelegate(),
          children: [
            LayoutId(
              id: 'topLeft',
              child: box(Colors.red, 'å·¦ä¸Š'),
            ),
            LayoutId(
              id: 'topRight',
              child: box(Colors.green, 'å³ä¸Š'),
            ),
            LayoutId(
              id: 'bottomCenter',
              child: box(Colors.blue, 'ä¸‹ä¸­'),
            ),
          ],
        ),
      );
    }
  
    static Widget box(Color color, String label) {
      return Container(
        width: 80,
        height: 50,
        color: color,
        alignment: Alignment.center,
        child: Text(label, style: const TextStyle(color: Colors.white)),
      );
    }
  }
  
  /// å…·ä½“çš„å¸ƒå±€é€»è¾‘
  class MyCustomLayoutDelegate extends MultiChildLayoutDelegate {
    @override
    void performLayout(Size size) {
      if (hasChild('topLeft')) {
        layoutChild(
            'topLeft', const BoxConstraints.tightFor(width: 80, height: 50));
        positionChild('topLeft', const Offset(0, 0));
      }
  
      if (hasChild('topRight')) {
        layoutChild(
            'topRight', const BoxConstraints.tightFor(width: 80, height: 50));
        positionChild('topRight', Offset(size.width - 80, 0));
      }
  
      if (hasChild('bottomCenter')) {
        layoutChild('bottomCenter',
            const BoxConstraints.tightFor(width: 100, height: 60));
        positionChild(
            'bottomCenter', Offset((size.width - 100) / 2, size.height - 60));
      }
    }
  
    @override
    bool shouldRelayout(covariant MultiChildLayoutDelegate oldDelegate) => false;
  }
  ```

### 20ã€âœ… [**Flutter**](https://flutter.dev/)ä¸­ï¼Œå®ç°ç›¸å¯¹ä½ç½®å¸ƒå±€çš„å‡ ç§æ–¹å¼ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

#### 20.1ã€ä½¿ç”¨ `Column` / `Row`ï¼ˆçº¿æ€§æ’åˆ— + é—´è·æ§åˆ¶ï¼‰ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

<details>
<summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

```dart
Column(
  children: [
    Text('æˆ‘æ˜¯é”šç‚¹'),
    SizedBox(height: 10),
    Text('æˆ‘åœ¨é”šç‚¹ä¸‹é¢ 10'),
  ],
);
```
</details>

#### 20.2ã€ä½¿ç”¨ `Stack + Positioned`ï¼ˆç»å¯¹é”šç‚¹å¼ï¼‰ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

<details>
<summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

```dart
Stack(
  children: [
    Positioned(
      top: 100,
      left: 50,
      child: Text('é”šç‚¹ A'),
    ),
    Positioned(
      top: 150, // ç›¸å¯¹ Y è½´åç§»
      left: 50,
      child: Text('é”šç‚¹ A ä¸‹é¢ 50'),
    ),
  ],
);
```
</details>

#### 20.3ã€ä½¿ç”¨ `Align` + `FractionalOffset`  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> âœ… é€‚åˆç›¸å¯¹çˆ¶ç»„ä»¶çš„å¯¹é½å¸ƒå±€ã€‚ç›¸å¯¹â€œå®¹å™¨â€å¯¹é½ï¼Œä½†ä¸èƒ½é”šå®šæŸä¸ªå…„å¼Ÿæ§ä»¶

<details>
<summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

```dart
Align(
  alignment: Alignment.bottomRight,
  child: Text("å³ä¸‹è§’é”šç‚¹"),
);
```
</details>

#### 20.4ã€ä½¿ç”¨ `CustomMultiChildLayout` å®ç°é”šå®šå…„å¼Ÿ **`Widget`**  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> [**Flutter**](https://flutter.dev/) çš„é«˜çº§å¸ƒå±€ **`Widget`**ï¼Œæ”¯æŒ**é€šè¿‡ key é”šå®šæŸä¸ªå­`Widget` çš„ä½ç½®æ¥æ”¾ç½®å¦ä¸€ä¸ªå­ Widget**

<details>
<summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

```dart
CustomMultiChildLayout(
  delegate: _AnchorLayoutDelegate(),
  children: [
    LayoutId(id: 'anchor', child: Text('é”šç‚¹')),
    LayoutId(id: 'follower', child: Text('é”šç‚¹ä¸‹æ–¹')),
  ],
);

class _AnchorLayoutDelegate extends MultiChildLayoutDelegate {
  @override
  void performLayout(Size size) {
    Size anchorSize = layoutChild('anchor', BoxConstraints.loose(size));
    positionChild('anchor', Offset(0, 0));

    Size followerSize = layoutChild('follower', BoxConstraints.loose(size));
    positionChild('follower', Offset(0, anchorSize.height + 10));
  }

  @override
  bool shouldRelayout(MultiChildLayoutDelegate oldDelegate) => false;
}
```
</details>

### 21ã€ğŸ[**Flutter**](https://flutter.dev/)ä¸­ï¼Œæ¶‰åŠåˆ°è£…é¥°ç›¸å…³çš„**`Widget`**  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> ğŸ”¹ è£…é¥°ç±»ï¼š**çœ‹å¾—è§çš„ç¾åŒ–**ï¼ˆé¢œè‰²ã€è¾¹æ¡†ã€é˜´å½±ã€è£å‰ª...ï¼‰

#### 21.1ã€ğŸè£…é¥°å®¹å™¨ç»„ä»¶ï¼ˆå…·å¤‡å¸ƒå±€å’Œè£…é¥°èƒ½åŠ›ï¼‰ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| Widget / ç±»å            | ç±»å‹     | åŠŸèƒ½è¯´æ˜                                                     |
| ------------------------ | -------- | ------------------------------------------------------------ |
| `Container`              | `Widget` | âœ… æœ€å¸¸ç”¨çš„å®¹å™¨+è£…é¥°ç»„åˆï¼Œæ”¯æŒ `decoration`                   |
| `DecoratedBox`           | `Widget` | çº¯è£…é¥°å®¹å™¨ï¼Œç±»ä¼¼ `Container` çš„ `decoration` éƒ¨åˆ†<br><font color=red>å•ç‹¬æä¾› `BoxDecoration`</font> |
| `DecoratedBoxTransition` | `Widget` | æ”¯æŒåŠ¨ç”»å˜åŒ–çš„è£…é¥°å®¹å™¨                                       |
| `Material`               | `Widget` | **Material** é£æ ¼å®¹å™¨ï¼Œå¯è®¾ç½®é˜´å½±ã€åœ†è§’ã€é¢œè‰²ç­‰              |
| `Ink`                    | `Widget` | ä¸ `InkWell` é…åˆå®ç°æ°´æ³¢çº¹èƒŒæ™¯ã€åœ†è§’ã€è£…é¥°è‰²ç­‰              |

#### 21.2ã€ğŸè£…é¥°æ„å»ºç±»ï¼ˆ**`Decoration`** ä½“ç³»ï¼‰ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| ç±»å                    | ç±»å‹                      | åŠŸèƒ½è¯´æ˜                                               |
| ----------------------- | ------------------------- | ------------------------------------------------------ |
| `Decoration`            | æŠ½è±¡ç±»                    | [**Flutter**](https://flutter.dev/) è£…é¥°ä½“ç³»æ ¸å¿ƒæŠ½è±¡ç±» |
| `BoxDecoration`         | **`Decoration`**          | âœ… æœ€å¸¸ç”¨çš„è£…é¥°ç±»ï¼ˆèƒŒæ™¯è‰²ã€è¾¹æ¡†ã€åœ†è§’ã€é˜´å½±ï¼‰           |
| `ShapeDecoration`       | **`Decoration`**          | æ”¯æŒå¤æ‚å½¢çŠ¶çš„è£…é¥°ï¼ˆå¦‚ `StadiumBorder`ï¼‰               |
| `UnderlineTabIndicator` | **`Decoration`**          | TabBar ä¸‹åˆ’çº¿è£…é¥°                                      |
| `InputDecoration`       | ç±»ï¼ˆé **`Decoration`**ï¼‰ | TextField è¾“å…¥æ¡†æ ·å¼ç»“æ„ï¼Œå­—æ®µåç›¸ä¼¼ä½†ç‹¬ç«‹ä½“ç³»         |

#### 21.3ã€ğŸè£…é¥°å‚æ•° / åä½œç±»ï¼ˆ**`Decoration`** æ„æˆå…ƒç´ ï¼‰<a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| ç±»å                   | ç±»å‹                           | åŠŸèƒ½è¯´æ˜                         |
| ---------------------- | ------------------------------ | -------------------------------- |
| `DecorationImage`      | ç±»                             | âœ… è®¾ç½®èƒŒæ™¯å›¾çš„æ ·å¼ã€å¯¹é½ã€ç¼©æ”¾ç­‰ |
| `Gradient`             | æŠ½è±¡ç±»                         | æ¸å˜åŸºç±»                         |
| â”œâ”€ `LinearGradient`    | Gradient                       | çº¿æ€§æ¸å˜                         |
| â”œâ”€ `RadialGradient`    | Gradient                       | æ”¾å°„çŠ¶æ¸å˜                       |
| â””â”€ `SweepGradient`     | Gradient                       | æ‰«ææ—‹è½¬æ¸å˜                     |
| `BoxShadow`            | ç±»ï¼ˆextends `ui.Shadow`ï¼‰      | âœ… é˜´å½±é…ç½®ç±»                     |
| `BoxShape`             | æšä¸¾                           | âœ… è®¾ç½®çŸ©å½¢/åœ†å½¢å®¹å™¨å½¢çŠ¶          |
| `Border`               | extends `BoxBorder`            | âœ… è®¾ç½®è¾¹æ¡†                       |
| `BoxBorder`            | æŠ½è±¡ç±»                         | è¾¹æ¡†æŠ½è±¡ç±»                       |
| `BorderSide`           | ç±»                             | å•è¾¹è¾¹æ¡†                         |
| `BorderRadius`         | extends `BorderRadiusGeometry` | âœ… åœ†è§’é…ç½®ç±»                     |
| `BorderRadiusGeometry` | æŠ½è±¡ç±»                         | åœ†è§’æŠ½è±¡çˆ¶ç±»                     |
| `BlendMode`            | æšä¸¾                           | å›¾åƒæ··åˆæ¨¡å¼ï¼ˆä¸ `color` è”ç”¨ï¼‰  |
| `FilterQuality`        | æšä¸¾                           | å›¾ç‰‡ç¼©æ”¾è´¨é‡é€‰é¡¹                 |

#### 21.4ã€ğŸè§†è§‰å¢å¼ºç±»ï¼ˆé **`Decoration`**ï¼Œä½†å¸¸ç”¨äºè£…é¥°ï¼‰<a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| `Widget` / ç±»å   | ç±»å‹     | åŠŸèƒ½è¯´æ˜                             |
| ----------------- | -------- | ------------------------------------ |
| `ClipRRect`       | `Widget` | âœ… è£å‰ªåœ†è§’çŸ©å½¢                       |
| `ClipOval`        | `Widget` | è£å‰ªä¸ºæ¤­åœ†                           |
| `ClipPath`        | `Widget` | è£å‰ªä¸ºä»»æ„è·¯å¾„å½¢çŠ¶                   |
| `ClipRect`        | `Widget` | è£å‰ªä¸ºçŸ©å½¢ï¼ˆåŸºäºå­ç»„ä»¶å°ºå¯¸ï¼‰         |
| `Opacity`         | `Widget` | æ§åˆ¶é€æ˜åº¦                           |
| `BackdropFilter`  | `Widget` | âœ… æ¯›ç»ç’ƒæ¨¡ç³Šæ•ˆæœ                     |
| `ShaderMask`      | `Widget` | ä½¿ç”¨ç€è‰²å™¨ï¼ˆæ¸å˜é®ç½©ï¼‰               |
| `ColorFiltered`   | `Widget` | å¯¹å­ç»„ä»¶é¢œè‰²è¿›è¡Œæ»¤é•œå¤„ç†             |
| `CustomPaint`     | `Widget` | è‡ªå®šä¹‰ç»˜åˆ¶ï¼ˆç»˜å›¾ï¼‰                   |
| `RepaintBoundary` | `Widget` | æ€§èƒ½ä¼˜åŒ–ï¼šé˜»æ–­é‡ç»˜åŒºåŸŸï¼ˆä¸å…·è£…é¥°æ€§ï¼‰ |

### 22ã€å…¶ä»–**`Widget`** åˆ†ç±» <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

#### 22.1ã€â™»ï¸ äº¤äº’ç±»  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> æä¾›ç”¨æˆ·è¾“å…¥ã€ç‚¹å‡»ã€æ‹–æ‹½ã€æ‰‹åŠ¿ç­‰åŠŸèƒ½

| ç±»å‹        | å¸¸è§ `Widget`                                  |
| ----------- | ---------------------------------------------- |
| æŒ‰é’®ç±»      | `ElevatedButton`, `TextButton`, `IconButton`   |
| è¾“å…¥ç±»      | `TextField`, `Form`, `DropdownButton`          |
| æ»‘åŠ¨/æ‹–åŠ¨ç±» | `Slider`, `Switch`, `Draggable`, `Dismissible` |
| æ‰‹åŠ¿ç±»      | `GestureDetector`, `InkWell`                   |

#### 22.2ã€ğŸ§­ å¯¼èˆª & è·¯ç”±ç±» <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> ç”¨äºæ„å»ºé¡µé¢è·³è½¬ã€Tab åˆ‡æ¢ç­‰

| ç±»å‹     | å¸¸è§ `Widget`                                 |
| -------- | --------------------------------------------- |
| è·¯ç”±ç›¸å…³ | `Navigator`, `PageView`, `MaterialPageRoute`  |
| Tab åˆ‡æ¢ | `TabBar`, `TabBarView`, `BottomNavigationBar` |

#### 22.3ã€ğŸª“ åŠŸèƒ½æ§åˆ¶ç±» <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> ç”¨äºç”Ÿå‘½å‘¨æœŸæ§åˆ¶ã€å¯è§æ€§ã€æ„å»ºé€»è¾‘ç­‰

| ç±»å‹         | å¸¸è§ `Widget`                                   |
| ------------ | ----------------------------------------------- |
| ç”Ÿå‘½å‘¨æœŸç›¸å…³ | `StatefulBuilder`, `Builder`                    |
| æ˜¾éšæ§åˆ¶     | `Visibility`, `Offstage`, `Opacity`             |
| å ä½/å»¶è¿Ÿ    | `FutureBuilder`, `StreamBuilder`, `Placeholder` |

#### 22.4ã€ğŸ–¥ï¸ å†…å®¹å±•ç¤ºç±»  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> ç”¨æ¥å‘ˆç°ç”¨æˆ·å¯è§çš„å†…å®¹ï¼šæ–‡å­—ã€å›¾ç‰‡ã€å›¾æ ‡ã€è§†é¢‘ç­‰

| ç±»å‹     | å¸¸è§ `Widget`                                |
| -------- | -------------------------------------------- |
| æ–‡æœ¬ç±»   | `Text`, `RichText`, `SelectableText`         |
| å›¾ç‰‡ç±»   | `Image`, `FadeInImage`, `CachedNetworkImage` |
| å›¾æ ‡ç±»   | `Icon`, `IconButton`                         |
| å…¶ä»–åª’ä½“ | `VideoPlayer`, `Canvas`, `CustomPaint`       |

#### 22.5ã€ğŸª£ å®¹å™¨ç±»  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

>  ç”¨æ¥åŒ…è£¹å†…å®¹å¹¶æä¾› **æ ·å¼ã€è£…é¥°ã€è¾¹æ¡†ã€èƒŒæ™¯ã€é˜´å½±**

| å¸¸è§ä¾‹å­        | åŠŸèƒ½                                   |
| --------------- | -------------------------------------- |
| `Container`     | æœ€ä¸‡èƒ½çš„å®¹å™¨ï¼ˆæ”¯æŒè£…é¥°ã€çº¦æŸã€å¯¹é½ï¼‰   |
| `Card`          | å¸¦åœ†è§’ã€é˜´å½±çš„å®¹å™¨                     |
| `DecoratedBox`  | å•ç‹¬æä¾› `BoxDecoration`               |
| `PhysicalModel` | æ§åˆ¶é˜´å½±ã€æŠ—é”¯é½¿ã€é€æ˜ç­‰åº•å±‚è§†è§‰æ•ˆæœ   |
| `Material`      | å®ç° **material** æ•ˆæœï¼ˆé…åˆ **Ink**ï¼‰ |

### 23ã€Dart.[**Flutter**](https://flutter.dev/)è®¿é—®ï¼šğŸ–¼ï¸ç›¸å†Œã€ğŸ“¹æ‘„åƒå¤´ã€ğŸ¤éº¦å…‹é£ç­‰ç³»ç»Ÿçº§åŠŸèƒ½ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> <font color=red>**åŠä¸åˆ°**</font>ã€‚**å¿…é¡»ä¾èµ–åŸç”Ÿå¹³å°èƒ½åŠ›ï¼ˆå¦‚ Android çš„ Java/Kotlinã€iOS çš„ Objective-C/Swiftï¼‰**ï¼Œå› æ­¤è¿™ç±»åŠŸèƒ½åœ¨ Dart å±‚éƒ½éœ€è¦é€šè¿‡ **Platform Channel æˆ–æ’ä»¶** å®ç°ã€‚
>
> Dart æœ¬èº«æ˜¯è¿è¡Œåœ¨ **Flutter å¼•æ“ä¹‹ä¸Šï¼ˆFlutter Engineï¼‰** çš„è¯­è¨€ï¼Œå®ƒè¿è¡Œåœ¨ä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒä¸­ï¼Œä¸èƒ½ç›´æ¥è®¿é—®ï¼š
>
> - ç›¸å†Œï¼ˆPhoto Galleryï¼‰
> - æ‘„åƒå¤´ï¼ˆCameraï¼‰
> - éº¦å…‹é£ï¼ˆMicrophoneï¼‰
> - è“ç‰™ã€NFC
> - æ–‡ä»¶ç³»ç»Ÿï¼ˆç‰¹æŒ‡ Android/iOS çš„ç§æœ‰è·¯å¾„ï¼‰
> - ç”µæ± ã€ä¼ æ„Ÿå™¨ã€GPS ç­‰
>
> è¿™äº›éƒ½éœ€è¦å¹³å°ï¼ˆAndroid/iOSï¼‰çš„ **åŸç”Ÿ API æä¾›æ”¯æŒ**ã€‚

### 24ã€ğŸ‘‚ç›‘å¬ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

#### 24.1ã€ğŸ‘‚è·¯ç”±çš„ç›‘å¬ï¼š`NavigatorObserver` <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> 1ï¸âƒ£ `class RouteObserver<R extends Route<dynamic>> extends NavigatorObserver `
>
> 2ï¸âƒ£ ç”¨äºç›‘å¬é¡µé¢ pushã€popã€removeã€replace ç­‰ **è·¯ç”±äº‹ä»¶**çš„ç±»
>
> 3ï¸âƒ£ `RouteObserver` æ˜¯`NavigatorObserver`çš„å”¯ä¸€å®˜æ–¹å­ç±»

<details>
<summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

```dart
import 'package:flutter/material.dart';
import 'package:flutter_plugin_engagelab/flutter_plugin_engagelab.dart';

class AppNavigatorObserver extends RouteObserver<PageRoute<dynamic>> {
  @override
  void didPop(Route route, Route? previousRoute) {
    super.didPop(route, previousRoute);
    // ç›‘å¬è¿”å›äº‹ä»¶
    if (route.settings.name != null && route.settings.name!.isNotEmpty) {
      FlutterPluginEngagelab.printMy("é¡µé¢è¿”å›äº†: ${route.settings.name}");
    }
  }
}
```
```dart
final AppNavigatorObserver appNavigatorObserver = AppNavigatorObserver();

builder: (context, child) {
          return GetMaterialApp(
            debugShowCheckedModeBanner: false,
            title: 'æ¾³é—¨æ–°è‘¡äº¬',
            navigatorObservers: [appNavigatorObserver],
            localizationsDelegates: const [
              GlobalMaterialLocalizations.delegate,
              GlobalWidgetsLocalizations.delegate,
              GlobalCupertinoLocalizations.delegate,
            ],
            // supportedLocales: supportedLocales,
            // initialRoute: AppPages.INITIAL,
            // initialBinding: MainBindings(),
            // getPages: AppPages.routes,
            // builder: EasyLoading.init(),
            // translations: AppTranslations(),
            locale: Locale(currentLanguage),
            fallbackLocale: const Locale("en"),
          );
        }
```

</details>

#### 24.2ã€ğŸ‘‚APP ç”Ÿå‘½å‘¨æœŸçš„ç›‘å¬ï¼š`WidgetsBindingObserver` <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> ä¸»è¦é€šè¿‡å®ç° `WidgetsBindingObserver` æ¥å£æ¥å®Œæˆ

* App å‰åå°åˆ‡æ¢ï¼ˆå¦‚ iOS çš„ `applicationDidEnterBackground` / `applicationDidBecomeActive`ï¼‰
* å±å¹•å°ºå¯¸å˜åŒ–ï¼ˆå¦‚æ—‹è½¬ï¼‰
* è¯­è¨€åˆ‡æ¢
* å†…å­˜å‹åŠ›è­¦å‘Šç­‰

#### 24.3ã€ğŸ‘‚æ»šåŠ¨çš„ç›‘å¬ï¼ˆæœªå®Œå¾…ç»­ï¼‰ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

#### 24.4ã€ğŸ‘‚æ•°æ®å˜åŒ–é€šçŸ¥çš„ç›‘å¬ï¼ˆæœªå®Œå¾…ç»­ï¼‰ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

#### 24.5ã€ğŸ‘‚é”®ç›˜ï¼ˆå¼¹èµ·/è½ä¸‹ï¼‰çš„ç›‘å¬ï¼ˆæœªå®Œå¾…ç»­ï¼‰ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

#### 24.6ã€ğŸ‘‚ç½‘ç»œçš„ç›‘å¬ï¼ˆæœªå®Œå¾…ç»­ï¼‰ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

### 25ã€å¯Œæ–‡æœ¬ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

#### 25.1ã€ğŸ **iOS** ğŸ†š ğŸ¦ [**Flutter**](https://flutter.dev/)

* ğŸ iOS çš„å¯Œæ–‡æœ¬èƒ½åŠ›ï¼ˆ`NSAttributedString`ï¼‰ï¼Œå‡ ä¹æ— æ‰€ä¸èƒ½

* ğŸ¦ [**Flutter**](https://flutter.dev/) çš„ç—›ç‚¹

  | é—®é¢˜ç‚¹                       | åŸå›                                                          |
  | ---------------------------- | ------------------------------------------------------------ |
  | âŒ æ²¡æœ‰ç»Ÿä¸€çš„å¯Œæ–‡æœ¬å¯¹è±¡       | æ²¡æœ‰ç±»ä¼¼ `NSAttributedString` çš„å®˜æ–¹ç»“æ„ï¼Œ[**Flutter**](https://flutter.dev/) ç”¨ `TextSpan` æ¥æ‰‹åŠ¨æ„å»º |
  | âŒ `Text` åªèƒ½æ˜¾ç¤ºç®€å•æ ·å¼    | å¤æ‚æ ·å¼éœ€ `RichText` + `TextSpan`                           |
  | âŒ æ²¡æœ‰åŸç”Ÿç‚¹å‡»è¡Œä¸º           | ç‚¹å‡»è¡Œä¸ºå¿…é¡»æ‰‹åŠ¨å®ç° `GestureRecognizer`                     |
  | âŒ å›¾ç‰‡/**WidgetSpan** å…¼å®¹å·® | ä¸èƒ½å¾ˆå¥½åœ°ä¸æ–‡å­—æ··æ’ï¼Œæº¢å‡ºç­‰é—®é¢˜                             |
  | âŒ æ²¡æœ‰å¯Œæ–‡æœ¬è¾“å…¥æ§ä»¶         | iOS **UITextView** è‡ªå¸¦ï¼Œ[**Flutter**](https://flutter.dev/) éœ€è¦ç”¨ç¬¬ä¸‰æ–¹ |

#### 25.2ã€ğŸ§  ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿ

[**Flutter**](https://flutter.dev/) æ˜¯è·¨å¹³å°æ¡†æ¶ï¼Œå®ƒçš„æ ¸å¿ƒè®¾è®¡ç†å¿µæ˜¯â€œè‡ªå·±ç”» UIï¼ˆ**Skia**ï¼‰â€ï¼Œæ‰€æœ‰æ–‡æœ¬æ¸²æŸ“éƒ½æ˜¯**è‡ªç»˜**ï¼š

- **iOSï¼ˆåŸç”Ÿï¼‰**ï¼šå¯Œæ–‡æœ¬ç”±æ“ä½œç³»ç»Ÿæä¾›æ”¯æŒï¼ˆ**UIKit** + **CoreText** + **WebKit**ï¼‰
- [**Flutter**](https://flutter.dev/)ï¼šå¿…é¡»ç”¨ **Dart** æè¿° => **Skia** ç»˜åˆ¶ => æ‰‹åŠ¨ç®¡ç†é€»è¾‘

æ‰€ä»¥ï¼Œ[**Flutter**](https://flutter.dev/) æ²¡åŠæ³•åƒ iOS é‚£æ ·â€œä¸€è¡Œä»£ç å…¨æå®šâ€ã€‚

### 26ã€Tabåˆ‡æ¢ï¼š**`IndexedStack`**  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>


<details>
<summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

```dart
class HomePage extends StatefulWidget {
  const HomePage({super.key});
  @override
  State<HomePage> createState() => _HomePageState();
}

class _HomePageState extends State<HomePage> {
  int _currentIndex = 0;

  final List<Widget> _pages = const [
    PageA(),
    PageB(),
    PageC(),
  ];

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: IndexedStack(
        index: _currentIndex, // å½“å‰é€‰ä¸­é¡¹
        children: _pages,
      ),
      bottomNavigationBar: BottomNavigationBar(
        currentIndex: _currentIndex,
        onTap: (i) => setState(() => _currentIndex = i),
        items: const [
          BottomNavigationBarItem(icon: Icon(Icons.home), label: 'A'),
          BottomNavigationBarItem(icon: Icon(Icons.business), label: 'B'),
          BottomNavigationBarItem(icon: Icon(Icons.school), label: 'C'),
        ],
      ),
    );
  }
}
```
```dart
IndexedStack(
  index: 1, // æ˜¾ç¤ºç¬¬å‡ ä¸ªå­ç»„ä»¶ï¼ˆä» 0 å¼€å§‹ï¼‰
  children: [
    WidgetA(),
    WidgetB(),
    WidgetC(),
  ],
)
```

```dart
/// GetX + IndexedStack
Obx(() => IndexedStack(
  index: tabCtrl.currentIndex.value,
  children: [
    PageA(),
    PageB(),
    PageC(),
  ],
))
```

> åªä¼š**æ˜¾ç¤º index å¯¹åº”çš„å­ç»„ä»¶**

å…¶ä»–å­ç»„ä»¶ä»ç„¶ **åœ¨å†…å­˜ä¸­ä¿æŒçŠ¶æ€ï¼Œä¸ä¼š rebuild**

</details>

### 27ã€çŠ¶æ€ç®¡ç†å·¥å…·  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

#### 27.1ã€[**`Provider`**](https://pub.dev/packages/provider)  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

by [**RÃ©mi Rousselet**](https://github.com/rrousselGit)

> 1ï¸âƒ£ [**`Provider`**](https://pub.dev/packages/provider) æ˜¯ [**Flutter**](https://flutter.dev/) ä¸­ç”¨äº**ç®¡ç†å’Œå…±äº«çŠ¶æ€ï¼ˆæ•°æ®ï¼‰**çš„å·¥å…·ï¼Œå¯ä»¥ **åœ¨æ•´ä¸ª `widget` æ ‘ä¸­æ–¹ä¾¿ã€å®‰å…¨åœ°ä¼ é€’æ•°æ®å’ŒçŠ¶æ€**ï¼Œå¹¶åœ¨æ•°æ®å˜åŒ–æ—¶è‡ªåŠ¨æ›´æ–° UIã€‚
>
> 2ï¸âƒ£ æœ¬è´¨ä¸Šæ˜¯å¯¹ [**Flutter**](https://flutter.dev/) åŸç”Ÿçš„ <a href="#InheritedWidget" style="font-size:17px; color:green;"><b>InheritedWidget</b></a> å’Œ `ChangeNotifier` çš„å°è£…ï¼Œè®©çŠ¶æ€å…±äº«å˜å¾—æ›´å®¹æ˜“ã€æ›´å¼ºå¤§ã€‚
>
> 3ï¸âƒ£ æ˜¯ [**Google**](https://www.google.com/) å®˜æ–¹æ¨èçš„ [**Flutter**](https://flutter.dev/) çŠ¶æ€ç®¡ç†æ–¹å¼ã€‚

| ç»„ä»¶å                   | ä½œç”¨è¯´æ˜                                               |
| ------------------------ | ------------------------------------------------------ |
| `ChangeNotifier`         | ä¸€ä¸ªå¸¦ç›‘å¬èƒ½åŠ›çš„æ•°æ®æ¨¡å‹                               |
| `ChangeNotifierProvider` | æŠŠæ¨¡å‹æ”¾è¿› **`widget`** æ ‘é‡Œå…±äº«                       |
| `Consumer`               | ç”¨äºè¯»å–å¹¶å“åº”æ•°æ®å˜åŒ–çš„ **`widget`**                  |
| `context.watch()`        | ç›‘å¬æ•°æ®å¹¶è‡ªåŠ¨ **rebuild**ï¼ˆå’Œ **Consumer** æ•ˆæœç±»ä¼¼ï¼‰ |
| `context.read()`         | åªè¯»å–ä¸€æ¬¡ï¼Œä¸ç›‘å¬                                     |
| `context.select()`       | ç²¾å‡†ç›‘å¬æŸä¸ªå­—æ®µ                                       |

* ğŸ§© å’Œ [**`GetX`**](https://pub.dev/packages/get)  åŒºåˆ«ç®€è¦å¯¹æ¯”

  | é¡¹ç›®       | [**`Provider`**](https://pub.dev/packages/provider) | [**`GetX`**](https://pub.dev/packages/get) |
  | ---------- | --------------------------------------------------- | ------------------------------------------ |
  | å­¦ä¹ æ›²çº¿   | ç®€å•ï¼Œæ¨èåˆå­¦è€…                                    | æ›´çµæ´»ä½†ç•¥å¤æ‚                             |
  | UIåˆ·æ–°æ§åˆ¶ | ç²¾å‡†ï¼ŒåŸºäº `notifyListeners`                        | è‡ªåŠ¨ï¼ŒåŸºäº `Obx`ã€`.obs`                   |
  | æ¶æ„è§£è€¦   | æ˜ç¡®ï¼Œé¼“åŠ±åˆ†å±‚                                      | çµæ´»ï¼Œä¸å¼ºåˆ¶                               |
  | ä¾èµ–æ³¨å…¥   | æ‰‹åŠ¨æ³¨å†Œ                                            | è‡ªåŠ¨æ³¨å†Œæˆ–æ‡’åŠ è½½æ›´æ–¹ä¾¿                     |

* ğŸ§  [**`Provider`**](https://pub.dev/packages/provider) çš„ä¸‰ç§ä½¿ç”¨æ–¹å¼å¯¹æ¯”

  | ç”¨æ³•                     | æ˜¯å¦ç›‘å¬å˜åŒ– | ç”¨é€”                           |
  | ------------------------ | ------------ | ------------------------------ |
  | `context.read<T>()`      | âŒ å¦         | ç”¨æ¥è°ƒç”¨æ–¹æ³•ã€åªè¯»ä¸€æ¬¡         |
  | `context.watch<T>()`     | âœ… æ˜¯         | ç”¨æ¥åˆ·æ–° UIï¼Œç›‘å¬æ•´ä¸ªæ¨¡å‹      |
  | `context.select<T, R>()` | âœ… ç²¾å‡†ç›‘å¬   | ç”¨æ¥åªç›‘å¬æ¨¡å‹ä¸­çš„æŸä¸ªå­—æ®µå˜åŒ– |

* **`notifyListeners()`**ï¼š**ä¸æ˜¯å…¨å±€é€šçŸ¥**ï¼Œè€Œæ˜¯**å¯¹æ³¨å†Œäº†å®ƒè¿™ä¸ªå¯¹è±¡çš„æ‰€æœ‰ç›‘å¬è€…**å‘é€šçŸ¥

  <details>
  <summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

  ```dart
  class MyModel extends ChangeNotifier
  
  final myModel = MyModel(); // è¿™æ˜¯ä¸€ä¸ª ChangeNotifier
  
  myModel.addListener(() {
    print('ç›‘å¬è€… A æ”¶åˆ°é€šçŸ¥');
  });
  
  myModel.addListener(() {
    print('ç›‘å¬è€… B æ”¶åˆ°é€šçŸ¥');
  });
  
  myModel.notifyListeners();
  ```
  </details>

#### 27.2ã€[**`riverpod`**](https://riverpod.dev/)  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

by [**RÃ©mi Rousselet**](https://github.com/rrousselGit)

>  [**`Provider`**](https://pub.dev/packages/provider) çš„å‡çº§ï¼ˆå®Œå…¨ï¼‰é‡æ„ç‰ˆï¼Œè§£å†³äº†  [**`Provider`**](https://pub.dev/packages/provider)  çš„æ‰€æœ‰é™åˆ¶å’Œè®¾è®¡ç¼ºé™·ï¼Œ**æ¨èç”¨äºå¤§å‹é¡¹ç›®**

#### 27.3ã€[**`flutter_bloc`**](https://pub.dev/packages/flutter_bloc) <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> 1ï¸âƒ£ [**flutter_bloc**](https://pub.dev/packages/flutter_bloc) æ˜¯ [**Google**](https://www.google.com/) å®˜æ–¹æ”¯æŒçš„ [**Flutter**](https://flutter.dev/) çŠ¶æ€ç®¡ç†åº“ï¼ŒåŸºäº **BLoC**ï¼ˆ<font color=red>**B**</font>usiness <font color=red>**Lo**</font>gic <font color=red>**C**</font>omponentï¼‰ æ€æƒ³å°è£…ï¼ŒåŠŸèƒ½éå¸¸å®Œæ•´ï¼Œå°¤å…¶é€‚åˆä¸­å¤§å‹é¡¹ç›®ã€‚ï¼ˆä¸å†æ‰‹åŠ¨ç®¡ç† `StreamController`ï¼Œä»£ç æ›´ç®€æ´ï¼‰
>
> 2ï¸âƒ£ èƒ½åšä»€ä¹ˆï¼Ÿ
>
> âœ… ç”¨äºæ„å»ºæ¸…æ™°çš„ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆ**Bloc**/**Cubit**ï¼‰
> âœ… å®ç°è¾“å…¥äº‹ä»¶ â†’ è¾“å‡ºçŠ¶æ€æµè½¬
> âœ… ç»„ä»¶åŒ–ç®¡ç†å¤šä¸ªçŠ¶æ€æº
> âœ… è‡ªåŠ¨æ›´æ–° UIï¼Œé¿å…æ‰‹åŠ¨ setState
> âœ… å…¨å±€è°ƒè¯•ã€æµ‹è¯•èƒ½åŠ›ä¼˜ç§€
> âœ… å¯ç»„åˆï¼Œå¯è§£è€¦ï¼Œæ˜“ç»´æŠ¤
>
> 3ï¸âƒ£ **BLoC**ï¼ˆ<font color=red>**B**</font>usiness <font color=red>**Lo**</font>gic <font color=red>**C**</font>omponentï¼‰ çš„æœ¬è´¨æ˜¯ä¸€ç§**å“åº”å¼ç¼–ç¨‹æ€æƒ³**
>
> * **äº‹ä»¶ï¼ˆEventï¼‰è¾“å…¥ â†’ çŠ¶æ€ï¼ˆStateï¼‰è¾“å‡º**
> * é€šè¿‡ `Sink` å’Œ `Stream` æ„å»ºæ¸…æ™°çš„æ•°æ®æµåŠ¨è·¯å¾„ã€‚
>
> 4ï¸âƒ£  [**flutter_bloc**](https://pub.dev/packages/flutter_bloc) æä¾›çš„ä¸»è¦åŠŸèƒ½å’Œç±»ï¼š
>
> | ç±» / æ–¹æ³•å                  | ç±»å‹   | ç”¨é€”è¯´æ˜                                                     |
> | ---------------------------- | ------ | ------------------------------------------------------------ |
> | **`Bloc<Event, State>`**     | æŠ½è±¡ç±» | **BLoC** çš„æ ¸å¿ƒï¼Œå¤„ç†äº‹ä»¶å¹¶è¾“å‡ºçŠ¶æ€                          |
> | **`Cubit<State>`**           | æŠ½è±¡ç±» | ç®€åŒ–ç‰ˆ **Bloc**ï¼Œå»æ‰äº† **Event**ï¼Œåªæ“ä½œçŠ¶æ€ï¼ˆè½»é‡çŠ¶æ€ç®¡ç†ï¼‰ |
> | **`BlocProvider`**           | ç»„ä»¶   | æä¾› **Bloc**/**Cubit**å®ä¾‹ç»™ **`widget`** æ ‘ä½¿ç”¨ï¼ˆä¾èµ–æ³¨å…¥ï¼‰ |
> | **`MultiBlocProvider`**      | ç»„ä»¶   | åŒæ—¶æ³¨å†Œå¤šä¸ª **BlocProvider**                                |
> | **`BlocBuilder`**            | ç»„ä»¶   | æ ¹æ®çŠ¶æ€å˜åŒ–æ„å»º UIï¼Œç±»ä¼¼äº `Consumer`                       |
> | **`BlocListener`**           | ç»„ä»¶   | ç›‘å¬çŠ¶æ€å˜åŒ–ï¼Œæ‰§è¡Œå‰¯ä½œç”¨ï¼ˆå¦‚å¼¹çª—ã€è·³è½¬ç­‰ï¼‰                   |
> | **`BlocConsumer`**           | ç»„ä»¶   | `BlocBuilder` + `BlocListener` çš„ç»„åˆä½“                      |
> | **`RepositoryProvider`**     | ç»„ä»¶   | æ³¨å…¥ **Repository**ï¼ˆå¦‚ API æœåŠ¡ç±»ç­‰ï¼Œä¾¿äºæµ‹è¯•å’Œè§£è€¦ï¼‰       |
> | **`BlocObserver`**           | æŠ½è±¡ç±» | å…¨å±€ç›‘å¬ **Bloc** ç”Ÿå‘½å‘¨æœŸï¼šäº‹ä»¶æ´¾å‘ã€çŠ¶æ€å˜æ›´ã€é”™è¯¯ç­‰ï¼ˆé€‚åˆè°ƒè¯•æ—¥å¿—ï¼‰ |
> | **`context.read<T>()`**      | æ–¹æ³•   | è·å– **Bloc**/**Cubit** å®ä¾‹ï¼Œä¸è§¦å‘ **`rebuild`**           |
> | **`context.watch<T>()`**     | æ–¹æ³•   | è·å–å¹¶ç›‘å¬ **Bloc**/**Cubit**ï¼ŒçŠ¶æ€å˜åŒ–æ—¶è§¦å‘ **`rebuild`**  |
> | **`context.select<T, R>()`** | æ–¹æ³•   | ç²¾å‡†ç›‘å¬æŸä¸ªå±æ€§å˜åŒ–ï¼Œé¿å…æ— æ„ä¹‰é‡å»º                         |

#### 27.4ã€[**`GetX`**](https://pub.dev/packages/get) <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

##### 27.4.1ã€[**`GetX`**](https://pub.dev/packages/get) ï¼ˆå…­ç§ï¼‰ä¾èµ–æ³¨å†Œæ–¹å¼å¯¹æ¯”è¡¨ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> åœ¨ä¸è®¾ç½® `permanent: true` çš„é»˜è®¤æƒ…å†µä¸‹ï¼Œ**Get.put()**ã€**Get.lazyPut()**ã€**Get.create()** æ‰€åˆ›å»ºçš„å¯¹è±¡ï¼Œ**ç”Ÿå‘½å‘¨æœŸéƒ½ä¸ä¼šæ°¸ä¹…ä¿ç•™**ï¼Œç”¨å®Œå°±â€œæ²¡äº†â€æˆ–â€œä¼šè¢«é‡Šæ”¾â€ï¼Œåªä¸è¿‡ï¼š
>
> - `put`/`lazyPut` æ˜¯**ç¼“å­˜åå¯èƒ½é‡Šæ”¾**ï¼›
> - `create` æ˜¯**å‹æ ¹å°±ä¸ç¼“å­˜**ï¼Œç”¨ä¸€æ¬¡ <font color=green>**new**</font> ä¸€æ¬¡ã€‚

|       ç‰¹æ€§       | <font color=red>`Get.put()`</font>                           | <font color=red>`Get.putAsync()`</font>            | <font color=red>`Get.lazyPut()`</font>            | <font color=red>`Get.create()`</font>      | `Get.putNamed()`                | `Get.replace()`                                              |
| :--------------: | :----------------------------------------------------------- | -------------------------------------------------- | ------------------------------------------------- | ------------------------------------------ | :------------------------------ | ------------------------------------------------------------ |
|     å…·ä½“å«ä¹‰     | ğŸ‘‰ æ³¨å†Œ**åŒæ­¥å¯¹è±¡**åˆ° [**`GetX`**](https://pub.dev/packages/get)  å®¹å™¨ | ğŸ‘‰ æ³¨å†Œ**å¼‚æ­¥å¯¹è±¡**ï¼Œç­‰å¾… Future å®Œæˆ               | ğŸ‘‰ æ³¨å†Œ**æ‡’åŠ è½½å¯¹è±¡**ï¼Œé¦–æ¬¡ä½¿ç”¨æ—¶æ‰åˆ›å»º            | ğŸ‘‰ æ³¨å†Œ**éå•ä¾‹å¯¹è±¡**ï¼Œæ¯æ¬¡ `find()` éƒ½æ–°å»º | ğŸ‘‰ æ³¨å†Œ**åŒç±»å‹å¯¹è±¡ï¼ˆå¸¦ tagï¼‰**  | ğŸ‘‰ æ›¿æ¢å·²æ³¨å†Œå¯¹è±¡ï¼Œç”¨äºçƒ­æ›´æ–°æˆ–ç¯å¢ƒåˆ‡æ¢                       |
|     æ˜¯å¦å¼‚æ­¥     | âŒ å¦                                                         | âœ… æ˜¯                                               | âŒ å¦                                              | âŒ å¦                                       | âŒ å¦                            | âŒ å¦                                                         |
|   å¯¹è±¡åˆ›å»ºæ—¶æœº   | âœ… ç«‹å³å®ä¾‹åŒ–                                                 | â³ ç­‰å¾…å¼‚æ­¥åˆå§‹åŒ–å®Œæˆ                               | â± é¦–æ¬¡ä½¿ç”¨æ—¶å®ä¾‹åŒ–                                | æ¯æ¬¡ `find()` éƒ½åˆ›å»ºæ–°å®ä¾‹                 | âœ… ç«‹å³å®ä¾‹åŒ–                    | âœ… ç«‹å³å®ä¾‹åŒ–                                                 |
| æ˜¯å¦éœ€è¦ `await` | âŒ ä¸éœ€è¦                                                     | âœ… éœ€è¦ `await`                                     | âŒ ä¸éœ€è¦                                          | âŒ ä¸éœ€è¦                                   | âŒ ä¸éœ€è¦                        | âŒ ä¸éœ€è¦                                                     |
| å¯¹è±¡æ˜¯å¦ç«‹å³å¯ç”¨ | âœ… æ˜¯                                                         | âŒ åˆå§‹åŒ–å‰ä¸å¯ç”¨                                   | âŒ é¦–æ¬¡è°ƒç”¨å‰ä¸å¯ç”¨                                | âŒ æ¯æ¬¡ä½¿ç”¨éƒ½éœ€é‡æ–°åˆ›å»º                     | âœ… æ˜¯                            | âœ… æ˜¯                                                         |
|     æ˜¯å¦å•ä¾‹     | âœ… æ˜¯ï¼ˆå…¨å±€å”¯ä¸€ï¼‰                                             | âœ… æ˜¯ï¼ˆå…¨å±€å”¯ä¸€ï¼‰                                   | âœ… æ˜¯ï¼ˆå…¨å±€å”¯ä¸€ï¼‰                                  | âŒ å¦ï¼Œæ¯æ¬¡éƒ½åˆ›å»º                           | âœ… æ˜¯ï¼Œä½†æ¯ä¸ª `tag` æ˜¯ç‹¬ç«‹çš„å•ä¾‹ | âœ… æ˜¯                                                         |
|   æ˜¯å¦è‡ªåŠ¨ä¿æ´»   | âŒ é»˜è®¤ä¸ä¿æ´»<br/>**é™¤éæ‰‹åŠ¨è®¾ç½®`permanent: true`**           | âŒ é»˜è®¤ä¸ä¿æ´»<br/>**é™¤éæ‰‹åŠ¨è®¾ç½®`permanent: true`** | âŒ é»˜è®¤ä¸ä¿æ´»<br>**é™¤éæ‰‹åŠ¨è®¾ç½®`permanent: true`** | âŒ ä¸é€‚ç”¨ï¼ˆä¸ä¼šç¼“å­˜ï¼‰                       | âŒ é»˜è®¤ä¸ä¿æ´»ï¼Œéœ€æ‰‹åŠ¨è®¾ç½®        | âœ… ä¼šç«‹å³æ›¿æ¢æ—§å¯¹è±¡                                           |
|      å¸¸ç”¨äº      | é¡µé¢ Controllerã€åŒæ­¥æœåŠ¡ç­‰                                  | å¯åŠ¨é˜¶æ®µå¼‚æ­¥æœåŠ¡ï¼ˆå¦‚ç¼“å­˜ã€æ•°æ®åº“ï¼‰                 | é¡µé¢æ‡’åŠ è½½é€»è¾‘ã€èŠ‚çœèµ„æº                          | å¼¹çª—ã€è¡¨å•ã€ä¸´æ—¶æ§åˆ¶å™¨                     | åŒç±»å‹å¤šå®ä¾‹ï¼ˆå¦‚ç”¨æˆ· A/Bï¼‰      | åˆ‡æ¢ç¯å¢ƒã€çƒ­æ›´æ–°ã€åŠ¨æ€æµ‹è¯•                                   |
|   ä½¿ç”¨ä½ç½®æ¨è   | é¡µé¢åŠ è½½/ä¾èµ–æ³¨å…¥é˜¶æ®µ                                        | `main()` å¯åŠ¨é˜¶æ®µ                                  | é¡µé¢é€»è¾‘ä¸­å»¶è¿Ÿä½¿ç”¨                                | åŠ¨æ€ç»„ä»¶ã€çŸ­ç”Ÿå‘½å‘¨æœŸé€»è¾‘                   | æ³¨å†ŒåŒç±»å¯¹è±¡åˆ°å¤šä¸ªä½ç½®          | æµ‹è¯•æˆ–æ›¿æ¢å·²æœ‰é€»è¾‘<br>âš ï¸ **ä½¿ç”¨å‰å¿…é¡»å·²ç»æ³¨å†Œäº†ä¸€ä¸ªæ—§å¯¹è±¡**ã€‚ |

* **Get.put()**

  <details>
  <summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

  ```dart
  /// å®šä¹‰ Controller
  import 'package:get/get.dart';
  
  class CounterController extends GetxController {
    var count = 0.obs;
    void increment() {
      count++;
    }
  }
  ```
  ```dart
  /// æ³¨å†Œ Controllerï¼ˆé€šå¸¸åœ¨é¡µé¢æˆ–å…¥å£ï¼‰
  void main() {
    Get.put(CounterController()); // ğŸ‘ˆ æ³¨å†Œä¸ºå…¨å±€å•ä¾‹
    runApp(MyApp());
  }
  ```

  ```dart
  /// ä½¿ç”¨ Controllerï¼ˆåœ¨é¡µé¢ä¸­ï¼‰
  import 'package:flutter/material.dart';
  import 'package:get/get.dart';
  
  class MyApp extends StatelessWidget {
    @override
    Widget build(BuildContext context) {
      return GetMaterialApp(
        home: CounterPage(),
      );
    }
  }
  
  class CounterPage extends StatelessWidget {
    late final CounterController homeController;
    if (Get.isRegistered<CounterController>()) {
      homeController = Get.find<CounterController>();// ğŸ‘ˆ è·å–å·²æ³¨å†Œçš„ Controller
    }
    @override
    Widget build(BuildContext context) {
      return Scaffold(
        appBar: AppBar(title: Text('Get.put() ç¤ºä¾‹')),
        body: Center(
          child: Obx(() => Text('ç‚¹å‡»æ¬¡æ•°: ${controller.count}',
              style: TextStyle(fontSize: 24))),
        ),
        floatingActionButton: FloatingActionButton(
          onPressed: controller.increment,
          child: Icon(Icons.add),
        ),
      );
    }
  }
  ```
  
  </details>
  
* **Get.putAsync()**

  <details>
  <summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

  ```dart
  /// å®šä¹‰ä¸€ä¸ªå¼‚æ­¥åˆå§‹åŒ–çš„ Service
  import 'package:get/get.dart';
  
  class AuthService extends GetxService {
    late String token;
  
    Future<AuthService> init() async {
      await Future.delayed(Duration(seconds: 2)); // æ¨¡æ‹Ÿå¼‚æ­¥æ“ä½œ
      token = 'abc123_from_local_storage';
      return this;
    }
  
    String getToken() => token;
  }
  ```
  ```dart
  /// åœ¨ main() ä¸­æ³¨å†ŒæœåŠ¡ï¼ˆå¼‚æ­¥ï¼‰
  void main() async {
    WidgetsFlutterBinding.ensureInitialized();
    await Get.putAsync<AuthService>(() => AuthService().init()); // ğŸ‘ˆ å¼‚æ­¥æ³¨å†ŒæœåŠ¡
    runApp(MyApp());
  }
  ```
  
  ```dart
  /// åœ¨é¡µé¢ä¸­ä½¿ç”¨è¯¥æœåŠ¡
  import 'package:flutter/material.dart';
  import 'package:get/get.dart';
  
  class MyApp extends StatelessWidget {
    @override
    Widget build(BuildContext context) {
      return GetMaterialApp(
        home: AuthPage(),
      );
    }
  }
  
  class AuthPage extends StatelessWidget {
    late final authService;
    if (Get.isRegistered<AuthService>()) {
      authService = Get.find<AuthService>();// ğŸ‘ˆ è·å–å¼‚æ­¥æ³¨å†Œåçš„æœåŠ¡
    }
    @override
    Widget build(BuildContext context) {
      return Scaffold(
        appBar: AppBar(title: Text('Get.putAsync() ç¤ºä¾‹')),
        body: Center(
          child: Text('Token: ${authService.getToken()}',
              style: TextStyle(fontSize: 18)),
        ),
      );
    }
  }
  ```
  
  </details>
  
* **Get.lazyPut()** <font color=red>**ä¸è¿”å›å®ä¾‹**</font>

  å½“ç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶ï¼Œå†å»åˆ›å»ºå®ƒçš„å®ä¾‹ï¼ˆæ‡’åŠ è½½ï¼‰

  > <font color=red>**`fenix: false`ï¼ˆé»˜è®¤ï¼‰**</font>ï¼š
  >
  > - ç¬¬ä¸€æ¬¡ç”¨æ—¶åˆ›å»ºå®ä¾‹ï¼›
  > - **è¢«é‡Šæ”¾ï¼ˆGCï¼‰åä¸ä¼šè‡ªåŠ¨å†åˆ›å»º**ï¼›
  > - å†æ¬¡è®¿é—®æ—¶ä¼šæŠ¥é”™ï¼š`Instance "HomeRequestManager" not found`.
  >
  > âœ… **`fenix: true`**ï¼š
  >
  > - ç¬¬ä¸€æ¬¡ç”¨æ—¶åˆ›å»ºï¼›
  > - å³ä½¿è¢«é‡Šæ”¾ï¼Œ**å†æ¬¡è®¿é—®æ—¶ä»ç„¶èƒ½è‡ªåŠ¨é‡æ–°åˆ›å»ºï¼**
  > - åƒâ€œå‡¤å‡°é‡ç”Ÿâ€ä¸€æ ·ï¼ˆè¿™å°±æ˜¯åå­— `fenix` çš„æ¥æºï¼‰

  ```dart
  /// æ³¨å†Œ
  Get.lazyPut(() => HomeRequestManager(), fenix: true);
  ```

  ```dart
  /// ä½¿ç”¨
  late final manager;
  if (Get.isRegistered<HomeRequestManager>()) {
  	manager = Get.find<HomeRequestManager>();
  }
  ```

* **Get.create()**
  <details>
  <summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

  ```dart
  /// TODO
  ```
  </details>
  
* **Get.putNamed()**
  <details>
  <summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

  ```dart
  /// TODO
  ```
  </details>
* **Get.replace()**
  <details>
  <summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

  ```dart
  /// TODO
  ```
  </details>
##### 27.4.2ã€[**`GetX`**](https://pub.dev/packages/get) çš„é”€æ¯æœºåˆ¶ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> 1ï¸âƒ£ [**`GetX`**](https://pub.dev/packages/get)  ä¸­çš„ä¾èµ–å¯¹è±¡å¦‚æœä¸æ˜¯ `permanent: true`ï¼Œé»˜è®¤åœ¨æ— äººä½¿ç”¨æ—¶å¯ä»¥è¢«é‡Šæ”¾ï¼ˆæˆ–ä½ æ‰‹åŠ¨é‡Šæ”¾ï¼‰ã€‚
>
> 2ï¸âƒ£ å³ä¾¿æ˜¯`permanent: true`ä¹Ÿå¯ä»¥æ‰‹åŠ¨è¿›è¡Œé‡Šæ”¾
>
> 3ï¸âƒ£ **æ‰‹åŠ¨é”€æ¯ç”¨ `Get.delete<T>()` æˆ– `Get.deleteAll()`**ã€‚

| æ–¹æ³•                       | è¯´æ˜                                                         |
| -------------------------- | ------------------------------------------------------------ |
| `Get.delete<T>()`          | æ‰‹åŠ¨é”€æ¯æŸä¸ªç±»å‹çš„ä¾èµ–ï¼Œå¦‚ `Get.delete<HomeController>()`    |
| `Get.delete<T>(tag: 'xx')` | é”€æ¯å¸¦æœ‰ç‰¹å®š `tag` çš„å¯¹è±¡                                    |
| `Get.deleteAll()`          | é”€æ¯æ‰€æœ‰æ³¨å†Œçš„ä¾èµ–ï¼ˆæ…ç”¨ï¼ï¼‰                                 |
| `Get.reload<T>()`          | å…ˆåˆ é™¤å†é‡æ–°åˆ›å»ºä¾èµ–ï¼ˆè‡ªåŠ¨è°ƒç”¨ `Get.create()` æˆ– `Get.lazyPut()`ï¼‰ |
| `Get.reset()`              | é‡ç½®æ•´ä¸ªä¾èµ–ç®¡ç†ç³»ç»Ÿï¼ˆæ¸…ç©ºæ‰€æœ‰ Controllerã€Serviceã€è·¯ç”±ä¿¡æ¯ç­‰ï¼‰ |
| `Get.resetLazy<T>()`       | é‡ç½®æŒ‡å®šç±»å‹çš„æ‡’åŠ è½½ä¾èµ–ï¼ˆé…åˆ `lazyPut`ï¼‰                   |

##### 27.4.3ã€**`GetxController`** <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> 1ï¸âƒ£ `GetxController` æ˜¯ä¸€ä¸ªç»§æ‰¿è‡ª `Controller` çš„ç±»ï¼Œç”¨äºç®¡ç†ä½ çš„é¡µé¢çŠ¶æ€å’Œä¸šåŠ¡é€»è¾‘ã€‚
>
> 2ï¸âƒ£ çº¯é€»è¾‘ç±»

###### 27.4.3.1ã€ğŸ§¬  <font id=GetxControllerçš„ç”Ÿå‘½å‘¨æœŸ>**`GetxController`** çš„ç”Ÿå‘½å‘¨æœŸ</font>

| æ–¹æ³•å                                 | è§¦å‘æ—¶æœº                                                     | ç”¨é€”è¯´æ˜                                                     |
| -------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| <font color=red>**`onInit()`**</font>  | æ§åˆ¶å™¨åˆå§‹åŒ–æ—¶è‡ªåŠ¨è°ƒç”¨ï¼ˆåœ¨æ„é€ å‡½æ•°ä¹‹åï¼‰                     | ç±»ä¼¼äº `initState()`ï¼Œé€‚åˆåˆå§‹åŒ–å˜é‡ã€ç›‘å¬ç­‰                 |
| <font color=red>**`onReady()`**</font> | ç¬¬ä¸€æ¬¡ **frame** æ¸²æŸ“å®Œæˆåè°ƒç”¨                              | ç±»ä¼¼äº `WidgetsBinding.instance.addPostFrameCallback`ï¼Œé€‚åˆæ‰§è¡Œä¾èµ– UI çš„é€»è¾‘ï¼Œæ¯”å¦‚è¯·æ±‚æ¥å£ã€å¯¼èˆªç­‰ |
| <font color=red>**`onClose()`**</font> | æ§åˆ¶å™¨è¢«æ°¸ä¹…é”€æ¯æ—¶è°ƒç”¨ï¼ˆå¦‚ `Get.delete()` æˆ–è·¯ç”±ç§»é™¤ï¼‰       | æ¸…ç†èµ„æºï¼Œå¦‚å–æ¶ˆè®¢é˜…ã€å…³é—­ **stream**ã€**timer** ç­‰          |
| `dispose()`                            | å’Œ `onClose()` ç›¸åŒï¼Œé€šå¸¸ä¸éœ€è¦æ‰‹åŠ¨è°ƒç”¨                      | <font color=red>**`onClose()`**</font> å†…éƒ¨é»˜è®¤ä¼šè°ƒç”¨ `dispose()` |
| `onStart()`                            | ä¸å¸¸ç”¨ï¼Œ**GetxController** æ²¡æœ‰ç›´æ¥æä¾›æ­¤ç”Ÿå‘½å‘¨æœŸ            | ä¸€èˆ¬ç”¨äº<a href="#GetView" style="font-size:17px; color:green;">**GetView**</a>æˆ–ä½ è‡ªå·±æ‰©å±•çš„ç”Ÿå‘½å‘¨æœŸæ§åˆ¶ |
| `onResumed()`                          | é…åˆ<a href="#ç›‘å¬Appç”Ÿå‘½å‘¨æœŸçŠ¶æ€å˜åŒ–" style="font-size:17px; color:green;">**GetObserver**</a>ä½¿ç”¨ï¼Œè¡¨ç¤ºé¡µé¢ **resumed** çŠ¶æ€ | ç±»ä¼¼ **App** ç”Ÿå‘½å‘¨æœŸï¼Œè§ä¸‹æ–¹æ‰©å±•                            |
| `onPaused()`                           | é¡µé¢åˆ‡åˆ°åå°æˆ–è¢«è¦†ç›–æ—¶                                       | â€”â€”                                                           |
| `onDetached()`                         | é¡µé¢å½»åº•é€€å‡ºæ—¶                                               | â€”â€”                                                           |

##### 27.4.4ã€ğŸ¬**`Binding`** <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> **`Binding` å°±æ˜¯æå‰ç»‘å®š `controller` çš„åœ°æ–¹ã€‚**è®©ä½ ä¸éœ€è¦åœ¨é¡µé¢é‡Œæ‰‹åŠ¨å†™ **`Get.put()`** æˆ– **`Get.lazyPut()`**

##### 27.4.5ã€ğŸ¬ <font id=GetView>**`GetView<T>`**</font>  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> * æ˜¯ `StatelessWidget` çš„å­ç±»ï¼š`class GetView<T extends GetxController> extends StatelessWidget`
> * é€‚ç”¨äº `StatelessWidget`ã€‚<font color=red>ä¸èƒ½ç”¨äº `StatefulWidget`</font>
> * åŒ…å« UI
> * æœ¬è´¨æ˜¯è¯­æ³•ç³–ğŸ¬ï¼Œä¸æ˜¯å¿…é¡»çš„ï¼Œåªæ˜¯ä¸ºäº†è®©ä»£ç  **æ›´æ¸…æ™°ã€æ›´æ¨¡å—åŒ–ã€æ›´æ˜“ç»´æŠ¤**
>   * `GetView<T>` æ˜¯ä¸“é—¨ä¸ºæŸä¸ª `GetxController` åˆ›å»ºçš„ **View**ï¼Œç®€åŒ–è§†å›¾ä¸­çš„ **controller** è·å–
>   * ç”¨äºç®€åŒ– **`View` å±‚å’Œ `Controller` å±‚çš„ç»‘å®š**ã€‚é¿å…é‡å¤å†™ `final controller = Get.find<XXX>()`
>   * å¯¹<font color=red>**ä¸­å¤§å‹é¡¹ç›®**</font>æ¥è¯´ï¼š**ä½¿ç”¨ `Binding` + `GetView` æ˜¯æœ€æ¨èçš„æ¶æ„è§„èŒƒ**ï¼Œèƒ½æå‡å¼€å‘æ•ˆç‡ã€å›¢é˜Ÿåä½œä¸ç»´æŠ¤æ€§ã€‚

<details>
<summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

```dart
class CounterPage extends GetView<CounterController> {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text('GetView ç¤ºä¾‹')),
      body: Center(
        child: Obx(() => Text('ç‚¹å‡»æ¬¡æ•°: ${controller.count}')),
      ),
      floatingActionButton: FloatingActionButton(
        onPressed: controller.increment,
        child: Icon(Icons.add),
      ),
    );
  }
}
/// ä¸¤ç§å†™æ³•å®Œå…¨ç­‰ä»·
class CounterPage extends StatelessWidget {
  late final CounterController controller;
  if (Get.isRegistered<CounterController>()) {
    controller = Get.find<CounterController>();// ğŸ‘ˆ æ‰‹åŠ¨è·å–
  }
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text('StatelessWidget ç¤ºä¾‹')),
      body: Center(
        child: Obx(() => Text('ç‚¹å‡»æ¬¡æ•°: ${controller.count}')),
      ),
      floatingActionButton: FloatingActionButton(
        onPressed: controller.increment,
        child: Icon(Icons.add),
      ),
    );
  }
}
```
</details>

##### 27.4.6ã€ğŸ’¥[**`GetX`**](https://pub.dev/packages/get) é¡µé¢è§£è€¦ç»‘å®šæ•°æ®æº <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

>  [**`GetX`**](https://pub.dev/packages/get)  æ¨èçš„æœ€ä½³å®è·µæ–¹å¼ï¼š**`GetPage`** â• **`Binding`** â• **`GetView` ** â• **`Controller`** 

<details>
<summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

```
ğŸ—ï¸ é¡¹ç›®ç»“æ„ç¤ºæ„

lib/
â”œâ”€â”€ main.dart
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ counter_binding.dart
â”‚   â”œâ”€â”€ counter_controller.dart
â”‚   â””â”€â”€ counter_page.dart
```
| æ­¥éª¤                                           | æè¿°                            |
| ---------------------------------------------- | ------------------------------- |
| 1ã€è¿›å…¥ `/counter` é¡µé¢                        | è‡ªåŠ¨æ‰§è¡Œ `CounterBinding()`     |
| 2ã€**Binding** ä¸­æ³¨å†Œ **Controller**           | `Get.lazyPut()` åˆ›å»º Controller |
| 3ã€é¡µé¢ä¸­é€šè¿‡ `GetView<T>` è·å– **controller** | ä¸ç”¨å†å†™ `Get.find()`           |
| 4ã€`Obx` ç›‘å¬æ•°æ®å˜åŒ–                          | UI å®æ—¶åˆ·æ–°                     |
| 5ã€ç‚¹å‡»æŒ‰é’®è°ƒç”¨ **controller** æ–¹æ³•            | æ›´æ–°æ•°æ®ï¼Œè§¦å‘åˆ·æ–°              |

```dart
/// main.dart
import 'package:flutter/material.dart';
import 'package:get/get.dart';
import 'pages/counter_binding.dart';
import 'pages/counter_page.dart';

void main() {
  runApp(GetMaterialApp(
    title: 'GetX Binding Demo',
    initialRoute: '/counter',
    getPages: [
      GetPage(
        name: '/counter',
        page: () => const CounterPage(),
        binding: CounterBinding(), // ğŸ’¡ è‡ªåŠ¨æ³¨å…¥ Controller
      ),
    ],
  ));
}
```

```dart
/// counter_controller.dart
import 'package:get/get.dart';

class CounterController extends GetxController {
  final count = 0.obs;

  void increment() => count.value++;
}
```

```dart
/// counter_binding.dart
import 'package:get/get.dart';
import 'counter_controller.dart';

class CounterBinding extends Bindings {
  @override
  void dependencies() {
    Get.lazyPut<CounterController>(() => CounterController());
  }
}
```

```dart
import 'package:flutter/material.dart';
import 'package:get/get.dart';
import 'counter_controller.dart';

class CounterPage extends GetView<CounterController> {
  const CounterPage({super.key});

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: const Text('è®¡æ•°å™¨é¡µé¢')),
      body: Center(
        child: Obx(() => Text(
              'å½“å‰è®¡æ•°ï¼š${controller.count.value}',
              style: const TextStyle(fontSize: 24),
            )),
      ),
      floatingActionButton: FloatingActionButton(
        onPressed: controller.increment,
        child: const Icon(Icons.add),
      ),
    );
  }
}
```

</details>

##### 27.4.6ã€**`GetxService`** <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> `GetxService` æ˜¯ [**`GetX`**](https://pub.dev/packages/get)  æä¾›çš„**ä¸“é—¨ç”¨äºå…¨å±€å•ä¾‹ç®¡ç†çš„æœåŠ¡ç±»**ï¼Œé€‚åˆæ”¾ä¸€äº›åªéœ€è¦åˆ›å»ºä¸€æ¬¡ï¼Œæ•´ä¸ª App ç”Ÿå‘½å‘¨æœŸä¸­éƒ½ä¸é‡Šæ”¾çš„â€œåå°æœåŠ¡â€

| ç‰¹æ€§             | GetxController           | GetxService                    |
| ---------------- | ------------------------ | ------------------------------ |
| ç”Ÿå‘½å‘¨æœŸ         | è·Ÿéšé¡µé¢ï¼Œå¯é”€æ¯é‡å»º     | é»˜è®¤å¸¸é©»å†…å­˜ï¼Œä¸ä¼šè‡ªåŠ¨é‡Šæ”¾     |
| åˆ›å»ºæ–¹å¼         | é€šå¸¸ç”¨äº UI æ§åˆ¶å™¨       | é€šå¸¸ç”¨äºåå°æœåŠ¡ã€å·¥å…·ç±»       |
| æ˜¯å¦æ¨èå…¨å±€å•ä¾‹ | âŒ ä¸æ¨èï¼ˆå®¹æ˜“å†…å­˜æ³„æ¼ï¼‰ | âœ… æ¨èç”¨äºå…¨å±€æ³¨å†Œä¸€æ¬¡å³å¯     |
| ç¤ºä¾‹ç”¨é€”         | é¡µé¢çŠ¶æ€ç®¡ç†ã€äº¤äº’é€»è¾‘ç­‰ | ç½‘ç»œæœåŠ¡ã€ç¼“å­˜æœåŠ¡ã€é…ç½®æœåŠ¡ç­‰ |


<details>
<summary>å®šä¹‰</summary>

```dart
class AuthService extends GetxService {
  String? token;

  Future<AuthService> init() async {
    // åˆå§‹åŒ–ï¼Œä¾‹å¦‚ä»æœ¬åœ°ç¼“å­˜è¯»å– token
    token = await getSavedToken();
    return this;
  }

  Future<String?> getSavedToken() async {
    await Future.delayed(Duration(milliseconds: 300));
    return 'abc123';
  }
}
```
</details>

<details>
<summary>æ³¨å†ŒæœåŠ¡</summary>

```dart
Future<void> main() async {
  WidgetsFlutterBinding.ensureInitialized();
  await Get.putAsync<AuthService>(() => AuthService().init());
  runApp(MyApp());
}
```
</details>

<details>
<summary>ä½¿ç”¨</summary>

```dart
late final AuthService authService;
if (Get.isRegistered<AuthService>()) {
  authService = Get.find<AuthService>();
}
print(authService.token);
```
</details>

##### 27.4.7ã€ğŸ“ƒ<font id=GetPage>**`GetPage()`**</font> <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a> 

> 1ï¸âƒ£ ç”¨äºåœ¨ `GetMaterialApp` ä¸­æ³¨å†Œé¡µé¢ï¼Œå®ƒåŒ…å«äº†é¡µé¢è·¯å¾„ã€é¡µé¢æ„é€ å‡½æ•°ã€ç»‘å®šä¾èµ–ã€è½¬åœºåŠ¨ç”»ç­‰ä¿¡æ¯ã€‚
>
> 2ï¸âƒ£ æ˜¯ä¸“ä¸º `GetMaterialApp.getPages` æœåŠ¡
>
> 3ï¸âƒ£ æ¯ä¸€ä¸ª `GetPage` éƒ½è¡¨ç¤ºä¸€ä¸ªè·¯ç”±é¡µé¢çš„é…ç½®é¡¹ã€‚

```dart
GetPage(
  name: '/home',                                   // è·¯ç”±è·¯å¾„
  page: () => HomeView(),                          // é¡µé¢æ„é€ å‡½æ•°
  binding: HomeBinding(),                          // å•ä¸ªä¾èµ–ç»‘å®š
  bindings: [                                      // å¯é€‰ï¼šå¤šä¸ªä¾èµ–ç»‘å®š
    HomeBinding(),
    OtherBinding(),
  ],
  transition: Transition.fadeIn,                   // é¡µé¢è·³è½¬åŠ¨ç”»
  transitionDuration: Duration(milliseconds: 300), // åŠ¨ç”»æŒç»­æ—¶é—´
  curve: Curves.easeInOut,                         // åŠ¨ç”»æ›²çº¿
  fullscreenDialog: false,                         // æ˜¯å¦ä¸ºå…¨å±å¯¹è¯æ¡†ï¼ˆiOS push æ¨¡æ€é¡µï¼‰
  middlewares: [AuthMiddleware()],                 // ä¸­é—´ä»¶ï¼šå¦‚ç™»å½•æ ¡éªŒã€æƒé™æ‹¦æˆª
  popGesture: true,                                // æ˜¯å¦å…è®¸ iOS ä¾§æ»‘è¿”å›
  preventDuplicates: true,                         // é˜²æ­¢é‡å¤è·³è½¬ï¼ˆå¦‚æœå½“å‰é¡µé¢å°±æ˜¯è¿™ä¸ªï¼‰
  participatesInRootNavigator: true,               // åµŒå¥—è·¯ç”±æ˜¯å¦ä½¿ç”¨ä¸»å¯¼èˆªå™¨
  opaque: true,                                    // æ˜¯å¦è¦†ç›–ä¸‹å±‚é¡µé¢ï¼ˆfalse å¯é€è§†ï¼‰
  showCupertinoParallax: true,                     // iOS åŠ¨ç”»æ˜¯å¦ä½¿ç”¨å¼¹æ€§æ»‘åŠ¨æ•ˆæœ
  children: [                                      // åµŒå¥—è·¯ç”±ï¼ˆå¯é€‰ï¼‰
    GetPage(
      name: '/home/detail',
      page: () => DetailView(),
    )
  ],
)
```

##### 27.4.8ã€ğŸ§­[**`GetX`**](https://pub.dev/packages/get) è·¯ç”± <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

>  [**`GetX`**](https://pub.dev/packages/get)  çš„è·¯ç”±ç³»ç»Ÿæ˜¯ä¸€å¥—é›†å‘½åè·¯ç”±ã€ä¾èµ–æ³¨å…¥ã€ä¸­é—´ä»¶ã€åŠ¨ç”»äºä¸€ä½“çš„å¼ºå¤§è·¯ç”±ç®¡ç†æœºåˆ¶ï¼Œæ¨èç”¨ `GetPage` + å‘½åè·³è½¬æ–¹å¼ä¸ºä¸»çº¿ç»“æ„ï¼

| é¡¹ç›®               | Flutter åŸç”Ÿå¯¼èˆª      | GetX è·¯ç”±ç³»ç»Ÿ                     |
| ------------------ | --------------------- | --------------------------------- |
| è·³è½¬æ–¹å¼           | `Navigator.push(...)` | `Get.to(...)`ã€`Get.toNamed(...)` |
| æ˜¯å¦éœ€è¦ context   | âœ… å¿…é¡»                | âŒ ä¸éœ€è¦                          |
| å‘½åè·¯ç”±           | âœ… æ”¯æŒ                | âœ… æ”¯æŒï¼Œæ›´å¼ºå¤§                    |
| æ˜¯å¦æ”¯æŒä¾èµ–æ³¨å…¥   | âŒ ä¸æ”¯æŒ              | âœ… æ”¯æŒ binding                    |
| æ˜¯å¦æ”¯æŒä¸­é—´ä»¶æ‹¦æˆª | âŒ ä¸æ”¯æŒ              | âœ… æ”¯æŒ                            |
| è½¬åœºåŠ¨ç”»           | å¤æ‚                  | ç®€å•ï¼ˆå†…å»º `Transition` æšä¸¾ï¼‰    |
| åµŒå¥—è·¯ç”± / å­è·¯ç”±  | è¾ƒå¤æ‚                | âœ… æ”¯æŒ children åµŒå¥—è·¯ç”±          |

###### 27.4.8.1ã€[**`GetX`**](https://pub.dev/packages/get) å…è·¯ç”±ç®¡ç†é¡µé¢ï¼ˆç›´æ¥è·³ **`Widget`**ï¼‰ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

  > âœ… ä¼˜ç‚¹ï¼šä¸ç”¨æå‰æ³¨å†Œé¡µé¢
  > âŒ ç¼ºç‚¹ï¼šä¸æ”¯æŒ **binding**ã€åŠ¨ç”»ã€ä¸­é—´ä»¶

  ```dart
  Get.to(ProfileView());        // æ­£å¸¸è·³è½¬
  Get.to(() => const PageB());  // ğŸ‘ˆ å…è·¯ç”±è¡¨è·³è½¬
  ```

| å†™æ³•                           | å«ä¹‰                                                         | æ˜¯å¦æ¨è                                 |
| ------------------------------ | ------------------------------------------------------------ | ---------------------------------------- |
| `Get.to(const PageB());`       | **ç«‹å³åˆ›å»ºé¡µé¢å®ä¾‹**ï¼Œç„¶åä¼ ç»™ `Get.to()`                    | âœ… æ¨èï¼Œä»…å½“ä¸å…³å¿ƒæƒ°æ€§åŠ è½½æ—¶             |
| `Get.to(() => const PageB());` | **ä¼ å…¥ä¸€ä¸ªæ„é€ å‡½æ•°ï¼ˆå‡½æ•°ä½“ï¼‰,[`GetX`](https://pub.dev/packages/get)  ä¼šå»¶è¿Ÿè°ƒç”¨** | âœ… æ›´æ¨èï¼Œå°¤å…¶åœ¨å¤æ‚è·¯ç”±æˆ–éœ€è¦æ‡’åŠ è½½åœºæ™¯ |

<details>
<summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

```dart
class PageB extends StatelessWidget {
  const PageB({super.key});
  @override
  Widget build(BuildContext context) {
    return Center(
      child: Column(
        mainAxisSize: MainAxisSize.min, /// âœ… å†…å®¹å±…ä¸­ç´§å‡‘æ’åˆ—
        children: [
          Text('å½“å‰é¡µé¢ï¼šPage B'.tr, style: normalTextStyle(fontSize: 24)),
          const SizedBox(height: 20), /// âœ… é—´è·
          ElevatedButton(
            onPressed: () {
              Get.to(() => const PageC()); /// ğŸ‘ˆ å…è·¯ç”±è¡¨è·³è½¬
            },
            child: Text('Go to Page C'.tr),
          ),
        ],
      ),
    );
  }
}

TextStyle normalTextStyle({
  double fontSize = 16,
  Color color = Colors.yellow,
  FontWeight fontWeight = FontWeight.normal,
}) =>
    TextStyle(
      fontSize: fontSize,
      color: color,
      fontWeight: fontWeight,
      decoration: TextDecoration.none,
    );
```
```dart
Get.off(SettingsView());      // æ›¿æ¢å½“å‰é¡µ
Get.offAll(LoginView());      // æ¸…ç©ºæ ˆåè·³è½¬
```

</details>

###### 27.4.8.2ã€å‘½åè·¯ç”±ï¼ˆæ¨èæ–¹å¼ï¼‰ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> éœ€è¦é…åˆ<a href="#GetPage" style="font-size:17px; color:green;"><b>GetPage()</b></a> æ³¨å†Œ 

```dart
Get.toNamed('/home');
Get.offNamed('/login');
Get.offAllNamed('/splash');
```

* è·¯ç”±è¡¨

  <details>
  <summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

  ```dart
  // app/routes/app_routes.dart
  abstract class AppRoutes {
    static const home = '/home';
    static const login = '/login';
  }
  
  // app/routes/app_pages.dart
  class AppPages {
    static final routes = [
      GetPage(
        name: AppRoutes.home,
        page: () => HomeView(),
        binding: HomeBinding(),
      ),
      GetPage(
        name: AppRoutes.login,
        page: () => LoginView(),
      ),
    ];
  }
  
  // main.dart
  GetMaterialApp(
    initialRoute: AppRoutes.home,
    getPages: AppPages.routes,
  );
  
  // é¡µé¢è·³è½¬
  Get.toNamed(AppRoutes.login); // âœ… å‘½åè·³è½¬
  ```
  </details>
  
* è·¯ç”±å®ˆå«ï¼šè·³è½¬æ—¶è¿›è¡ŒéªŒæƒ

  ```dart
  /// âœ… ç™»å½•äº†ï¼Œå°±è·³è½¬æˆåŠŸåˆ°é¦–é¡µï¼›
  /// âŒ æœªç™»å½•ï¼Œå°±è¢«æ‹¦æˆªå¹¶è·³è½¬åˆ°ç™»é™†ï¼›
  if (!LoginManager.isLogin) {
    Get.offAllNamed('/login');
  } else {
    Get.toNamed('/home');
  }
  ```

  ç­‰ä»·äº

  ```dart
  /// åˆ›å»ºä¸€ä¸ªä¸­é—´ä»¶ç±»ï¼š
  class AuthMiddleware extends GetMiddleware {
    @override
    RouteSettings? redirect(String? route) {
      if (!LoginManager.isLogin) {
        return const RouteSettings(name: '/login');
      }
      return null; // âœ… å…è®¸è·³è½¬
    }
  }
  ```

  ```dart
  /// åŠ åˆ°è·¯ç”±ä¸­ï¼š
  GetPage(
    name: '/home',
    page: () => HomeView(),
    binding: HomeBinding(),
    middlewares: [AuthMiddleware()],
  )
  ```

  ```dart
  Get.toNamed('/home');
  ```

##### 27.4.9ã€[**`GetX`**](https://pub.dev/packages/get)  å…· UI æ•ˆæœçš„å‡½æ•°æ–¹æ³•ï¼ˆé **`Widget`**ï¼‰ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| æ–¹æ³•å                    | ç”¨é€”/æ•ˆæœ            | è¯´æ˜                                                     |
| ------------------------- | -------------------- | -------------------------------------------------------- |
| **`Get.snackbar()`**      | æ˜¾ç¤ºé¡¶éƒ¨/åº•éƒ¨æç¤ºæ¡  | å…¨å±€æç¤ºæ¡ï¼Œæ”¯æŒæ ‡é¢˜ã€å†…å®¹ã€å›¾æ ‡ã€è‡ªå®šä¹‰æŒ‰é’®ã€é¢œè‰²ç­‰     |
| **`Get.dialog()`**        | å¼¹å‡ºä¸€ä¸ªè‡ªå®šä¹‰å¼¹çª—   | å¯ä¼ å…¥ä»»æ„ **`Widget`**ï¼Œç±»ä¼¼åŸç”Ÿ **`showDialog`**       |
| **`Get.defaultDialog()`** | å¿«é€Ÿæ„å»ºæ ‡å‡†å¼¹çª—     | å†…ç½®æ ‡é¢˜ã€å†…å®¹ã€ç¡®è®¤/å–æ¶ˆæŒ‰é’®ï¼Œå¿«é€Ÿä½¿ç”¨                  |
| **`Get.bottomSheet()`**   | æ˜¾ç¤ºåº•éƒ¨å¼¹å‡ºèœå•     | ç±»ä¼¼å¾®ä¿¡å¼¹çª—ï¼Œä¼ å…¥ä»»æ„ **`Widget`**ï¼Œè‡ªå¸¦æ»‘å…¥åŠ¨ç”»        |
| **`Get.generalDialog()`** | è‡ªå®šä¹‰å¼¹çª—åŠ¨ç”»ä¸å†…å®¹ | æ›´åº•å±‚çš„å¼¹çª—æ§åˆ¶æ–¹å¼ï¼Œå¯è‡ªå®šä¹‰åŠ¨ç”»æ•ˆæœå’Œå†…å®¹ï¼Œæ§åˆ¶æ›´åº•å±‚ |
| **`Get.showOverlay()`**   | æ˜¾ç¤ºå…¨å±é®ç½©å±‚       | å¸¸ç”¨äºæ˜¾ç¤º **loading**ã€**toast**ã€**blur** æ•ˆæœ         |


* **`Get.snackbar()`**

  | å¯¹æ¯”é¡¹                | [**Flutter**](https://flutter.dev/) åŸç”Ÿ `ScaffoldMessenger.showSnackBar` | [**`GetX`**](https://pub.dev/packages/get)  çš„ `Get.snackbar` |
  | --------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
  | æ˜¯å¦éœ€è¦ **context**  | âœ… æ˜¯                                                         | âŒ å¦                                                         |
  | æ˜¾ç¤ºä½ç½®              | åªèƒ½åœ¨åº•éƒ¨                                                   | æ”¯æŒé¡¶éƒ¨ / åº•éƒ¨                                              |
  | æ˜¯å¦ä¾èµ– **Scaffold** | âœ… æ˜¯                                                         | âŒ å¦                                                         |
  | è‡ªå®šä¹‰çµæ´»æ€§          | ä¸€èˆ¬                                                         | éå¸¸é«˜                                                       |

* **`Get.dialog()`**

  > **`Get.dialog()`** é»˜è®¤ç”¨å½“å‰ä¸Šä¸‹æ–‡æ‰¾ <a href="#Navigator" style="font-size:17px; color:green;"><b>Navigator</b></a>

  [**`GetX`**](https://pub.dev/packages/get) æ¡†æ¶æä¾›çš„å¼¹çª—æ–¹æ³•

  | å‚æ•°å                   | ç±»å‹       | è¯´æ˜                                           |
  | ------------------------ | ---------- | ---------------------------------------------- |
  | **`barrierDismissible`** | `bool`     | æ˜¯å¦ç‚¹å‡»èƒŒæ™¯å…³é—­å¼¹çª—ï¼Œé»˜è®¤ `true`              |
  | **`useSafeArea`**        | `bool`     | æ˜¯å¦ä½¿ç”¨ **SafeArea**ï¼Œé»˜è®¤ `true`             |
  | **`name`**               | `String?`  | ç»™å¼¹çª—è®¾ç½®ä¸€ä¸ªè·¯ç”±åï¼ˆå¯é€‰ï¼‰                   |
  | **`transitionDuration`** | `Duration` | åŠ¨ç”»æŒç»­æ—¶é—´ï¼Œé»˜è®¤ 200ms                       |
  | **`transitionCurve`**    | `Curve`    | åŠ¨ç”»æ›²çº¿ï¼Œå¦‚ `Curves.easeInOut`                |
  | **`opaque`**             | `bool`     | æ˜¯å¦å®Œå…¨é®æŒ¡ï¼Œé»˜è®¤ `false`                     |
  | **`barrierColor`**       | `Color`    | èƒŒæ™¯é¢œè‰²ï¼Œé»˜è®¤ `Colors.black.withOpacity(0.5)` |
  
  <details>
  <summary>Get.dialog()</summary>
  
  ```dart
  ElevatedButton(
    onPressed: () async {
      final result = await Get.dialog<String>(
        _CustomDialogContent(),// ä¸€ä¸ªwidget
  
        barrierDismissible: true, // âœ… ç‚¹å‡»å¼¹çª—å¤–åŒºåŸŸæ˜¯å¦å…³é—­å¼¹çª—ï¼ˆtrue = å¯å…³é—­ï¼‰
        barrierColor: Colors.black.withOpacity(0.5), // âœ… å¼¹çª—èƒŒæ™¯é®ç½©é¢œè‰²ï¼ˆé€šå¸¸ä¸ºåŠé€æ˜é»‘è‰²ï¼‰
        useSafeArea: true, // âœ… æ˜¯å¦è‡ªåŠ¨é¿å¼€çŠ¶æ€æ /åˆ˜æµ·/åº•éƒ¨å®‰å…¨åŒºï¼ˆé»˜è®¤ trueï¼‰
  
        navigatorKey: Get.key, // âœ… æŒ‡å®šä½¿ç”¨å“ªä¸ª Navigatorï¼ˆé»˜è®¤ç”¨ Get.key å°±è¡Œï¼‰
        arguments: {'from': 'æŒ‰é’®ç‚¹å‡»'}, // âœ… å‘å¼¹çª—å†…éƒ¨ä¼ é€’å‚æ•°ï¼ˆå¯é€šè¿‡ Get.arguments è·å–ï¼‰
  
        transitionDuration: Duration(milliseconds: 400), // âœ… åŠ¨ç”»æŒç»­æ—¶é—´ï¼ˆé»˜è®¤ 200msï¼‰
        transitionCurve: Curves.easeInOutBack, // âœ… åŠ¨ç”»æ›²çº¿ï¼ˆå†³å®šè¿›å‡ºå¼¹çª—çš„è¿åŠ¨æ–¹å¼ï¼‰
  
        name: '/custom-dialog', // âœ… è·¯ç”±åç§°ï¼ˆå¯é€‰ï¼Œæ–¹ä¾¿è°ƒè¯•æˆ–æ‹¦æˆªè·¯ç”±ï¼‰
        routeSettings: RouteSettings(name: '/custom-dialog-settings'), // âœ… æ›´å®Œæ•´çš„è·¯ç”±é…ç½®ï¼ˆé…åˆå¯¼èˆªç³»ç»Ÿï¼‰
      );
  
      if (result != null) {
        Get.snackbar('è¿”å›ç»“æœ', 'ä½ é€‰æ‹©äº†: $result'); // âœ… å¼¹çª—å…³é—­åè·å–è¿”å›å€¼
      }
    },
    child: Text('æ‰“å¼€è‡ªå®šä¹‰å¼¹çª—'),
  )
  ```
  </details>

  <details>
  <summary>Get.defaultDialog()</summary>

  ```dart
  /// TODO
  ```
  </details>

  <details>
  <summary>Get.bottomSheet()</summary>

  ```dart
  /// TODO
  ```
  </details>

  <details>
  <summary>Get.generalDialog()</summary>

  ```dart
  /// TODO
  ```
  </details>
  
    <details>
  <summary>Get.showOverlay()</summary>

  ```dart
  /// TODO
  ```
  </details>

##### 27.4.10ã€[**`GetX`**](https://pub.dev/packages/get) çš„ UI æ§åˆ¶è¡Œä¸ºå‡½æ•° <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| **æ–¹æ³•å**                       | **è¡Œä¸ºæè¿°**                                         | **è¯´æ˜**                                                     |
| -------------------------------- | ---------------------------------------------------- | ------------------------------------------------------------ |
| **`Get.to()`**                   | è·³è½¬åˆ°æ–°é¡µé¢                                         | æ¨å…¥é¡µé¢ï¼Œå¯ä¼  **`Widget`**ã€å‚æ•°ã€åŠ¨ç”»ç­‰                    |
| **`Get.toNamed()`**              | è·³è½¬åˆ°å‘½åè·¯ç”±é¡µé¢                                   | ä½¿ç”¨ `getPages` ä¸­æ³¨å†Œçš„è·¯ç”±å                               |
| **`Get.off()`**                  | æ›¿æ¢å½“å‰é¡µé¢                                         | æ›¿ä»£å½“å‰é¡µé¢ä¸ºç›®æ ‡ Widget é¡µé¢                               |
| **`Get.offNamed()`**             | æ›¿æ¢å½“å‰é¡µé¢ä¸ºå‘½åè·¯ç”±                               | å½“å‰é¡µé¢å°†è¢«ç›®æ ‡å‘½åè·¯ç”±æ›¿ä»£                                 |
| **`Get.offAll()`**               | æ¸…ç©ºé¡µé¢æ ˆå¹¶è·³è½¬åˆ°æ–°é¡µé¢                             | è·¯ç”±æ ˆæ¸…ç©ºï¼Œä»…ä¿ç•™ç›®æ ‡é¡µé¢                                   |
| **`Get.offAllNamed()`**          | æ¸…ç©ºé¡µé¢æ ˆå¹¶è·³è½¬åˆ°å‘½åè·¯ç”±                           | å¸¸ç”¨äºç™»å½•æˆåŠŸåè·³è½¬ä¸»é¡µ                                     |
| **`Get.back()`**                 | è¿”å›ä¸Šä¸€é¡µ / å…³é—­å½“å‰ UI                             | è‡ªåŠ¨åˆ¤æ–­å¹¶å…³é—­ **dialog**ã€**bottomSheet** æˆ–è¿”å›é¡µé¢ï¼Œæ— éœ€ **context** |
| **`Get.closeAllSnackbars()`**    | å…³é—­æ‰€æœ‰ **snackbar** æç¤ºæ¡                         | å¦‚æœå¤šä¸ªæç¤ºå åŠ ï¼Œå¯ç»Ÿä¸€å…³é—­                                 |
| **`Get.closeCurrentSnackbar()`** | å…³é—­å½“å‰ **snackbar** æç¤ºæ¡                         | æ›´ç»†ç²’åº¦ï¼Œä»…å…³é—­æœ€æ–°ä¸€æ¡                                     |
| **`Get.closeAllOverlays()`**     | å…³é—­æ‰€æœ‰ UI è¦†ç›–å±‚ï¼ˆå« **dialog**ã€**bottomSheet**ï¼‰ | å¸¸ç”¨äºé€€å‡ºç™»å½•ã€åˆ‡æ¢é¡µé¢å‰ç»Ÿä¸€å…³é—­æ‰€æœ‰ UI å¼¹å±‚               |
| **`Get.until((route) => ...)`**  | ä¸€ç›´è¿”å›ç›´åˆ°ç¬¦åˆæ¡ä»¶                                 | ç±»ä¼¼ `popUntil`ï¼Œç”¨äºæ¡ä»¶å¼å¤šçº§è¿”å›                          |
| **`Get.canPop()`**               | æ˜¯å¦å¯ä»¥è¿”å›ä¸Šä¸€é¡µ                                   | è¿”å› `true/false`ï¼Œç±»ä¼¼ `Navigator.canPop()`                 |
| **`Get.isDialogOpen`**           | å½“å‰æ˜¯å¦æœ‰ **dialog** è¢«æ‰“å¼€                         | åˆ¤æ–­æ˜¯å¦æœ‰å¼¹çª—æ­£åœ¨æ˜¾ç¤ºä¸­                                     |
| **`Get.isSnackbarOpen`**         | å½“å‰æ˜¯å¦æœ‰ **snackbar** è¢«æ‰“å¼€                       | åˆ¤æ–­æ˜¯å¦æœ‰æç¤ºæ¡æ­£åœ¨æ˜¾ç¤ºä¸­                                   |
| **`Get.isBottomSheetOpen`**      | å½“å‰æ˜¯å¦æœ‰ **bottomSheet** è¢«æ‰“å¼€                    | åˆ¤æ–­æ˜¯å¦æœ‰åº•éƒ¨å¼¹çª—æ­£åœ¨æ˜¾ç¤ºä¸­                                 |

##### 27.4.11ã€ğŸ”‘**`Get.key` **<a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> **`Get.key` å°±æ˜¯ç»™å…¨å±€ Navigator æ‰“äº†ä¸ª tagï¼ˆæ ‡ç­¾ï¼‰**ï¼Œå³ï¼š**å…¨å±€ Navigator Key**ã€‚[**`GetX`**](https://pub.dev/packages/get)  æŠŠå®ƒæ³¨å†Œåˆ°è‡ªå·±çš„å®¹å™¨é‡Œï¼Œä¹‹åä½ æ‰€æœ‰ï¼ˆ**push**ã€**pop**ã€**dialog** ç­‰ï¼‰ç›¸å…³æ“ä½œéƒ½å¯ä»¥**ä¸éœ€è¦ contextï¼Œç›´æ¥é€šè¿‡è¿™ä¸ª tag æ‰¾åˆ°å¹¶è°ƒç”¨ Navigator çš„åŠŸèƒ½ã€‚**ï¼ˆ<font color=red>ç±»ä¼¼äºiOSçš„**é€šçŸ¥æœºåˆ¶**</font>ï¼‰

| ä¼ ç»Ÿ [**Flutter**](https://flutter.dev/) | [**`GetX`**](https://pub.dev/packages/get)                   |
| ---------------------------------------- | ------------------------------------------------------------ |
| **`Navigator.of(context)`**              | **`Get.key.currentState`**                                   |
| å¼¹çª—å¿…é¡»è¦ **BuildContext**              | **`Get.dialog()`** æ— éœ€ **BuildContext**                     |
| æ¯ä¸ªé¡µé¢è¦ä¼  **BuildContext**            | [**`GetX`**](https://pub.dev/packages/get)  å®¹å™¨ä¸­å…¨å±€æŒæœ‰å¯¼èˆªå™¨ |
| UI å’ŒçŠ¶æ€ç®¡ç†è€¦åˆä¸¥é‡                    | UI/é€»è¾‘å¯åˆ†ç¦»ï¼Œ**Controller** ä¹Ÿèƒ½å¯¼èˆª                       |

<details>
<summary>âœ… åœºæ™¯ï¼šä»é UI å±‚ï¼ˆæ¯”å¦‚ Service/Controllerï¼‰å¼¹å‡ºä¸€ä¸ª Dialogï¼Œè€Œä¸ä¾èµ– BuildContext</summary>

```dart
void main() {
  runApp(GetMaterialApp(
    navigatorKey: Get.key, // âœ… æ³¨å†Œå…¨å±€å¯¼èˆªå™¨ å¿…é¡»åˆå§‹åŒ–æ—¶é…ç½®ä¸€æ¬¡
    home: MyHomePage(),
  ));
}

class AuthService {
  void checkLoginAndShowDialog() {
    /// âœ… ä¸ä¾èµ– context å°±èƒ½æ˜¾ç¤º UI
    Get.dialog(
      AlertDialog(
        title: Text('æœªç™»å½•'),
        content: Text('è¯·å…ˆç™»å½•æ‰èƒ½ç»§ç»­æ“ä½œ'),
        actions: [
          TextButton(
            onPressed: () => Get.back(),
            child: Text('å–æ¶ˆ'),
          ),
          TextButton(
            onPressed: () {
              Get.back();
              Get.toNamed('/login'); // å¯ä»¥ç»§ç»­è·³è½¬
            },
            child: Text('å»ç™»å½•'),
          ),
        ],
      ),
      navigatorKey: Get.key, // âœ… å…³é”®ç‚¹ï¼šæŒ‡å‘å…¨å±€ Navigatorï¼ˆæ­¤ä¾‹é‡Œé¢å¯ä»¥ä¸å†™ï¼‰
      barrierDismissible: false,
    );
  }
}

ElevatedButton(
  onPressed: () {
    AuthService().checkLoginAndShowDialog(); // âœ… ä¸ç”¨ contextï¼Œä¹Ÿèƒ½å¼¹çª—
  },
  child: Text('æ‰§è¡Œéœ€è¦ç™»å½•çš„æ“ä½œ'),
)
```
</details>

* âœ… é‚£ä»€ä¹ˆæ—¶å€™ **å¿…é¡»å†™ `navigatorKey: Get.key`**ï¼Ÿ

  * â— åœºæ™¯1ï¼šé¡µé¢è¿˜æ²¡åŠ è½½å®Œæˆï¼ˆæ¯”å¦‚åœ¨ `initState` æˆ– `GetxController.onInit()` é‡Œç›´æ¥å¼¹ï¼‰

    ```dart
    @override
    void initState() {
      super.initState();
      Future.delayed(Duration.zero, () {
        Get.dialog(AlertDialog(...)); // âŒ å¯èƒ½æ‰¾ä¸åˆ° Navigator.currentContext
      });
    }
    ```

  * â— åœºæ™¯2ï¼šç”¨äº†åµŒå¥—çš„<a href="#Shellé¡µé¢" style="font-size:17px; color:green;"><b> Shellé¡µé¢</b></a> / å­<a href="#Navigator" style="font-size:17px; color:green;"><b> `Navigator`</b></a>   ï¼ˆå¦‚ `BottomNavigationBar` + `Tab`ï¼‰

    ```dart
    Scaffold(
      body: Navigator( // ğŸ‘ˆ åµŒå¥— navigatorï¼ŒGet.dialog æ‰¾ä¸åˆ°ä¸Šå±‚ Navigator
        key: shellKey,
        ...
      ),
    );
    ```

> ğŸ§  **`navigatorKey: Get.key` æ˜¯ä¿é™©æœºåˆ¶ï¼š**
> å½“ä½ åœ¨ UI æŒ‰é’®ä¸­å¼¹çª—ï¼Œä¸å†™ä¹Ÿå¯ä»¥ï¼›
> ä½†å¦‚æœä½ åœ¨â€œé UI ä¸Šä¸‹æ–‡â€æˆ–â€œåµŒå¥—å¯¼èˆªç»“æ„â€ä¸­è°ƒç”¨å¼¹çª—ï¼Œ**å°±å¿…é¡»æ˜¾å¼æŒ‡å®š `navigatorKey` æ¥é¿å…æ‰¾ä¸åˆ° Navigator çš„é”™è¯¯ã€‚**
>
> **å®Œå…¨å¯ä»¥å…»æˆä¹ æƒ¯ï¼š**
> ğŸ‘‰ **ä»»ä½•æ—¶å€™ç”¨ `Get.dialog()`ï¼Œéƒ½å†™ä¸Š `navigatorKey: Get.key`**ï¼Œ
> âœ… å…¼å®¹æ‰€æœ‰åœºæ™¯ã€ç”Ÿå‘½å‘¨æœŸã€åµŒå¥—ç»“æ„ï¼Œç»å¯¹ä¸ç¿»è½¦ã€‚

##### 27.4.12ã€[**`GetX`**](https://pub.dev/packages/get) å¤šè¯­è¨€åŒ–  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> å¦‚æœæ‰¾ä¸åˆ°å¯¹åº” keyï¼Œä¼š **åŸæ ·è¿”å›åŸå§‹å­—ç¬¦ä¸²**ï¼ˆå³ `"ç­‰å¾…çŠ¶æ€å˜åŒ–"`ï¼‰ï¼Œä¸ä¼šæŠ¥é”™æˆ–å´©æºƒã€‚

```dart
String status = "ç­‰å¾…çŠ¶æ€å˜åŒ–".tr;
```

##### 27.4.13ã€å…³äº[**`GetX`**](https://pub.dev/packages/get) çš„äºŒæ¬¡å°è£…ï¼ˆè¯­æ³•ç³–ğŸ¬ï¼‰  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

<details>
<summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

```dart
import 'package:get/get.dart';

/// è‡ªåŠ¨æ³¨å†Œæˆ–è·å– Controllerï¼ˆç«‹å³åˆ›å»ºå¹¶è¿”å›ï¼‰
/// ç”¨æ³•ï¼š
///   final c = getOrPut(() => MyController());
T getOrPut<T extends GetxController>(
  T Function() creator, {
  bool permanent = false,
}) {
  if (Get.isRegistered<T>()) {
    return Get.find<T>();
  } else {
    return Get.put<T>(creator(), permanent: permanent);
  }
}

/// è‡ªåŠ¨æ‡’åŠ è½½æ³¨å†Œæˆ–è·å– Controllerï¼ˆç¬¬ä¸€æ¬¡ç”¨æ—¶æ‰åˆ›å»ºï¼‰
/// ç”¨æ³•ï¼š
///   final c = getOrLazyPut(() => MyController(), fenix: true);
T getOrLazyPut<T extends GetxController>(
  T Function() creator, {
  bool fenix = false,
}) {
  if (Get.isRegistered<T>()) {
    return Get.find<T>();
  } else {
    Get.lazyPut<T>(creator, fenix: fenix);
    return Get.find<T>();
  }
}
```
```dart
late final MyTabCtrl tabController = getOrPut(() => MyTabCtrl());
```

</details>

##### 27.4.14ã€åŸºäº[**`GetX`**](https://pub.dev/packages/get) æœ€ä½³å®è·µçš„å®Œæ•´é¡¹ç›®ç»“æ„æ¨¡æ¿ï¼ˆé¡¹ç›®åä¸ºï¼š`getx_demo`ï¼‰ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

<details>
<summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

```dart
lib/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ modules/
â”‚   â”‚   â”œâ”€â”€ home/
â”‚   â”‚   â”‚   â”œâ”€â”€ bindings/          # é¡µé¢ç»‘å®š
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ home_binding.dart
â”‚   â”‚   â”‚   â”œâ”€â”€ controllers/       # æ§åˆ¶å™¨
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ home_controller.dart
â”‚   â”‚   â”‚   â”œâ”€â”€ views/             # é¡µé¢è§†å›¾
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ home_view.dart
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ app_pages.dart         # é¡µé¢è·¯ç”±æ€»è¡¨
â”‚   â”‚   â””â”€â”€ app_routes.dart        # è·¯ç”±åå¸¸é‡
â”œâ”€â”€ main.dart
```
```dart
/// home_controller.dart
import 'package:get/get.dart';

class HomeController extends GetxController {
  var count = 0.obs;
  void increment() {
    count++;
  }
}
```

```dart
/// home_view.dart
import 'package:flutter/material.dart';
import 'package:get/get.dart';
import 'package:getx_demo/app/modules/home/controllers/home_controller.dart';

class HomeView extends GetView<HomeController> {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text("Home")),
      body: Center(
        child: Obx(() => Text("ç‚¹å‡»æ¬¡æ•°: ${controller.count}",
            style: TextStyle(fontSize: 24))),
      ),
      floatingActionButton: FloatingActionButton(
        onPressed: controller.increment,
        child: Icon(Icons.add),
      ),
    );
  }
}
```

```dart
/// home_binding.dart
import 'package:get/get.dart';
import 'package:getx_demo/app/modules/home/controllers/home_controller.dart';

class HomeBinding extends Bindings {
  @override
  void dependencies() {
    Get.lazyPut<HomeController>(() => HomeController());
  }
}
```

```dart
/// app_routes.dart
abstract class AppRoutes {
  static const HOME = '/home';
}
```

```dart
/// app_pages.dart
import 'package:get/get.dart';
import 'package:getx_demo/app/modules/home/bindings/home_binding.dart';
import 'package:getx_demo/app/modules/home/views/home_view.dart';
import 'app_routes.dart';

class AppPages {
  static const INITIAL = AppRoutes.HOME;

  static final routes = [
    GetPage(
      name: AppRoutes.HOME,
      page: () => HomeView(),
      binding: HomeBinding(),
    ),
  ];
}
```

```dart
/// main.dart
import 'package:flutter/material.dart';
import 'package:get/get.dart';
import 'package:getx_demo/app/routes/app_pages.dart';

void main() {
  runApp(MyApp());
}

class MyApp extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return GetMaterialApp(
      debugShowCheckedModeBanner: false,
      initialRoute: AppPages.INITIAL,
      getPages: AppPages.routes,
    );
  }
}
```

</details>

##### 27.4.15ã€[**`GetX`**](https://pub.dev/packages/get) å€¼çš„åŒå‘ç»‘å®š <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

<details>
<summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

```dart
lib/
â”œâ”€â”€ Counter/
â”‚   â”œâ”€â”€ jobs_binding.dart
â”‚   â”œâ”€â”€ jobs_controller.dart
â”‚   â””â”€â”€ jobs_page.dart
â””â”€â”€ ğŸ’¥GetXçš„å€¼åŒå‘ç»‘å®š.dart.dart
```
```dart
import 'package:flutter/material.dart';
import 'package:get/get.dart';
import 'package:jobs_flutter_base_config/JobsDemoTools/UI/UI.3rdğŸŒ¹/GetX/ğŸ’¥GetXçš„å€¼åŒå‘ç»‘å®š/Counter/jobs_binding.dart';
import 'package:jobs_flutter_base_config/JobsDemoTools/UI/UI.3rdğŸŒ¹/GetX/ğŸ’¥GetXçš„å€¼åŒå‘ç»‘å®š/Counter/jobs_page.dart';

void main() {
  runApp(
    GetMaterialApp(
      initialRoute: '/jobs',
      getPages: [
        GetPage(
          name: '/jobs',
          page: () => const JobsPage(),
          binding: JobsBinding(),
        ),
      ],
    ),
  );
}
```

```dart
/// jobs_page.dart
import 'package:flutter/material.dart';
import 'package:get/get.dart';
import 'jobs_controller.dart';

class JobsPage extends GetView<JobsController> {
  const JobsPage({super.key});

  @override
  Widget build(BuildContext context) {
    final textCtrl1 = TextEditingController();
    final textCtrl2 = TextEditingController();

    return Scaffold(
      appBar: AppBar(title: const Text('Jobs åŒå‘ç»‘å®šä¸¤ä¸ªè¾“å…¥æ¡†')),
      body: Padding(
        padding: const EdgeInsets.all(20),
        child: Obx(() {
          // æ›´æ–° TextEditingController çš„ textï¼ˆé˜²æ­¢æ— é™å¾ªç¯ï¼‰
          if (textCtrl1.text != controller.text.value) {
            textCtrl1.text = controller.text.value;
            textCtrl1.selection = TextSelection.fromPosition(
              TextPosition(offset: textCtrl1.text.length),
            );
          }

          if (textCtrl2.text != controller.text.value) {
            textCtrl2.text = controller.text.value;
            textCtrl2.selection = TextSelection.fromPosition(
              TextPosition(offset: textCtrl2.text.length),
            );
          }

          return Column(
            crossAxisAlignment: CrossAxisAlignment.start,
            children: [
              TextField(
                controller: textCtrl1,
                decoration: const InputDecoration(labelText: 'è¾“å…¥æ¡† 1'),
                onChanged: (v) => controller.text.value = v,
              ),
              const SizedBox(height: 20),
              TextField(
                controller: textCtrl2,
                decoration: const InputDecoration(labelText: 'è¾“å…¥æ¡† 2'),
                onChanged: (v) => controller.text.value = v,
              ),
              const SizedBox(height: 20),
              Text('ä½ è¾“å…¥çš„æ˜¯ï¼š${controller.text.value}'),
            ],
          );
        }),
      ),
    );
  }
}
```

```dart
/// jobs_controller.dart
import 'package:get/get.dart';

class JobsController extends GetxController {
  final RxString text = ''.obs;
}
```

```dart
/// jobs_binding.dart
import 'package:get/get.dart';
import 'jobs_controller.dart';

class JobsBinding extends Bindings {
  @override
  void dependencies() {
    Get.lazyPut(() => JobsController());
  }
}
```

</details>

##### 27.4.16ã€**`GetInterface`**  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> `GetInterface` æ˜¯ [**GetX**](https://pub.dev/packages/get)  å…¨éƒ¨åŠŸèƒ½ API çš„â€œç›®å½•è§„èŒƒâ€ï¼Œè€Œ `Get` æ˜¯å®ƒçš„å”¯ä¸€å®ç°ã€‚

##### 27.4.17ã€ğŸ“¢ é€šçŸ¥  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

*  <a href="#InheritedWidget" style="font-size:17px; color:green;"><b>InheritedWidget</b></a>

* ğŸ‘‚ç›‘å¬

  * çº¯é€»è¾‘ç›‘å¬å™¨å‡½æ•°ï¼ˆä¸æ¶‰åŠUIï¼‰

    | åç§°           | è¯´æ˜                                  |
    | -------------- | ------------------------------------- |
    | **`ever`**     | æ¯æ¬¡ **Rx** æ”¹å˜éƒ½è§¦å‘                |
    | **`once`**     | **Rx** ç¬¬ä¸€æ¬¡æ”¹å˜è§¦å‘ä¸€æ¬¡             |
    | **`debounce`** | **Rx** åœæ­¢å˜åŒ–ä¸€æ®µæ—¶é—´åè§¦å‘ï¼ˆé˜²æŠ–ï¼‰ |
    | **`interval`** | **Rx** åœ¨ä¸€æ®µæ—¶é—´å†…åªè§¦å‘ä¸€æ¬¡ï¼ˆèŠ‚æµï¼‰ |
    | **`everAll`**  | åŒæ—¶ç›‘å¬å¤šä¸ª **Rx**ï¼Œä»»ä¸€æ”¹å˜å°±è§¦å‘   |

    ```dart
    // main.dart
    import 'package:flutter/material.dart';
    import 'package:get/get.dart';
    import 'package:jobs_flutter_base_config/JobsDemoTools/JobsFlutterTools/JobsRunners/JobsGetXRunner.dart';
    import 'package:jobs_flutter_base_config/JobsDemoTools/Utils/JobsCommonUtil.dart';
    
    // âœ… æ“ä½œè¯´æ˜ï¼š
    // ç‚¹å‡»â€œâ• å¢åŠ è®¡æ•°â€æŒ‰é’®ï¼š
    // ever æ¯æ¬¡è§¦å‘ï¼›
    // once åªè§¦å‘ç¬¬ä¸€æ¬¡ï¼›
    // interval æ¯éš” 1 ç§’åªè§¦å‘ä¸€æ¬¡ï¼›
    // everAll ä¹Ÿä¼šè§¦å‘ã€‚
    
    // è¾“å…¥æ¡†ä¸­è¾“å…¥å†…å®¹ï¼ˆå¦‚ï¼šabcï¼‰ï¼š
    // æ¯æ¬¡å˜åŠ¨ä¸ä¼šç«‹å³è§¦å‘ debounceï¼›
    // åœæ­¢è¾“å…¥çº¦ 800ms åæ‰è§¦å‘ï¼›
    // everAll ä¹Ÿä¼šè§¦å‘ã€‚
    
    void main() => runApp(JobsGetRunner(RxListenerDemo(), title: 'ğŸ¯ GetX ç›‘å¬å™¨æ¼”ç¤º'));
    
    class RxListenerDemo extends StatelessWidget {
      final MyController controller = Get.put(MyController());
    
      @override
      Widget build(BuildContext context) {
        return Padding(
          padding: const EdgeInsets.all(16.0),
          child: Column(
            children: [
              Obx(() => Text('ğŸ§® å½“å‰è®¡æ•°ï¼š${controller.counter}',
                  style: TextStyle(fontSize: 24))),
              ElevatedButton(
                onPressed: () => controller.counter.value++,
                child: const Text('â• å¢åŠ è®¡æ•°'),
              ),
              const SizedBox(height: 20),
              TextField(
                decoration: const InputDecoration(labelText: 'ğŸ”¤ è¾“å…¥å…³é”®è¯'),
                onChanged: (val) => controller.keyword.value = val,
              ),
            ],
          ),
        );
      }
    }
    
    class MyController extends GetxController {
      // å£°æ˜ä¸¤ä¸ªå“åº”å¼å˜é‡
      final RxInt counter = 0.obs;
      final RxString keyword = ''.obs;
    
      // åˆå§‹åŒ–ç›‘å¬å™¨
      @override
      void onInit() {
        super.onInit();
    
        // æ¯æ¬¡æ”¹å˜éƒ½è§¦å‘
        ever(counter, (val) => JobsPrint("ğŸ” ever: counter = $val"));
    
        // åªè§¦å‘ç¬¬ä¸€æ¬¡
        once(counter, (val) => JobsPrint("ğŸ¯ once: counter = $val"));
    
        // é˜²æŠ–ï¼šåœæ­¢æ”¹å˜å 800ms å†è§¦å‘
        debounce(keyword, (val) => JobsPrint("â³ debounce: keyword = $val"),
            time: Duration(milliseconds: 800));
    
        // èŠ‚æµï¼šæ¯éš” 1s è§¦å‘ä¸€æ¬¡
        interval(counter, (val) => JobsPrint("ğŸš¦ interval: counter = $val"),
            time: Duration(seconds: 1));
    
        // åŒæ—¶ç›‘å¬å¤šä¸ª Rx
        everAll([counter, keyword], (valList) {
          JobsPrint(
              "ğŸ“¦ everAll: counter = ${counter.value}, keyword = ${keyword.value}");
        });
      }
    }
    ```
  
  * UIç›‘å¬å™¨ï¼š**Obx**ï¼ˆä»¥å‰æ˜¯å‡½æ•°ï¼Œç°åœ¨ç‰ˆæœ¬ä¸Šå‡ä¸ºç±»ï¼‰
  
    >```dart
    >class Obx extends ObxWidget
    >abstract class ObxWidget extends StatefulWidget
    >```
  
  *  <font id=ç›‘å¬Appç”Ÿå‘½å‘¨æœŸçŠ¶æ€å˜åŒ–>**ç›‘å¬ App ç”Ÿå‘½å‘¨æœŸçŠ¶æ€å˜åŒ–**</font> **ï¼š`GetObserver`**(ç±»)
  
    > ```dart
    > class GetObserver extends NavigatorObserver with WidgetsBindingObserver
    > ```

### 28ã€å¯¼èˆªæ å·¦ä¸Šè§’çš„è¿”å›æŒ‰é’®çš„<font color=red>**è¡Œä¸ºæ‹¦æˆªå’Œè‡ªå®šä¹‰**</font>  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> 1ï¸âƒ£ ç”¨æˆ·ç‚¹å‡» **iOS** çš„å¯¼èˆªæ è¿”å›é”®ï¼ˆå·¦ä¸Šè§’ï¼‰
>
> 2ï¸âƒ£ è°ƒç”¨ `Navigator.of(context).pop()`
>
> 3ï¸âƒ£ **iOS** ä¸Šä»å±å¹•å·¦è¾¹ç¼˜æ»‘åŠ¨è¿”å›ï¼ˆæ‰‹åŠ¿è¿”å›ï¼‰
>
> ğŸ’¥ **æ ¹é¡µé¢æ˜¯æ²¡æœ‰è¿”å›é”®çš„**

<details>
<summary>å¯¹PageCè¿›è¡Œè¿”å›æŒ‰é’®çš„ç›‘å¬</summary>

```dart
/// PageC
class PageC extends RouteAwareStatefulPage {
  const PageC({super.key, super.onTap, super.buttonChild})
      : super(title: 'Page C');

  @override
  State<PageC> createState() => _PageCState();
}

class _PageCState extends RouteAwareState<PageC> {}
```
```dart
abstract class RouteAwareStatefulPage extends StatefulWidget {
  final String title;
  final VoidCallback? onTap;
  final Widget? buttonChild;

  const RouteAwareStatefulPage({
    super.key,
    required this.title,
    this.onTap,
    this.buttonChild,
  });
}

abstract class RouteAwareState<T extends RouteAwareStatefulPage>
    extends State<T> with RouteAware {
  @override
  void didChangeDependencies() {
    super.didChangeDependencies();
    routeObserver.subscribe(this, ModalRoute.of(context)! as PageRoute);
  }

  @override
  void dispose() {
    routeObserver.unsubscribe(this);
    super.dispose();
  }

  @override
  void didPush() => debugPrint('ğŸ“¥ ${widget.title} pushed');
  @override
  void didPop() => debugPrint('ğŸ“¤ ${widget.title} popped');
  @override
  void didPopNext() => debugPrint('ğŸ”™ Return to ${widget.title}');
  @override
  void didPushNext() => debugPrint('â¡ï¸ Navigate away from ${widget.title}');

  @override
  Widget build(BuildContext context) {
    return PopConfirmWrapper(
      child: Scaffold(
        appBar: AppBar(title: Text(widget.title)),
        body: Center(
          child: Column(
            mainAxisSize: MainAxisSize.min,
            children: [
              Text('å½“å‰é¡µé¢ï¼š${widget.title}'.tr,
                  style: normalTextStyle(fontSize: 24)),
              const SizedBox(height: 20),
              ElevatedButton(
                onPressed: widget.onTap,
                child: widget.buttonChild ?? Text('ç‚¹æˆ‘'.tr),
              ),
            ],
          ),
        ),
      ),
    );
  }
}
```

</details>

### 29ã€å›¾ç‰‡ç¼“å­˜æ¡†æ¶ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

#### 29.1ã€[**CachedNetworkImage**](https://pub.dev/packages/cached_network_image)  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

== [**iOS.SDWebimage**](https://github.com/SDWebImage/SDWebImage)

<details>
<summary>CachedNetworkImage</summary>

```yaml
dependencies:
  cached_network_image: any
```

```dart
import 'package:flutter/material.dart';
import 'package:cached_network_image/cached_network_image.dart';
import 'package:flutter_cache_manager/flutter_cache_manager.dart';
import 'package:jobs_flutter_base_config/JobsDemoTools/JobsFlutterTools/JobsRunners/JobsGetXRunner.dart';

void main() => runApp(JobsGetRunner(const CachedNetworkImageDemo(),
    title: 'CachedNetworkImage å…¨å±æ€§ç¤ºä¾‹'));

class CachedNetworkImageDemo extends StatelessWidget {
  const CachedNetworkImageDemo({super.key});

  @override
  Widget build(BuildContext context) {
    return Center(
      child: CachedNetworkImage(
        imageUrl: 'https://via.placeholder.com/150', // âœ… å›¾ç‰‡åœ°å€ï¼ˆå¿…å¡«ï¼‰
        httpHeaders: const {
          'Authorization': 'Bearer YOUR_TOKEN', // âœ… è‡ªå®šä¹‰ HTTP è¯·æ±‚å¤´ï¼ˆå¯é€‰ï¼‰
        },
        cacheKey: 'custom_cache_key', // âœ… è‡ªå®šä¹‰ç¼“å­˜ keyï¼ˆå¯æ‰‹åŠ¨ç®¡ç†ç¼“å­˜ï¼‰

        placeholder: (context, url) =>
            const CircularProgressIndicator(), // âœ… åŠ è½½ä¸­å ä½å›¾
        progressIndicatorBuilder: (context, url, progress) {
          return Column(
            // âœ… æ˜¾ç¤ºåŠ è½½è¿›åº¦ï¼ˆå­—èŠ‚ï¼‰
            mainAxisAlignment: MainAxisAlignment.center,
            children: [
              const CircularProgressIndicator(),
              const SizedBox(height: 10),
              Text('${progress.downloaded} / ${progress.totalSize} bytes'),
            ],
          );
        },
    
        errorWidget: (context, url, error) =>
            const Icon(Icons.error), // âœ… åŠ è½½å¤±è´¥æ˜¾ç¤ºç»„ä»¶
        errorListener: (error) =>
            debugPrint('åŠ è½½å¤±è´¥: $error'), // âœ… é”™è¯¯ç›‘å¬å™¨ï¼ˆä¸ä¼š UI æ˜¾ç¤ºï¼Œåªæ‰“å°ï¼‰
    
        imageBuilder: (context, imageProvider) => Container(
          // âœ… æˆåŠŸåŠ è½½åè‡ªå®šä¹‰å±•ç¤ºæ–¹å¼
          width: 200,
          height: 200,
          decoration: BoxDecoration(
            borderRadius: BorderRadius.circular(12),
            image: DecorationImage(
              image: imageProvider,
              fit: BoxFit.cover,
            ),
          ),
        ),
    
        fadeInDuration: const Duration(milliseconds: 500), // âœ… å›¾ç‰‡æ·¡å…¥åŠ¨ç”»æ—¶é—´
        fadeOutDuration: const Duration(milliseconds: 300), // âœ… å ä½å›¾æ·¡å‡ºåŠ¨ç”»æ—¶é—´
        fadeInCurve: Curves.easeIn, // âœ… å›¾ç‰‡æ·¡å…¥åŠ¨ç”»æ›²çº¿
        fadeOutCurve: Curves.easeOut, // âœ… å ä½å›¾æ·¡å‡ºåŠ¨ç”»æ›²çº¿
        placeholderFadeInDuration:
            const Duration(milliseconds: 200), // âœ… å ä½å›¾æ·¡å…¥æ—¶é—´
    
        width: 200, // âœ… å›¾ç‰‡å®½åº¦
        height: 200, // âœ… å›¾ç‰‡é«˜åº¦
        fit: BoxFit.cover, // âœ… å›¾ç‰‡å¡«å……æ–¹å¼
        alignment: Alignment.center, // âœ… å¯¹é½æ–¹å¼
        repeat: ImageRepeat.noRepeat, // âœ… æ˜¯å¦é‡å¤å›¾åƒ
        matchTextDirection: false, // âœ… æ˜¯å¦éµå¾ªæ–‡å­—æ–¹å‘ï¼ˆå¦‚ RTLï¼‰
    
        color: Colors.red.withValues(alpha: 0.2), // âœ… ä¸å›¾ç‰‡å åŠ çš„é¢œè‰²
        colorBlendMode: BlendMode.overlay, // âœ… é¢œè‰²å åŠ æ–¹å¼
        filterQuality: FilterQuality.high, // âœ… æ¸²æŸ“è´¨é‡ï¼ˆå»ºè®® highï¼‰
    
        memCacheWidth: 400, // âœ… å†…å­˜ç¼“å­˜å›¾åƒæœ€å¤§å®½åº¦
        memCacheHeight: 400, // âœ… å†…å­˜ç¼“å­˜å›¾åƒæœ€å¤§é«˜åº¦
        maxWidthDiskCache: 800, // âœ… ç£ç›˜ç¼“å­˜å›¾åƒæœ€å¤§å®½åº¦
        maxHeightDiskCache: 800, // âœ… ç£ç›˜ç¼“å­˜å›¾åƒæœ€å¤§é«˜åº¦
    
        cacheManager: DefaultCacheManager(), // âœ… ä½¿ç”¨è‡ªå®šä¹‰ CacheManagerï¼ˆå¯é€‰ï¼‰
    
        useOldImageOnUrlChange: true, // âœ… å½“ URL æ”¹å˜æ—¶æ˜¯å¦ä¿ç•™æ—§å›¾åƒç›´åˆ°æ–°å›¾åŠ è½½å®Œ
      ),
    );
  }
}

class MyCustomCacheManager extends CacheManager {
  static const String key = 'myCustomCache'; // è‡ªå®šä¹‰ç¼“å­˜ keyï¼Œç”¨äºæ ‡è¯†ç¼“å­˜æ–‡ä»¶å¤¹å’Œæ•°æ®åº“
  static final MyCustomCacheManager _instance =
      MyCustomCacheManager._internal(); // å•ä¾‹å®ä¾‹ï¼Œé¿å…é‡å¤åˆ›å»º
  factory MyCustomCacheManager() => _instance; // å·¥å‚æ„é€ ï¼Œå¤–éƒ¨è°ƒç”¨åªç”¨è¿™ä¸ª
  MyCustomCacheManager._internal() // ç§æœ‰æ„é€ å‡½æ•° + è‡ªå®šä¹‰é…ç½®
      : super(
          Config(
            key,
            stalePeriod: const Duration(days: 3), // è¶…è¿‡ 3 å¤©è§†ä¸ºâ€œè¿‡æœŸâ€
            maxNrOfCacheObjects: 100, // æœ€å¤šç¼“å­˜ 100 ä¸ªæ–‡ä»¶
            repo: JsonCacheInfoRepository(databaseName: key), // ä½¿ç”¨é»˜è®¤ json æ•°æ®åº“å­˜å‚¨
            fileService: HttpFileService(), // ä½¿ç”¨é»˜è®¤ http ä¸‹è½½å™¨
          ),
        );
}
```
</details>

#### 29.2ã€[**`flutter_advanced_networkimage_2`**](https://pub.dev/packages/flutter_advanced_networkimage_2/versions)  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

<details>
<summary>flutter_advanced_networkimage_2</summary>

```dart
import 'dart:typed_data';
import 'package:flutter/material.dart';
import 'package:flutter_advanced_networkimage_2/provider.dart';
import 'package:jobs_flutter_base_config/JobsDemoTools/JobsFlutterTools/JobsRunners/JobsGetXRunner.dart';
import 'package:jobs_flutter_base_config/JobsDemoTools/Utils/JobsCommonUtil.dart';

void main() => runApp(JobsGetRunner(const AdvancedNetworkImageDemo(),
    title: 'AdvancedNetworkImage å…¨å±æ€§ç¤ºä¾‹'));

class AdvancedNetworkImageDemo extends StatelessWidget {
  const AdvancedNetworkImageDemo({super.key});

  @override
  Widget build(BuildContext context) {
    return Center(
      child: Image(
        image: AdvancedNetworkImage(
          'https://via.placeholder.com/150', // âœ… å›¾ç‰‡ URL

          scale: 1.0, // âœ… å›¾ç‰‡ç¼©æ”¾å› å­ï¼Œé»˜è®¤ 1.0ï¼Œé€šå¸¸ä¸ç”¨æ”¹

          width: 300, // âœ… è¦ç¼“å­˜åˆ°å†…å­˜ä¸­çš„å›¾ç‰‡å®½åº¦ï¼ˆåƒç´ ï¼‰
          height: 300, // âœ… è¦ç¼“å­˜åˆ°å†…å­˜ä¸­çš„å›¾ç‰‡é«˜åº¦ï¼ˆåƒç´ ï¼‰

          header: const {
            'Authorization': 'Bearer YOUR_TOKEN', // âœ… HTTP è¯·æ±‚å¤´ï¼Œè‡ªå®šä¹‰è®¤è¯æˆ–å‚æ•°
          },

          useDiskCache: true, // âœ… æ˜¯å¦å¯ç”¨ç£ç›˜ç¼“å­˜ï¼Œé»˜è®¤ä¸º true

          retryLimit: 3, // âœ… ä¸‹è½½å¤±è´¥æœ€å¤§é‡è¯•æ¬¡æ•°
          retryDuration: const Duration(seconds: 2), // âœ… æ¯æ¬¡é‡è¯•é—´éš”
          retryDurationFactor: 1.5, // âœ… é‡è¯•é—´éš”å› å­ï¼ˆç”¨äºæŒ‡æ•°é€€é¿ï¼‰

          timeoutDuration: const Duration(seconds: 5), // âœ… ç½‘ç»œè¶…æ—¶æ—¶é—´

          loadedCallback: () {
            JobsPrint("âœ… å›¾ç‰‡åŠ è½½æˆåŠŸ");
          }, // âœ… å›¾ç‰‡åŠ è½½æˆåŠŸå›è°ƒ

          loadFailedCallback: () {
            JobsPrint("âŒ å›¾ç‰‡åŠ è½½å¤±è´¥");
          }, // âœ… å›¾ç‰‡åŠ è½½å¤±è´¥å›è°ƒ

          loadedFromDiskCacheCallback: () {
            JobsPrint("ğŸ’¾ ä»ç£ç›˜ç¼“å­˜åŠ è½½");
          }, // âœ… ä»ç£ç›˜ç¼“å­˜åŠ è½½æ—¶å›è°ƒ

          fallbackAssetImage: 'assets/backup.png', // âœ… åŠ è½½å¤±è´¥æ—¶ä½¿ç”¨çš„ asset å›¾ç‰‡ï¼ˆå¤‡é€‰ï¼‰

          fallbackImage: Uint8List.fromList(
              []), // âœ… åŠ è½½å¤±è´¥æ—¶ä½¿ç”¨çš„å†…å­˜å›¾ç‰‡ï¼ˆä¼˜å…ˆçº§ä½äº fallbackAssetImageï¼‰

          cacheRule: const CacheRule(
            maxAge: Duration(days: 7), // âœ… ç¼“å­˜æœ‰æ•ˆæ—¶é—´
            storeDirectory: StoreDirectoryType.document, // âœ… ç¼“å­˜ç›®å½•ä½ç½®
          ),

          loadingProgress: (received, total) {
            JobsPrint("ğŸ“¦ åŠ è½½ä¸­ï¼š$received / $total");
          }, // âœ… å®æ—¶åŠ è½½è¿›åº¦ï¼ˆå­—èŠ‚ï¼‰

          getRealUrl: () async {
            JobsPrint("ğŸ”— è·å–çœŸå® URL");
            return 'https://via.placeholder.com/150'; // âœ… åŠ¨æ€ URL è·å–é€»è¾‘ï¼ˆé‡å®šå‘æˆ–åŠ å¯†ï¼‰
          },

          preProcessing: (bytes) async {
            JobsPrint("ğŸ§ª ä¸‹è½½å‰å¤„ç†");
            return bytes; // âœ… ä¸‹è½½å‰å¯å¤„ç†å›¾ç‰‡æ•°æ®ï¼ˆå¦‚è§£å¯†ï¼‰
          },

          postProcessing: (bytes) async {
            JobsPrint("ğŸ§¼ å­˜å‚¨å‰å¤„ç†");
            return bytes; // âœ… å­˜å‚¨å‰å¤„ç†ï¼Œæ¯”å¦‚åŠ æ°´å°
          },

          printError: true, // âœ… æ˜¯å¦æ‰“å°åŠ è½½é”™è¯¯ä¿¡æ¯åˆ°æ§åˆ¶å°

          skipRetryStatusCode: const [404, 403], // âœ… é‡åˆ°è¿™äº›çŠ¶æ€ç å°±ä¸å†é‡è¯•ï¼ˆèŠ‚çœèµ„æºï¼‰

          id: 'custom_image_id', // âœ… å¯é€‰æ ‡è¯†ï¼Œç”¨äºè·Ÿè¸ªã€è°ƒè¯•æˆ–æ‰‹åŠ¨æ§åˆ¶ç¼“å­˜
        ),

        width: 200, // âœ… Widget æ˜¾ç¤ºçš„å®½åº¦
        height: 200, // âœ… Widget æ˜¾ç¤ºçš„é«˜åº¦
        fit: BoxFit.cover, // âœ… å¡«å……æ–¹å¼
      ),
    );
  }
}
```
</details>

#### 29.4ã€[**`flutter_cache_manager`**](https://pub.dev/packages/flutter_cache_manager)  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

<details>
<summary>flutter_cache_manager + Image.file</summary>

```dart
import 'dart:io';

import 'package:flutter/material.dart';
import 'package:flutter_cache_manager/flutter_cache_manager.dart';
import 'package:jobs_flutter_base_config/JobsDemoTools/JobsFlutterTools/JobsRunners/JobsGetXRunner.dart';

void main() => runApp(JobsGetRunner(const FileImageCacheDemo(),
    title: 'flutter_cache_manager + Image.file ç¤ºä¾‹'));

class FileImageCacheDemo extends StatelessWidget {
  const FileImageCacheDemo({super.key});

  final String imageUrl = 'https://via.placeholder.com/150'; // âœ… å›¾ç‰‡åœ°å€

  @override
  Widget build(BuildContext context) {
    return Center(
      child: FutureBuilder<File>(
        future: MyCustomCacheManager().getSingleFile(imageUrl), // âœ… è·å–ç¼“å­˜æ–‡ä»¶
        builder: (context, snapshot) {
          if (snapshot.connectionState == ConnectionState.waiting) {
            return Column(
              mainAxisAlignment: MainAxisAlignment.center,
              children: const [
                CircularProgressIndicator(), // âœ… åŠ è½½ä¸­
                SizedBox(height: 10),
                Text('æ­£åœ¨åŠ è½½å›¾ç‰‡...'),
              ],
            );
          } else if (snapshot.hasError) {
            debugPrint('åŠ è½½å¤±è´¥: ${snapshot.error}');
            return const Icon(Icons.error); // âœ… åŠ è½½å¤±è´¥
          } else if (snapshot.hasData) {
            final file = snapshot.data!;
            return Container(
              width: 200,
              height: 200,
              decoration: BoxDecoration(
                borderRadius: BorderRadius.circular(12),
                image: DecorationImage(
                  image: FileImage(file), // âœ… ä½¿ç”¨ç¼“å­˜æ–‡ä»¶æ˜¾ç¤ºå›¾ç‰‡
                  fit: BoxFit.cover,
                ),
              ),
            );
          } else {
            return const Text('æ— å›¾ç‰‡å¯æ˜¾ç¤º');
          }
        },
      ),
    );
  }
}

class MyCustomCacheManager extends CacheManager {
  static const String key = 'myCustomCache';
  static final MyCustomCacheManager _instance =
      MyCustomCacheManager._internal();

  factory MyCustomCacheManager() => _instance;

  MyCustomCacheManager._internal()
      : super(
          Config(
            key,
            stalePeriod: const Duration(days: 3),
            maxNrOfCacheObjects: 100,
            repo: JsonCacheInfoRepository(databaseName: key),
            fileService: HttpFileService(),
          ),
        );
}
```
</details>

#### 29.5ã€[**`octo_image`**](https://pub.dev/packages/octo_image)  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

```dart
/// TODO
```

#### 29.6ã€[**`FadeInImage`**](https://api.flutter.dev/flutter/widgets/FadeInImage-class.html) (by@[<font color=red>**Flutter**</font>.**SDK**](https://flutter.dev/)) <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

<details>
<summary>FadeInImage</summary>

```dart
import 'package:flutter/material.dart';
import 'package:jobs_flutter_base_config/JobsDemoTools/JobsFlutterTools/JobsRunners/JobsGetXRunner.dart';
/// FadeInImageæ˜¯ç³»ç»ŸåŸç”Ÿçš„SDK
void main() => runApp(JobsGetRunner(const FadeInImageDemo(), title: 'FadeInImage ç¤ºä¾‹'));

class FadeInImageDemo extends StatelessWidget {
  const FadeInImageDemo({super.key});

  @override
  Widget build(BuildContext context) {
    return Center(
      child: FadeInImage.assetNetwork(
        placeholder: 'assets/loading.png',               // âœ… æœ¬åœ°å ä½å›¾è·¯å¾„ï¼ˆéœ€å…ˆåœ¨ pubspec.yaml æ³¨å†Œï¼‰
        image: 'https://via.placeholder.com/300x200',     // âœ… ç½‘ç»œå›¾ç‰‡ URL

        width: 300,                                       // âœ… å®½åº¦
        height: 200,                                      // âœ… é«˜åº¦
        fit: BoxFit.cover,                                // âœ… å›¾ç‰‡å¡«å……æ–¹å¼

        fadeInDuration: const Duration(milliseconds: 500), // âœ… å›¾ç‰‡æ·¡å…¥æ—¶é—´
        fadeOutDuration: const Duration(milliseconds: 300), // âœ… å ä½å›¾æ·¡å‡ºæ—¶é—´

        imageErrorBuilder: (context, error, stackTrace) => // âœ… åŠ è½½å¤±è´¥æ—¶æ˜¾ç¤ºçš„ Widget
            const Icon(Icons.error, size: 48, color: Colors.red),

        alignment: Alignment.center,                      // âœ… å›¾ç‰‡å¯¹é½æ–¹å¼
        repeat: ImageRepeat.noRepeat,                     // âœ… æ˜¯å¦é‡å¤å›¾åƒ
        matchTextDirection: false,                        // âœ… æ˜¯å¦éµå¾ªæ–‡å­—æ–¹å‘ï¼ˆç”¨äº RTL è¯­è¨€ï¼‰
      ),
    );
  }
}

```
</details>

### 30ã€å–æ•´ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| è¡¨è¾¾å¼                             | ç»“æœ         | è¿”å›ç±»å‹ | å±äºå®ä¾‹æ–¹æ³• | è¯´æ˜                                                         |
| ---------------------------------- | ------------ | -------- | ------------ | ------------------------------------------------------------ |
| `3.7.toInt()`                      | `3`          | `int`    | âœ… æ˜¯         | double â†’ intï¼Œæˆªæ–­å°æ•°éƒ¨åˆ†                                   |
| `3.toDouble()`                     | `3.0`        | `double` | âœ… æ˜¯         | int â†’ double                                                 |
| `3.7.toString()`                   | `"3.7"`      | `String` | âœ… æ˜¯         | è½¬ä¸ºå­—ç¬¦ä¸²                                                   |
| `3.14159.toStringAsFixed(2)`       | `"3.14"`     | `String` | âœ… æ˜¯         | å››èˆäº”å…¥ä¿ç•™ 2 ä½å°æ•°å­—ç¬¦ä¸²                                  |
| `3.14159.toStringAsPrecision(4)`   | `"3.142"`    | `String` | âœ… æ˜¯         | ä¿ç•™ 4 ä½æœ‰æ•ˆæ•°å­—çš„å­—ç¬¦ä¸²                                    |
| `314.159.toStringAsExponential(3)` | `"3.142e+2"` | `String` | âœ… æ˜¯         | ç§‘å­¦è®¡æ•°æ³•å­—ç¬¦ä¸²<br>ğŸ”¹ä¿ç•™ 3 ä½æœ‰æ•ˆæ•°å­—ï¼š`3.142`ï¼ˆå››èˆäº”å…¥ï¼‰<br>ğŸ”¹æŒ‡æ•°æ˜¯ `+2`ï¼ˆå› ä¸º `3.142 Ã— 10Â² = 314.2`ï¼‰ |
| `int.parse("42")`                  | `42`         | `int`    | âŒ å¦         | String â†’ int                                                 |
| `double.parse("3.14")`             | `3.14`       | `double` | âŒ å¦         | String â†’ double                                              |
| `num.parse("5.5")`                 | `5.5`        | `num`    | âŒ å¦         | String â†’ è‡ªåŠ¨è¯†åˆ« int æˆ– double                              |

### 31ã€ğŸ§­ å¯ä»¥æ‰¿è½½ä¸€åˆ‡çš„**`WebViewWidget`** å·¥å…·æ¨¡ç‰ˆ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> æœ¬è´¨ä¸Šæ˜¯å¯¹ [**Flutter**](https://flutter.dev/) å®˜æ–¹çš„ `WebViewWidget`ï¼ˆæ¥è‡ª `webview_flutter` æ’ä»¶ï¼‰çš„ **äºŒæ¬¡å°è£…å¢å¼ºç‰ˆ**

<details>
  <summary>JobsReactiveWebView.dart</summary>

  ```dart
  import 'package:flutter/material.dart';
  import 'package:get/get.dart';
  import 'package:jobs_flutter_base_config/JobsDemoTools/JobsFlutterTools/JobsRunners/JobsGetXRunner.dart';
  import 'package:jobs_flutter_base_config/JobsDemoTools/JobsFlutterTools/JobsWebView/htmlContent.dart';
  import 'JobsWebViewWidget.dart'; // åŸå§‹ WebView ç»„ä»¶
  
  void main() {
    final html = htmlContent();
  
    runApp(JobsGetRunner.builder(
      title: 'JobsReactiveWebView',
      builder: (ctx) => Center(
        child: SingleChildScrollView(
          child: Column(
            children: [
              const SizedBox(height: 12),
              JobsReactiveWebView(
                html: html,
                showLoading: true,
                enableScrollListen: true,
                interceptLinks: true,
                onHeightChanged: (h) {
                  debugPrint("ğŸ“ WebView é«˜åº¦: $h");
                },
              ),
              const SizedBox(height: 16),
              const Text("âœ… WebView ä¸‹æ–¹å†…å®¹"),
            ],
          ),
        ),
      ),
    ));
  }
  
  class JobsReactiveWebView extends StatelessWidget {
    final String html;
    final double minHeight;
    final bool showLoading;
    final bool enableScrollListen;
    final bool interceptLinks;
    final void Function(double height)? onHeightChanged;
  
    const JobsReactiveWebView({
      super.key,
      required this.html,
      this.minHeight = 1,
      this.showLoading = false,
      this.enableScrollListen = false,
      this.interceptLinks = false,
      this.onHeightChanged,
    });
  
    @override
    Widget build(BuildContext context) {
      final RxDouble _height = 1.0.obs;
  
      return Obx(() => AnimatedContainer(
            duration: const Duration(milliseconds: 300),
            curve: Curves.easeInOut,
            height: _height.value < minHeight ? minHeight : _height.value,
            padding: const EdgeInsets.symmetric(horizontal: 12),
            child: JobsWebViewWidget(
              html: html,
              showLoading: showLoading,
              enableScrollListen: enableScrollListen,
              interceptLinks: interceptLinks,
              onHeightChanged: (h) {
                _height.value = h;
                onHeightChanged?.call(h); // é€šçŸ¥å¤–éƒ¨ç›‘å¬è€…ï¼ˆå¯é€‰ï¼‰
              },
            ),
          ));
    }
  }
  
  ```
  </details> 

<details>
  <summary>JobsWebViewWidget.dart</summary>

  ```dart
  import 'dart:async';
  import 'package:flutter/material.dart';
  import 'package:get/get.dart';
  import 'package:jobs_flutter_base_config/JobsDemoTools/JobsFlutterTools/JobsRunners/JobsGetXRunner.dart';
  import 'package:jobs_flutter_base_config/JobsDemoTools/Utils/JobsCommonUtil.dart';
  import 'package:webview_flutter/webview_flutter.dart';
  
  /// --------------------------------------------------------------------------
  /// ğŸ§© é€šç”¨ WebView ç»„ä»¶å°è£…ï¼šJobsUniversalWebView
  ///
  /// âœ… æ”¯æŒé™æ€ HTML æˆ–è¿œç¨‹ URL åŠ è½½ï¼ˆäºŒé€‰ä¸€ï¼‰
  /// âœ… æ”¯æŒå†…å®¹åŠ¨æ€é«˜åº¦ç›‘å¬ï¼ˆé€šè¿‡ body.scrollHeightï¼‰
  /// âœ… æ”¯æŒæ»šåŠ¨ç›‘å¬ï¼ˆwindow.onscrollï¼‰
  /// âœ… æ”¯æŒ a æ ‡ç­¾é“¾æ¥æ‹¦æˆªï¼ˆå†…éƒ¨è·³è½¬ï¼‰
  /// âœ… æ”¯æŒåŠ è½½é®ç½©æ˜¾ç¤ºï¼ˆshowLoadingï¼‰
  /// âœ… æ”¯æŒå¤–éƒ¨è·å– WebViewController
  ///
  /// ğŸ“Œ æ³¨ï¼šä¸å†ä¾èµ–ç‰¹å®š HTML DOM å…ƒç´ ï¼Œå¦‚ #appï¼Œæ›´é€šç”¨ç¨³å®š
  /// --------------------------------------------------------------------------
  
  // void main() => runApp(JobsGetRunner(
  //     JobsWebViewWidget(
  //       html: htmlContent(),
  //       showLoading: true,
  //       enableScrollListen: true,
  //       interceptLinks: true,
  //       onHeightChanged: (h) => JobsPrint('åŠ¨æ€é«˜åº¦ï¼š$h'),
  //       onScrollChanged: (top) => JobsPrint('æ»šåŠ¨ä½ç½®ï¼š$top'),
  //       onInterceptLink: (href) => JobsPrint('è¢«æ‹¦æˆªçš„é“¾æ¥ï¼š$href'),
  //     ),
  //     title: 'JobsWebViewWidget'));
  
  void main() => runApp(JobsGetRunner(
      JobsWebViewWidget(
        url: "https://flutter.dev",
        showLoading: true,
        onControllerCreated: (controller) async {
          final title = await controller.getTitle();
          JobsPrint("ç½‘é¡µæ ‡é¢˜ï¼š$title");
        },
      ),
      title: 'JobsWebViewWidget'));
  
  class JobsWebViewWidget extends StatefulWidget {
    final String? html;
    final String? url;
    final bool showLoading;
    final bool enableScrollListen;
    final bool interceptLinks;
    final Function(double height)? onHeightChanged;
    final Function(double scrollTop)? onScrollChanged;
    final Function(String interceptedUrl)? onInterceptLink;
    final Function(WebViewController controller)? onControllerCreated;
  
    const JobsWebViewWidget({
      super.key,
      this.html,
      this.url,
      this.showLoading = false,
      this.enableScrollListen = false,
      this.interceptLinks = false,
      this.onHeightChanged,
      this.onScrollChanged,
      this.onInterceptLink,
      this.onControllerCreated,
    });
  
    @override
    State<JobsWebViewWidget> createState() => _JobsUniversalWebViewState();
  }
  
  class _JobsUniversalWebViewState extends State<JobsWebViewWidget>
      with AutomaticKeepAliveClientMixin {
    late final WebViewController controller;
    bool isLoading = true;
  
    @override
    void initState() {
      super.initState();
  
      controller = WebViewController()
        ..setJavaScriptMode(JavaScriptMode.unrestricted)
        ..addJavaScriptChannel('Print', onMessageReceived: (message) {
          final msg = message.message;
  
          if (msg.startsWith("intercept:")) {
            widget.onInterceptLink?.call(msg.replaceFirst("intercept:", ""));
          } else {
            final top = double.tryParse(msg);
            if (top != null) {
              widget.onScrollChanged?.call(top);
            }
          }
        })
        ..setBackgroundColor(Colors.transparent)
        ..setNavigationDelegate(NavigationDelegate(
          onPageFinished: (url) async {
            await Future.delayed(const Duration(milliseconds: 300));
  
            if (widget.html != null) {
              // ç”¨ body.scrollHeight è·å–å†…å®¹é«˜åº¦
              try {
                final rawHeight =
                    await controller.runJavaScriptReturningResult('''
                  (function() {
                    return document.body.scrollHeight.toString();
                  })()
                ''');
                final cleaned = "$rawHeight".replaceAll(RegExp(r'[^0-9.]'), '');
                final height = double.tryParse(cleaned);
                if (height != null && height > 0) {
                  widget.onHeightChanged?.call(height + 20);
                }
              } catch (e) {
                debugPrint('âš ï¸ è·å–é¡µé¢é«˜åº¦å¤±è´¥ï¼š$e');
              }
            }
  
            // æ»šåŠ¨ç›‘å¬æ³¨å…¥
            if (widget.enableScrollListen) {
              controller.runJavaScript('''
                window.onscroll = function() {
                  var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
                  Print.postMessage(scrollTop.toString());
                };
              ''');
            }
  
            // é“¾æ¥æ‹¦æˆªæ³¨å…¥
            if (widget.interceptLinks) {
              controller.runJavaScript('''
                document.addEventListener('click', function(e) {
                  var target = e.target;
                  while (target && target.tagName !== 'A') {
                    target = target.parentElement;
                  }
                  if (target && target.tagName === 'A' && target.href) {
                    if (!target.href.startsWith("http")) {
                      e.preventDefault();
                      Print.postMessage("intercept:" + target.href);
                    }
                  }
                }, false);
              ''');
            }
  
            if (widget.showLoading) {
              setState(() => isLoading = false);
            }
          },
        ));
  
      widget.onControllerCreated?.call(controller);
  
      if (widget.html != null) {
        controller.loadHtmlString(_wrapHtml(widget.html!));
      } else if (widget.url != null) {
        controller.loadRequest(Uri.parse(widget.url!));
      }
    }
  
    String _wrapHtml(String body) {
      final screenHeight = Get.context?.mediaQuerySize.height ?? 1000;
      return '''
  <!DOCTYPE html>
  <html>
    <head>
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
      <style>
        * { margin: 0; padding: 0; }
        html, body {
          width: 100% !important;
          height: auto !important;
          overflow: auto !important;
          -webkit-user-select: none;
          user-select: none;
        }
        img {
          max-width: 100% !important;
          height: auto !important;
          max-height: ${screenHeight}px !important;
        }
        table {
          width: 100% !important;
          border-collapse: collapse !important;
        }
        table td, table th {
          border: 1px solid #000 !important;
          text-align: center;
          vertical-align: middle;
          padding: 4px;
        }
      </style>
    </head>
    <body>
      $body
    </body>
  </html>
  ''';
    }
  
    @override
    Widget build(BuildContext context) {
      super.build(context);
      return Stack(
        children: [
          WebViewWidget(controller: controller),
          if (widget.showLoading && isLoading)
            const Positioned.fill(
              child: ColoredBox(
                color: Colors.white,
                child: Center(child: CircularProgressIndicator()),
              ),
            ),
        ],
      );
    }
  
    @override
    bool get wantKeepAlive => true;
  }
  
  ```
  </details> 

### 32ã€å­—ç¬¦ä¸²æ“ä½œ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

* å¤šè¡Œå­—ç¬¦ä¸²è¯­æ³•

  > 1ï¸âƒ£ ä¸‰å¼•å·çš„ç›®çš„ï¼šæ¯ä¸€è¡Œçœç•¥éƒ½è¦åŠ å…¥çš„ `\n`ï¼ˆæ¢è¡Œç¬¦ï¼‰
  >
  > 2ï¸âƒ£ ç”¨ `'''` æ˜¯ Dart å®˜æ–¹æ¨èçš„**å¤šè¡Œæ–‡æœ¬æ‹¼æ¥æ–¹å¼**ï¼Œç‰¹åˆ«é€‚åˆ HTMLã€SQLã€JSON ç­‰ç»“æ„åŒ–æ¨¡æ¿å†…å®¹ï¼Œä¼˜é›…ã€ç®€æ´ã€æ— é¡»è½¬ä¹‰ã€‚

  | å†™æ³•             | ç¤ºä¾‹                 | è¯´æ˜                             |
  | ---------------- | -------------------- | -------------------------------- |
  | `'''å¤šè¡Œå†…å®¹'''` | `'''line1\nline2'''` | ä¸‰ä¸ªå•å¼•å·ï¼Œé€‚åˆå†…å®¹ä¸­å«æœ‰åŒå¼•å· |
  | `"""å¤šè¡Œå†…å®¹"""` | `"""line1\nline2"""` | ä¸‰ä¸ªåŒå¼•å·ï¼Œé€‚åˆå†…å®¹ä¸­å«æœ‰å•å¼•å· |

* å­—ç¬¦ä¸²æ‹¼æ¥

  ```dart
  extension StringAddExtension on String {
    String add(String suffix) => this + suffix;
  }
  ```

* æœªå®Œå¾…ç»­...

### 33ã€Dart.[**Flutter**](https://flutter.dev/).**`Future`** <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

* **`Future`** æœ‰ä¸‰ç§çŠ¶æ€ï¼š

  * `uncompleted` æœªå®Œæˆ
  * `completed with value` æˆåŠŸè¿”å›
  * `completed with error` å¼‚å¸¸è¿”å›

* **`Future`**/**`async`**/**`await`** ï¼š**Dart**ä¸»çº¿ç¨‹ï¼ˆä¹Ÿå« **UI isolate**ï¼‰ä¸Šçš„å¼‚æ­¥éé˜»å¡ï¼ˆéå¤šçº¿ç¨‹ï¼‰

* **åœ¨ Dart ä¸­ï¼Œä»»ä½•å‡½æ•°åªè¦åŠ äº† `async`ï¼Œå®ƒçš„è¿”å›ç±»å‹éƒ½ä¼šè¢«è‡ªåŠ¨è½¬æ¢ä¸º `Future` æˆ– `Future<T>`ï¼Œå“ªæ€•ä½ ä¸æ˜¾å¼å£°æ˜ `Future`**

* **`sync`**ã€**`sync`**ã€**`async*`**ã€**`async`**

  * **`sync`**ï¼ˆé»˜è®¤ï¼‰â€”â€” **åŒæ­¥å‡½æ•°**

    > * æŒ‰é¡ºåºä¸€è¡Œä¸€è¡Œæ‰§è¡Œï¼Œé˜»å¡å½“å‰çº¿ç¨‹ç›´åˆ°å®Œæˆã€‚
    > * è¿”å›æ™®é€šå€¼

    ```dart
    int add(int a, int b) {
      return a + b;
    }
    ```

  * **`async` **â€”â€” **å¼‚æ­¥å‡½æ•°ï¼ˆè¿”å› Futureï¼‰**

    > * è¡¨ç¤ºè¿™ä¸ªå‡½æ•°æ˜¯å¼‚æ­¥çš„ï¼Œå¯èƒ½åŒ…å« `await`ã€‚
    > * è¿”å›ç±»å‹æ˜¯ `Future<T>`ã€‚
    > * ä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹ï¼Œé€‚åˆç½‘ç»œè¯·æ±‚ã€ç£ç›˜ IO ç­‰è€—æ—¶ä»»åŠ¡ã€‚

    ```dart
    Future<String> fetchData() async {
      await Future.delayed(Duration(seconds: 1));
      return 'æ•°æ®åŠ è½½å®Œæˆ';
    }
    ```

  * **`sync*`** â€”â€” **åŒæ­¥ç”Ÿæˆå™¨ï¼ˆè¿”å› Iterableï¼‰**

    > - ç”¨äºé€æ­¥ç”Ÿæˆå¤šä¸ªå€¼ã€‚
    > - è¿”å› `Iterable<T>`
    > - ä½¿ç”¨ `yield` æˆ– `yield*` æ¥å‘å‡ºå€¼

    ```dart
    void main() {
      print('--- sync* ç¤ºä¾‹ ---');
    
      for (final value in countSync()) {
        print('sync* è¾“å‡º: $value');
      }
    
      print('--- sync* æ‰§è¡Œå®Œæ¯• ---');
    }
    
    Iterable<int> countSync() sync* {
      for (int i = 1; i <= 3; i++) {
        print('sync* yield å‰: $i');
        yield i;
        print('sync* yield å: $i');
      }
    }
    ```

    è¾“å‡ºç»“æœï¼ˆæ— å»¶è¿Ÿã€‚`sync*` æ˜¯åŒæ­¥æ‰§è¡Œçš„ï¼Œæ¯æ¬¡ `yield` äº§ç”Ÿä¸€ä¸ªå€¼ï¼Œä¸»çº¿ç¨‹é©¬ä¸Šå¤„ç†ã€‚ï¼‰ï¼š

    ```
    --- sync* ç¤ºä¾‹ ---
    sync* yield å‰: 1
    sync* è¾“å‡º: 1
    sync* yield å: 1
    sync* yield å‰: 2
    sync* è¾“å‡º: 2
    sync* yield å: 2
    sync* yield å‰: 3
    sync* è¾“å‡º: 3
    sync* yield å: 3
    --- sync* æ‰§è¡Œå®Œæ¯• ---
    ```

  * **`async*`** â€”â€” **å¼‚æ­¥ç”Ÿæˆå™¨ï¼ˆè¿”å› Streamï¼‰**

    > - ç”¨äºå¼‚æ­¥é€æ­¥ç”Ÿæˆå¤šä¸ªå€¼ã€‚
    > - è¿”å› `Stream<T>`ã€‚
    > - ä½¿ç”¨ `yield` æˆ– `yield*` æ¥å‘å‡ºå€¼ã€‚
    > - å¸¸ç”¨äº **WebSocket**ã€æ•°æ®æµç­‰åœºæ™¯ã€‚

    ```dart
    void main() async {
      print('--- async* ç¤ºä¾‹ ---');
    
      await for (final value in countAsync()) {
        print('async* è¾“å‡º: $value');
      }
    
      print('--- async* æ‰§è¡Œå®Œæ¯• ---');
    }
    
    Stream<int> countAsync() async* {
      for (int i = 1; i <= 3; i++) {
        print('async* yield å‰: $i');
        await Future.delayed(Duration(seconds: 1)); // æ¨¡æ‹Ÿè€—æ—¶
        yield i;
        print('async* yield å: $i');
      }
    }
    ```
    
    è¾“å‡ºç»“æœï¼ˆæ¯ç§’è¾“å‡ºä¸€æ¬¡ï¼‰ï¼š
    
    ```
    --- async* ç¤ºä¾‹ ---
    async* yield å‰: 1
    async* è¾“å‡º: 1
    async* yield å: 1
    async* yield å‰: 2
    async* è¾“å‡º: 2
    async* yield å: 2
    async* yield å‰: 3
    async* è¾“å‡º: 3
    async* yield å: 3
    --- async* æ‰§è¡Œå®Œæ¯• ---
    ```

* **`Future`** æ˜¯**å¾®ä»»åŠ¡ï¼ˆmicrotask queueï¼‰**ï¼Œ<font color=red>**ä¼šåœ¨åŒæ­¥ä»»åŠ¡å®Œæˆåæ‰§è¡Œ**</font>

  ```dart
  void main() {
    print("1");
    Future(() => print("2"));
    print("3");
  }
  // è¾“å‡ºé¡ºåºï¼š
  1
  3
  2 âœ…
  ```

* å†™æ³•æ¨¡æ¿

  * ğŸ§° ä¸€ç«™å¼ [**Flutter**](https://flutter.dev/) å­¦ä¹ æ¨¡æ¿ï¼ˆå…¨åŠŸèƒ½æ¼”ç¤ºï¼‰

    <details>
    <summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

    ```dart
    import 'dart:async';
    
    void main() async {
      print("ğŸŸ¢ ç¨‹åºå¼€å§‹");
    
      // âœ… 1. Future.valueï¼šç›´æ¥è¿”å›å·²å®Œæˆçš„å€¼ï¼ˆåŒæ­¥å˜å¼‚æ­¥ï¼‰
      Future<String>.value("âœ… value() ç«‹å³å®Œæˆ").then(print);
    
      // âœ… 2. Future.delayedï¼šå»¶è¿Ÿæ‰§è¡Œä»»åŠ¡
      Future.delayed(Duration(seconds: 1), () => "â³ 1ç§’åè¿”å›æ•°æ®").then(print);
    
      // âœ… 3. Future.errorï¼šæ„é€ ä¸€ä¸ªç«‹å³å¤±è´¥çš„ Future
      Future.error("âŒ error() æ„é€ é”™è¯¯")
          .catchError((e) => print("ğŸ§¯ æ•è· errorï¼š$e"));
    
      // âœ… 4. Future.microtaskï¼šä¼˜å…ˆçº§é«˜çš„å¾®ä»»åŠ¡
      Future.microtask(() => print("âš¡ microtask ä¼˜å…ˆæ‰§è¡Œ"));
    
      // âœ… 5. thenï¼šä»»åŠ¡å®Œæˆåç»§ç»­åšäº‹æƒ…
      fetchUserName().then((name) {
        print("ğŸ‘¤ ç”¨æˆ·åï¼š$name");
      });
    
      // âœ… 6. catchErrorï¼šæ•è· then ä¸­çš„å¼‚å¸¸
      fetchUserWithError().then((_) {
        print("âœ… æ­£å¸¸æ‰§è¡Œ");
      }).catchError((e) {
        print("ğŸ”¥ æ•è·åˆ°å¼‚å¸¸ï¼š$e");
      });
    
      // âœ… 7. whenCompleteï¼šæ— è®ºæˆåŠŸå¤±è´¥éƒ½ä¼šæ‰§è¡Œï¼ˆç±»ä¼¼ finallyï¼‰
      fetchUserName()
          .then((_) => print("ğŸŒˆ æˆåŠŸ"))
          .catchError((e) => print("âš ï¸ é”™è¯¯"))
          .whenComplete(() => print("ğŸ”š ä»»åŠ¡å®Œæˆ"));
    
      // âœ… 8. awaitï¼šè¯­æ³•ç³–ï¼Œæ›´æ¸…æ™°ï¼ˆæ³¨æ„ï¼šå¿…é¡»åœ¨ async å‡½æ•°ä¸­ï¼‰
      String age = await fetchUserAge();
      print("ğŸ‚ ç”¨æˆ·å¹´é¾„ï¼š$age");
    
      // âœ… 9. try-catch await é”™è¯¯å¤„ç†
      try {
        await fetchUserWithError();
      } catch (e) {
        print("ğŸ›‘ try-catch æ•è·é”™è¯¯ï¼š$e");
      }
    
      // âœ… 10. Future.waitï¼šå¹¶è¡Œå¤šä¸ª Future
      List<Future<String>> futures = [fetchUserName(), fetchUserAge()];
      List<String> results = await Future.wait(futures);
      print("ğŸ“¦ Future.wait ç»“æœï¼š$results");
    
      print("ğŸ”µ ç¨‹åºç»“æŸ");
    }
    
    // ===================== æ¨¡æ‹Ÿå¼‚æ­¥ä»»åŠ¡ ======================
    
    Future<String> fetchUserName() async {
      await Future.delayed(Duration(milliseconds: 500));
      return "Jobs";
    }
    
    Future<String> fetchUserAge() async {
      await Future.delayed(Duration(milliseconds: 300));
      return "28";
    }
    
    Future<void> fetchUserWithError() async {
      await Future.delayed(Duration(milliseconds: 300));
      throw "æ¨¡æ‹Ÿç½‘ç»œå¼‚å¸¸";
    }
    ```
    è¾“å‡ºç»“æœï¼š
    
    ```
    ğŸŸ¢ ç¨‹åºå¼€å§‹
    âš¡ microtask ä¼˜å…ˆæ‰§è¡Œ
    âœ… value() ç«‹å³å®Œæˆ
    â³ 1ç§’åè¿”å›æ•°æ®
    ğŸ‘¤ ç”¨æˆ·åï¼šJobs
    ğŸ”¥ æ•è·åˆ°å¼‚å¸¸ï¼šæ¨¡æ‹Ÿç½‘ç»œå¼‚å¸¸
    ğŸŒˆ æˆåŠŸ
    ğŸ”š ä»»åŠ¡å®Œæˆ
    ğŸ‚ ç”¨æˆ·å¹´é¾„ï¼š28
    ğŸ›‘ try-catch æ•è·é”™è¯¯ï¼šæ¨¡æ‹Ÿç½‘ç»œå¼‚å¸¸
    ğŸ“¦ Future.wait ç»“æœï¼š[Jobs, 28]
    ğŸ”µ ç¨‹åºç»“æŸ
    ```
    
    </details>
    
  * ğŸ“Œ æœ€å¸¸ç”¨å†™æ³•æ¨¡æ¿ï¼ˆæ¨èè®°ä½ï¼‰
  
    ```dart
    Future<T> someAsyncTask() async {
      try {
        // å¼‚æ­¥æ“ä½œ
        return await xxx;
      } catch (e) {
        // é”™è¯¯å¤„ç†
        throw e;
      }
    }
    ```
  
* åŒæ­¥ ğŸ†š å¼‚æ­¥

  * åŒæ­¥ ï¼ˆå¸¦é˜»å¡æ€§ï¼‰
  * å¼‚æ­¥ï¼ˆä¸å¸¦é˜»å¡æ€§ï¼‰ï¼šç±»ä¼¼äºCè¯­è¨€ä¸­çš„Blockï¼Œå…¶å®è¿˜æ˜¯ä¸€æ¡çº¿ç¨‹ï¼Œåªæ˜¯ç­‰å¾…å®Œæˆåç”¨å¤„ç†çš„ç»“æœ

### 34ã€Dart.[**Flutter**](https://flutter.dev/) å¤šçº¿ç¨‹ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> **åœ¨ Dart / [Flutter](https://flutter.dev/) ä¸­ï¼Œå”¯ä¸€æ”¯æŒçš„â€œå¤šçº¿ç¨‹â€æœºåˆ¶å°±æ˜¯ `Isolate`**ï¼Œæ²¡æœ‰åƒå…¶ä»–è¯­è¨€ï¼ˆ**Java**/**Kotlin**/**Swift**ï¼‰é‚£æ ·çš„çœŸæ­£**å¤šçº¿ç¨‹ï¼ˆå…±äº«å†…å­˜çº¿ç¨‹ï¼‰æœºåˆ¶**ã€‚
>
> ğŸš« ä¸ºä»€ä¹ˆ**Dart**æ²¡æœ‰ä¼ ç»Ÿå¤šçº¿ç¨‹ï¼Ÿ
>
> **Dart** ä¸ºäº†ä¿æŒå•çº¿ç¨‹äº‹ä»¶é©±åŠ¨æ¨¡å‹çš„**ç®€æ´æ€§ã€å®‰å…¨æ€§**ï¼Œé€‰æ‹©ç”¨ `Isolate` æ›¿ä»£ä¼ ç»Ÿå¤šçº¿ç¨‹ï¼š
>
> - é¿å…å…±äº«å†…å­˜å¼•èµ·çš„ç«äº‰é—®é¢˜
> - é¿å…çº¿ç¨‹é”ã€æ­»é”ç­‰é—®é¢˜
> - æ›´å®¹æ˜“åœ¨ç§»åŠ¨ç«¯è·¨å¹³å°å®ç°ï¼ˆ[**Android**](https://www.android.com/)/**iOS** ä¸€å¥—é€»è¾‘ï¼‰

* ğŸ§  [**Flutter**](https://flutter.dev/)  ä¸­çš„å¹¶å‘ç¼–ç¨‹æ–¹æ¡ˆæ¦‚è§ˆ

  | æ–¹å¼                                              | æ˜¯å¦å¤šçº¿ç¨‹                | æ˜¯å¦é˜»å¡ UI | ç”¨é€”                                                   |
  | ------------------------------------------------- | ------------------------- | ----------- | ------------------------------------------------------ |
  | âœ… æ™®é€šå¼‚æ­¥   **`Future/async/await`**             | âŒï¼ˆå•çº¿ç¨‹ï¼‰               | âŒ éé˜»å¡    | ç½‘ç»œè¯·æ±‚ã€å»¶æ—¶ã€æ–‡ä»¶è¯»å†™ç­‰å¼‚æ­¥æ“ä½œ                     |
  | **`Timer`**                                       | âŒï¼ˆå•çº¿ç¨‹ï¼‰               | âŒ éé˜»å¡    | å®šæ—¶å™¨ï¼ˆUIçº¿ç¨‹æ‰§è¡Œï¼‰                                   |
  | âœ… å¯†é›†è®¡ç®—   <font color=red>**`Isolate`**</font> | âœ…ï¼ˆå¤šçº¿ç¨‹ï¼‰               | âŒ éé˜»å¡    | å¯†é›†è®¡ç®—ã€è§£æå¤§æ–‡ä»¶ç­‰                                 |
  | âœ… å¯†é›†è®¡ç®—    **`compute()`**                     | âœ…ï¼ˆç®€åŒ–ç‰ˆ **`Isolate`**ï¼‰ | âŒ éé˜»å¡    | [**Flutter**](https://flutter.dev/) æ¨èçš„éš”ç¦»è®¡ç®—æ–¹æ³• |

  * **`Isolate`**

    * **`Isolate`** ä¸­çš„å‡½æ•°å¿…é¡»æ˜¯é¡¶çº§å‡½æ•°æˆ–é™æ€æ–¹æ³•ï¼ˆä¸èƒ½æ˜¯é—­åŒ…ï¼‰ã€‚

    * ä¸» **`Isolate`** å‘é€æ¶ˆæ¯ç»™å­ **`Isolate`** æ—¶ï¼Œéœ€è¦é€šè¿‡ **`SendPort`** å‘é€ã€‚

    * å­ **`Isolate`** æ¥æ”¶æ¶ˆæ¯æ—¶ï¼Œéœ€è¦é€šè¿‡ **`ReceivePort`** æ¥æ”¶ã€‚

    * ğŸ“¦ å®ç”¨åŒ…æ¨è

      | åŒ…å                                                         | ç”¨é€”è¯´æ˜                                                     |
      | ------------------------------------------------------------ | ------------------------------------------------------------ |
      | [**`flutter_isolate`**](https://pub.dev/packages/flutter_isolate) | å…è®¸åœ¨[**Flutter**](https://flutter.dev/) ä¸­åˆ›å»ºæ–°çš„ **isolate** å¹¶è¿è¡Œ `Dart` å…¥å£ |
      | [**`isolate_handler`**](https://pub.dev/packages/isolate_handler) | æ›´é«˜çº§çš„ **isolate** æ¶ˆæ¯è°ƒåº¦                                |
      | [**`worker_manager`**](https://pub.dev/packages/worker_manager) | ä»»åŠ¡æ±  + **Isolate** å°è£…å·¥å…·                                |

* âœ…  å¤æ‚å¹¶å‘ï¼šç¬¬ä¸‰æ–¹ä»»åŠ¡ç®¡ç†åº“

  * ğŸš€ å¸¸ç”¨ **Dart** å¹¶å‘ä»»åŠ¡ç®¡ç†åº“æ¨è

    | åº“å                                                         | ç®€ä»‹                                                         | ä¼˜åŠ¿                               | æ¨èæŒ‡æ•°       |
    | ------------------------------------------------------------ | ------------------------------------------------------------ | ---------------------------------- | -------------- |
    | [**`worker_manager`**](https://pub.dev/packages/worker_manager) | æ”¯æŒä»»åŠ¡æ± ã€è‡ªåŠ¨å–æ¶ˆã€å¹¶å‘æ§åˆ¶                               | âœ… é«˜å¹¶å‘ âœ… ç®€æ´æ˜“ç”¨ âœ… è‡ªåŠ¨ç®¡ç†     | â­â­â­â­â­          |
    | [**`isolate_handler`**](https://pub.dev/packages/isolate_handler) | å¤šé€šé“é€šä¿¡ï¼Œæ”¯æŒå¤š Isolate åè°ƒ                              | âœ… å¤šä»»åŠ¡é€šé“ âœ… å¯å¤ç”¨ Handler      | â­â­â­â­           |
    | [**`flutter_isolate`**](https://pub.dev/packages/flutter_isolate) | ä¸“ä¸º [**Flutter**](https://flutter.dev/) å°è£…çš„ Isolateï¼Œå¯æŒ‡å®š **Dart** å…¥å£ | âœ… æ”¯æŒä¼  context âœ… æ”¯æŒ asset è·¯å¾„ | â­â­â­            |
    | [**`easy_isolate`**](https://pub.dev/packages/easy_isolate)  | è½»é‡å°è£… Isolateï¼ŒAPI ç®€æ´å‹å¥½                               | âœ… ç®€æ´ API âœ… å•ä»»åŠ¡æ¨¡å‹            | â­â­â­            |
    | [**`simple_isolate`**](https://pub.dev/packages/simple_isolate) | æç®€å°è£…ï¼Œç®€åŒ– Isolate é€šä¿¡                                  | âœ… ä¸Šæ‰‹å¿« âœ… è½»é‡                    | â­â­             |
    | [**`isolate_bloc`**](https://pub.dev/packages/isolate_bloc)  | å°† bloc çŠ¶æ€ç®¡ç†ä¸ isolate ç»“åˆï¼Œé€‚åˆ BLoC é¡¹ç›®æ¶æ„ä½¿ç”¨      | âœ… è§£è€¦ âœ… å¤šçº¿ç¨‹ bloc æ¨¡å‹          | â­â­ï¼ˆç‰¹å®šåœºæ™¯ï¼‰ |

  * âœ… å®ç”¨åœºæ™¯å¯¹æ¯”

    | ä»»åŠ¡åœºæ™¯                               | æ¨èåº“                              |
    | -------------------------------------- | ----------------------------------- |
    | éœ€è¦ä»»åŠ¡é˜Ÿåˆ—/å¹¶å‘é™åˆ¶                  | `worker_manager` âœ…                  |
    | å¤šä¸ªä»»åŠ¡ä¹‹é—´éœ€é€šä¿¡/çŠ¶æ€åŒæ­¥            | `isolate_handler` âœ…                 |
    | éœ€è¦è°ƒç”¨è‡ªå®šä¹‰ **Dart** å…¥å£ï¼ˆå¤šæ–‡ä»¶ï¼‰ | `flutter_isolate` âœ…                 |
    | ç®€å•å°è£…ï¼Œåªæƒ³éš”ç¦»æ‰§è¡Œå‡½æ•°             | `easy_isolate` / `simple_isolate` âœ… |
    | å·²ä½¿ç”¨ Blocï¼Œå¸Œæœ›è„±ç¦»ä¸»çº¿ç¨‹é€»è¾‘        | `isolate_bloc` âœ…                    |

### 35ã€Dart.[**Flutter**](https://flutter.dev/).**Stream** <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> `Stream` å°±æ˜¯ä¸€ä¸ªå¯ä»¥ **æŒç»­å‘å‡ºæ•°æ®ï¼ˆå¼‚æ­¥äº‹ä»¶ï¼‰** çš„å¯¹è±¡ã€‚
>
> | ç‰¹æ€§     | `Future`                       | `Stream`                                    |
> | -------- | ------------------------------ | ------------------------------------------- |
> | æ•°æ®ä¸ªæ•° | **åªèƒ½æ¥æ”¶ä¸€æ¬¡ç»“æœï¼ˆå•ä¸ªå€¼ï¼‰** | **å¯ä»¥æ¥æ”¶å¤šä¸ªç»“æœï¼ˆäº‹ä»¶åºåˆ—ï¼‰**            |
> | ç”¨é€”     | å¼‚æ­¥ä»»åŠ¡çš„â€œå•æ¬¡å®Œæˆâ€           | å¼‚æ­¥äº‹ä»¶çš„â€œæŒç»­ç›‘å¬â€                        |
> | æ¥æ”¶æ–¹å¼ | `then()` æˆ– `await`            | `listen()` æˆ– `StreamBuilder`               |
> | ä¸¾ä¾‹     | ç½‘ç»œè¯·æ±‚ã€å»¶è¿Ÿæ“ä½œ             | èŠå¤©æ¶ˆæ¯æµã€å€’è®¡æ—¶ã€è¾“å…¥ç›‘å¬ã€**WebSocket** |
> | ç”Ÿå‘½å‘¨æœŸ | ä¸€æ¬¡æ€§                         | å¯ä»¥æ˜¯æŒç»­çš„ï¼ˆç›´åˆ°å…³é—­ï¼‰                    |

* **Stream** çš„åˆ†ç±»

  | ç±»å‹                           | ç‰¹ç‚¹                     | ç¤ºä¾‹                           |
  | ------------------------------ | ------------------------ | ------------------------------ |
  | **Single-subscription Stream** | åªèƒ½è¢«ç›‘å¬ä¸€æ¬¡           | ç½‘ç»œè¯·æ±‚ã€è¾“å…¥æ¡†ç›‘å¬           |
  | **Broadcast Stream**           | å¯ä»¥è¢«å¤šä¸ªç›‘å¬å™¨åŒæ—¶ç›‘å¬ | äº‹ä»¶æ€»çº¿ã€å¤šç»„ä»¶ç›‘å¬åŒä¸€äº‹ä»¶æº |

  <details>
  <summary>Single-subscription Stream</summary>

  ```dart
  void main() {
    // åˆ›å»ºä¸€ä¸ªå•è®¢é˜… Stream
    final stream = Stream<int>.fromIterable([1, 2, 3]);
  
    // ç¬¬ä¸€æ¬¡ç›‘å¬ âœ… æˆåŠŸ
    stream.listen((event) {
      print("ğŸ‘‚ ç¬¬ä¸€æ¬¡ç›‘å¬æ”¶åˆ°ï¼š$event");
    });
  
    // ç¬¬äºŒæ¬¡ç›‘å¬ âŒ ä¼šæŠ¥é”™
    Future.delayed(Duration(seconds: 1), () {
      stream.listen((event) {
        print("ğŸ‘‚ ç¬¬äºŒæ¬¡ç›‘å¬æ”¶åˆ°ï¼š$event");
      });
    });
  }
  ```
  ```
  ğŸ‘‚ ç¬¬ä¸€æ¬¡ç›‘å¬æ”¶åˆ°ï¼š1
  ğŸ‘‚ ç¬¬ä¸€æ¬¡ç›‘å¬æ”¶åˆ°ï¼š2
  ğŸ‘‚ ç¬¬ä¸€æ¬¡ç›‘å¬æ”¶åˆ°ï¼š3
  Unhandled exception:
  Bad state: Stream has already been listened to.
  ```

  </details>
  
  <details>
  <summary>Broadcast Stream</summary>

  ```dart
  void main() {
    // å°†å•è®¢é˜…æµè½¬æ¢ä¸ºå¹¿æ’­æµ
    final controller = StreamController<String>.broadcast();
  
    // ç›‘å¬å™¨ A
    controller.stream.listen((event) {
      print("ğŸ…°ï¸ A ç›‘å¬å™¨æ”¶åˆ°ï¼š$event");
    });
  
    // ç›‘å¬å™¨ B
    controller.stream.listen((event) {
      print("ğŸ…±ï¸ B ç›‘å¬å™¨æ”¶åˆ°ï¼š$event");
    });
  
    // æ·»åŠ æ•°æ®
    controller.add("Hello");
    controller.add("World");
  
    // å…³é—­æµ
    controller.close();
  }
  ```
  ```
  ğŸ…°ï¸ A ç›‘å¬å™¨æ”¶åˆ°ï¼šHello
  ğŸ…±ï¸ B ç›‘å¬å™¨æ”¶åˆ°ï¼šHello
  ğŸ…°ï¸ A ç›‘å¬å™¨æ”¶åˆ°ï¼šWorld
  ğŸ…±ï¸ B ç›‘å¬å™¨æ”¶åˆ°ï¼šWorld
  ```
  
  </details>
  
* **Stream** çš„ä½¿ç”¨æ–¹å¼

  ```dart
  // Widget ä¸­çš„ä½¿ç”¨ï¼šStreamBuilder
  StreamBuilder<int>(
    stream: countStream(),
    builder: (context, snapshot) {
      if (snapshot.hasData) {
        return Text("æ•°æ®ï¼š${snapshot.data}");
      } else {
        return CircularProgressIndicator();
      }
    },
  )
  ```

### 36ã€ğŸ§¬<font id=Widgetçš„ç”Ÿå‘½å‘¨æœŸ>**`Widget`**çš„ç”Ÿå‘½å‘¨æœŸ</font> <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

#### 36.1ã€**`StatefulWidget`** å’Œ **`StatelessWidget`** çš„å…³ç³» <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

* å…±åŒç‚¹

  > 1ï¸âƒ£ éƒ½ç»§æ‰¿è‡ª `Widget`ï¼ˆ[**Flutter**](https://flutter.dev/) æ‰€æœ‰ç»„ä»¶çš„åŸºç±»ï¼‰
  >
  > ```
  > Widget (æŠ½è±¡åŸºç±»)
  > â”œâ”€â”€ StatelessWidget  // æ— çŠ¶æ€ç»„ä»¶
  > â””â”€â”€ StatefulWidget   // æœ‰çŠ¶æ€ç»„ä»¶
  > ```
  >
  > 2ï¸âƒ£ éƒ½éœ€è¦é‡å†™ `build(BuildContext context)`
  >
  > 3ï¸âƒ£ éƒ½å¯ä»¥è¿”å›ä»»æ„ **`Widget`** æ ‘

* å…³é”®åŒºåˆ«

  | åŒºåˆ«é¡¹                  | `StatelessWidget`  | `StatefulWidget`                                       |
  | ----------------------- | ------------------ | ------------------------------------------------------ |
  | æ˜¯å¦æœ‰çŠ¶æ€å˜åŒ–          | âŒ æ— ï¼ˆæ„é€ æ—¶å®šæ­»ï¼‰ | âœ… æœ‰ï¼ˆçŠ¶æ€å­˜åœ¨äº `State` å¯¹è±¡ä¸­ï¼‰                      |
  | UI æ˜¯å¦å¯å˜             | âŒ ä¸€æ—¦åˆ›å»ºå°±å›ºå®š   | âœ… å¯é€šè¿‡ `setState()` åŠ¨æ€æ›´æ–°                         |
  | æ˜¯å¦æœ‰å¯¹åº”çš„ `State` ç±» | âŒ æ²¡æœ‰             | âœ… æœ‰ï¼ˆé€šè¿‡ `createState()` åˆ›å»ºï¼‰                      |
  | ç”Ÿå‘½å‘¨æœŸå¤æ‚åº¦          | ç®€å•               | æ›´å®Œæ•´ï¼ˆ**initState**ã€**dispose**ã€**didUpdate**...ï¼‰ |

#### 36.2ã€ğŸ§¬**`StatelessWidget`** çš„ç”Ÿå‘½å‘¨æœŸ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

- `StatelessWidget` ç”Ÿå‘½å‘¨æœŸéå¸¸çŸ­ï¼Œåªæœ‰ä¸€æ¬¡ `build` è°ƒç”¨ï¼š

  ```dart
  class MyWidget extends StatelessWidget {
    @override
    Widget build(BuildContext context) {
      print("build è°ƒç”¨");
      return Text('Hello');
    }
  }
  ```

#### 36.3ã€ğŸ§¬`StatefulWidget` çš„ç”Ÿå‘½å‘¨æœŸ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

 ```mermaid
 %% Flutter StatefulWidget ç”Ÿå‘½å‘¨æœŸï¼ˆå«ä¸­æ–‡æ³¨é‡Šï¼‰
 graph TD
   A[constructor<br>æ„é€ å‡½æ•°ï¼ˆåˆ›å»º Widget å®ä¾‹ï¼‰]
     --> B[createState<br>åˆ›å»º State å¯¹è±¡ï¼ˆåªè°ƒç”¨ä¸€æ¬¡ï¼‰]
   B --> C[initState<br>åˆå§‹åŒ–çŠ¶æ€ï¼ˆç›¸å½“äº iOS çš„ viewDidLoadï¼‰]
   C --> D[didChangeDependencies<br>ä¾èµ–æ”¹å˜æ—¶è°ƒç”¨ï¼ˆç¬¬ä¸€æ¬¡ä¹Ÿä¼šè°ƒç”¨ï¼‰]
   D --> E[build<br>æ„å»º UIï¼ˆæ¯æ¬¡ setState éƒ½ä¼šè§¦å‘ï¼‰]
   E --> F[setState<br>çŠ¶æ€æ›´æ–°ï¼Œè§¦å‘é‡æ–°æ„å»º build]
   F --> E
   E --> G[didUpdateWidget<br>çˆ¶ Widget æ›´æ–°å‚æ•°æ—¶è°ƒç”¨ï¼ˆä¾‹å¦‚ hot reloadï¼‰]
   G --> E
   E --> H[deactivate<br>ç»„ä»¶ä¸´æ—¶ä»æ ‘ä¸­ç§»é™¤ï¼ˆè¿˜æœªé”€æ¯ï¼‰]
   H --> I[dispose<br>ç»„ä»¶æ°¸ä¹…é”€æ¯ï¼Œé‡Šæ”¾èµ„æºï¼Œä¾‹å¦‚å–æ¶ˆç›‘å¬å™¨]
 ```

* **iOS** å’Œ [**Flutter**](https://flutter.dev/) ç”Ÿå‘½å‘¨æœŸå¯¹æ¯”è¡¨

  | iOS UIViewController | [**Flutter**](https://flutter.dev/) StatefulWidget | è¯´æ˜        |
  | -------------------- | -------------------------------------------------- | ----------- |
  | `init`               | `constructor`                                      | åˆå§‹åŒ–å¯¹è±¡  |
  | `viewDidLoad`        | `initState`                                        | é¡µé¢åŠ è½½    |
  | `viewWillAppear`     | `build` (æ¯æ¬¡åˆ·æ–°UI)                               | UI å³å°†å±•ç¤º |
  | `viewDidAppear`      | `build` å®Œæˆå UI å·²æ¸²æŸ“                           | -           |
  | `viewWillDisappear`  | `dispose`                                          | é”€æ¯å‰æ¸…ç†  |
  | `deinit`/`dealloc`   | `dispose`                                          | å†…å­˜å›æ”¶    |

* **`StatefulWidget`**ç”Ÿå‘½å‘¨æœŸä»£ç æ¨¡æ¿

  ```dart
  class MyPage extends StatefulWidget {
    const MyPage({super.key});
  
    @override
    State<MyPage> createState() => _MyPageState(); // åˆ›å»º State å®ä¾‹
  }
  
  class _MyPageState extends State<MyPage> {
  
    @override
    /// é€‚åˆåšä¸€æ¬¡æ€§åˆå§‹åŒ–ï¼Œä¾‹å¦‚è¯·æ±‚æ•°æ®ã€ç›‘å¬ã€‚
    void initState() {
      super.initState();  
      print('initState'); // ç±»ä¼¼ viewDidLoad
    }
  
    @override
    /// å½“ä¾èµ–çš„ InheritedWidget æ”¹å˜æ—¶ä¼šè§¦å‘ã€‚
    /// é€šå¸¸ä¼šåœ¨ç¬¬ä¸€æ¬¡ build å‰è¢«è°ƒç”¨ä¸€æ¬¡ã€‚
    void didChangeDependencies() {
      super.didChangeDependencies();
      print('didChangeDependencies'); 
    }
  
    @override
    /// æ¯æ¬¡ setState æ—¶éƒ½ä¼šé‡æ–°è°ƒç”¨ã€‚
    Widget build(BuildContext context) {
      print('build'); // ç±»ä¼¼ viewWillAppear -> viewDidAppear
      return Container();
    }
  
    @override
    /// å½“çˆ¶ Widget é‡æ–°åˆ›å»ºå¹¶ä¼ å…¥æ–°çš„å‚æ•°æ—¶è°ƒç”¨ã€‚
    void didUpdateWidget(covariant MyPage oldWidget) {
      super.didUpdateWidget(oldWidget);
      print('didUpdateWidget');
    }
  
    @override
    /// Widget ä¸´æ—¶ä»æ ‘ä¸­ç§»é™¤æ—¶è§¦å‘ï¼ˆä½†æœªé”€æ¯ï¼‰ã€‚
    void deactivate() {
      super.deactivate();
      print('deactivate');
    }
  
    @override
    /// æ°¸ä¹…é”€æ¯å‰è°ƒç”¨
    /// é€‚åˆå–æ¶ˆè®¡æ—¶å™¨ã€å…³é—­åŠ¨ç”»æ§åˆ¶å™¨ç­‰èµ„æº
    void dispose() {
      super.dispose();
      print('dispose'); // ç±»ä¼¼ viewWillDisappear + deinit
    }
  }
  ```

### 37ã€ğŸ§¬ <font id=Flutt.Appçš„ç”Ÿå‘½å‘¨æœŸ>[**Flutter**](https://flutter.dev/).**App**çš„ç”Ÿå‘½å‘¨æœŸ</font>ç›‘å¬ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

#### 37.1ã€æ··å…¥ï¼ˆmixinï¼‰è§‚å¯Ÿè€…ï¼š

```dart
class MyController extends GetxController with WidgetsBindingObserver
```

#### 37.2ã€æ·»åŠ è§‚å¯Ÿè€…ï¼š

```dart
@override
void onInit() {
  super.onInit();
  /// å‘äº‹ä»¶ä¸­å¿ƒæ³¨å†Œè‡ªå·±ï¼ˆé€šå¸¸æ˜¯ State æˆ– Controllerï¼‰ä¸ºâ€œè®¢é˜…è€…â€,ä½¿å¾—å¯ä»¥æ¥æ”¶ App ç”Ÿå‘½å‘¨æœŸå˜åŒ–çš„é€šçŸ¥ã€‚
  WidgetsBinding.instance.addObserver(this);
}
```

#### 37.3ã€ç›‘å¬å˜åŒ–ï¼š

```dart
@override
void didChangeAppLifecycleState(AppLifecycleState state) {
  switch (state) {
    case AppLifecycleState.inactive:
      // åº”ç”¨ç¨‹åºå¤„äºéæ´»åŠ¨çŠ¶æ€
      debugPrint('åº”ç”¨ç¨‹åºå¤„äºéæ´»åŠ¨çŠ¶æ€');
      break;
    case AppLifecycleState.paused:
      // åº”ç”¨ç¨‹åºå¤„äºåå°
      debugPrint('åº”ç”¨ç¨‹åºå¤„äºåå°');
      break;
    case AppLifecycleState.resumed:
      // åº”ç”¨ç¨‹åºå¤„äºå‰å°å¹¶å¯äº¤äº’
      debugPrint('åº”ç”¨ç¨‹åºå¤„äºå‰å°å¹¶å¯äº¤äº’');
      break;
    case AppLifecycleState.detached:
      // åº”ç”¨ç¨‹åºæ²¡æœ‰å…³è”çš„ Flutter å¼•æ“
      debugPrint('åº”ç”¨ç¨‹åºæ²¡æœ‰å…³è”çš„ Flutter å¼•æ“');
      break;
      /// Flutter 3.22ï¼ˆDart 3.3ï¼‰ ä¹‹åæ–°å¢ã€‚ä»…åœ¨ iOS å’Œ Android ä¸Šç”Ÿæ•ˆ
    case AppLifecycleState.hidden:
      // AppLifecycleState.hidden æ˜¯ Flutter ä¸­çš„ä¸€ä¸ªæšä¸¾å€¼ï¼Œå®ƒè¡¨ç¤ºåº”ç”¨ç¨‹åºçš„çŠ¶æ€åœ¨ iOS å¹³å°ä¸Šè¢«éšè—æ—¶çš„çŠ¶æ€ã€‚
      // å…·ä½“æ¥è¯´ï¼ŒAppLifecycleState.hidden æ˜¯åœ¨ iOS ä¸Šå½“ç”¨æˆ·æŒ‰ä¸‹ä¸»å±å¹•æŒ‰é’®æˆ–åˆ‡æ¢åˆ°å¦ä¸€ä¸ªåº”ç”¨ç¨‹åºæ—¶ï¼ŒFlutter åº”ç”¨ç¨‹åºè¿›å…¥åå°å¹¶ä¸”ä¸å†å¯è§çš„çŠ¶æ€ã€‚
      // åœ¨ Android å¹³å°ä¸Šæ²¡æœ‰å®Œå…¨å¯¹åº”çš„çŠ¶æ€ã€‚
      // åœ¨ Android ä¸Šï¼Œå½“åº”ç”¨ç¨‹åºè¿›å…¥åå°æ—¶ï¼Œé€šå¸¸ä¼šæ¥æ”¶åˆ° AppLifecycleState.paused çŠ¶æ€ã€‚
      debugPrint('Handle this case');
  }
  super.didChangeAppLifecycleState(state);
}
```

#### 37.4ã€ç§»é™¤è§‚å¯Ÿè€…ï¼š

```dart
@override
void onClose() {
  WidgetsBinding.instance.removeObserver(this);
  super.onClose();
}
```

### 38ã€[**Flutter**](https://flutter.dev/)åŸç”ŸåŠ¨ç”» <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> â• ç»„ä»¶ç±»ï¼ˆAnimatedXxxï¼‰
>
> â• åŠ¨ç”»æ§åˆ¶ç±»ï¼ˆAnimationController/Tweenï¼‰
>
> â• è¾…åŠ©ç±»ï¼ˆCurvesï¼‰
>
> â• åŠ¨ç”»åŸºç±»/æ¥å£ï¼ˆAnimationã€Ticker ç­‰ï¼‰

#### 38.1ã€ğŸŸ© éšå¼åŠ¨ç”»ç»„ä»¶ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| ç»„ä»¶å                          | æè¿°                                                 |
| ------------------------------- | ---------------------------------------------------- |
| `AnimatedContainer`             | å®½é«˜ã€é¢œè‰²ã€è¾¹è·ã€åœ†è§’ç­‰åŠ¨ç”»                         |
| `AnimatedOpacity`               | é€æ˜åº¦å˜åŒ–åŠ¨ç”»                                       |
| `AnimatedAlign`                 | å¯¹é½æ–¹å¼åŠ¨ç”»                                         |
| `AnimatedPadding`               | å†…è¾¹è·åŠ¨ç”»                                           |
| `AnimatedPositioned`            | `Stack` ä¸­çš„ç»å¯¹å®šä½åŠ¨ç”»                             |
| `AnimatedPositionedDirectional` | å¯¹åº” RTL æ”¯æŒçš„åŠ¨ç”»                                  |
| `AnimatedDefaultTextStyle`      | æ–‡å­—æ ·å¼å˜æ›´åŠ¨ç”»                                     |
| `AnimatedPhysicalModel`         | é˜´å½±ã€é¢œè‰²ã€å½¢çŠ¶å˜åŒ–åŠ¨ç”»                             |
| `AnimatedSize`                  | å†…å®¹å¤§å°å˜æ›´åŠ¨ç”»                                     |
| `AnimatedSwitcher`              | å­ç»„ä»¶åˆ‡æ¢åŠ¨ç”»ï¼ˆå¾ˆå¸¸ç”¨ï¼‰                             |
| `AnimatedCrossFade`             | ä¸¤ä¸ªå­ç»„ä»¶ä¹‹é—´æ·¡å…¥æ·¡å‡º                               |
| `AnimatedRotation`              | æ—‹è½¬åŠ¨ç”»ï¼ˆ[**Flutter**](https://flutter.dev/) 2.5+ï¼‰ |
| `AnimatedScale`                 | ç¼©æ”¾åŠ¨ç”»ï¼ˆ[**Flutter**](https://flutter.dev/) 2.5+ï¼‰ |
| `AnimatedSlide`                 | å¹³ç§»åŠ¨ç”»ï¼ˆ[**Flutter**](https://flutter.dev/) 2.5+ï¼‰ |
| `AnimatedIcon`                  | å†…ç½®å›¾æ ‡åŠ¨ç”»ï¼ˆå¦‚èœå• â‡„ è¿”å›ç®­å¤´ï¼‰                    |

#### 38.2ã€ğŸŸ¥ æ˜¾å¼åŠ¨ç”»æ ¸å¿ƒç±» <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| ç±»å                     | è¯´æ˜                                 |
| ------------------------ | ------------------------------------ |
| `AnimationController`    | æ§åˆ¶åŠ¨ç”»çš„æ’­æ”¾ï¼ˆå¯åŠ¨ã€æš‚åœã€åè½¬ç­‰ï¼‰ |
| `Animation<T>`           | åŠ¨ç”»å¯¹è±¡ï¼ˆå¯ç›‘å¬å½“å‰å€¼ï¼‰             |
| `Tween<T>`               | ä» A åˆ° B çš„æ•°å€¼/é¢œè‰²/åç§»å˜åŒ–       |
| `TweenSequence`          | è¿ç»­å¤šä¸ª Tween ç»„åˆ                  |
| `CurvedAnimation`        | æ›²çº¿åŒ…è£…å™¨ï¼Œå°†åŠ¨ç”»é™„åŠ æ›²çº¿           |
| `AnimatedBuilder`        | ç»‘å®šåŠ¨ç”»åˆ·æ–°çš„æ„å»ºå™¨ç»„ä»¶             |
| `AnimatedWidget`         | è‡ªå®šä¹‰åŠ¨ç”»ç»„ä»¶åŸºç±»                   |
| `AlwaysStoppedAnimation` | é™æ€åŠ¨ç”»å€¼                           |
| `ReverseAnimation`       | å€’åºåŠ¨ç”»åŒ…è£…å™¨                       |
| `ProxyAnimation`         | åŠ¨æ€ä»£ç†ä¸åŒåŠ¨ç”»                     |
| `TrainHoppingAnimation`  | åˆ‡æ¢åŠ¨ç”»åºåˆ—                         |

#### 38.3ã€ğŸ¬ è¿‡æ¸¡ï¼ˆTransitionï¼‰åŠ¨ç”»ç»„ä»¶ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> ç”¨äºæ„å»ºæ˜¾å¼åŠ¨ç”»

| Widget                         | åŠ¨ç”»ä½œç”¨               |
| ------------------------------ | ---------------------- |
| `FadeTransition`               | é€æ˜åº¦å˜åŒ–             |
| `SlideTransition`              | ä½ç§»åŠ¨ç”»               |
| `ScaleTransition`              | ç¼©æ”¾åŠ¨ç”»               |
| `SizeTransition`               | å°ºå¯¸å˜åŒ–               |
| `RotationTransition`           | æ—‹è½¬åŠ¨ç”»               |
| `AlignTransition`              | å¯¹é½æ–¹å¼åŠ¨ç”»           |
| `PositionedTransition`         | Stack ä¸­å®šä½åŠ¨ç”»       |
| `RelativePositionedTransition` | ç›¸å¯¹å®šä½ï¼ˆFlutter 3+ï¼‰ |

#### 38.4ã€âš™ï¸ åŠ¨ç”»æ§åˆ¶ç±» <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> æ§åˆ¶åŠ¨ç”»æ—¶é’Ÿï¼ˆTickerï¼‰

| ç±»/æ··å…¥                          | ç”¨é€”è¯´æ˜                          |
| -------------------------------- | --------------------------------- |
| `Ticker`                         | åŠ¨ç”»å¸§æ§åˆ¶å™¨ï¼ˆç”¨äºè®¡æ—¶/é©±åŠ¨åŠ¨ç”»ï¼‰ |
| `TickerFuture`                   | åŠ¨ç”»å®Œæˆæ—¶è¿”å›çš„ Future å¯¹è±¡      |
| `TickerProvider`                 | æä¾› Tickerï¼ˆæ¥å£ï¼‰               |
| `SingleTickerProviderStateMixin` | ä¸€ä¸ªæ§åˆ¶å™¨ä½¿ç”¨                    |
| `TickerProviderStateMixin`       | å¤šä¸ªæ§åˆ¶å™¨ä½¿ç”¨                    |

#### 38.5ã€ğŸŒ€æ›²çº¿å‡½æ•°ï¼ˆCurves ç±»ï¼‰ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| å¸¸ç”¨æ›²çº¿        | åŠ¨ç”»èŠ‚å¥          |
| --------------- | ----------------- |
| `linear`        | åŒ€é€Ÿ              |
| `easeIn`        | æ…¢æ…¢åŠ é€Ÿè¿›å…¥      |
| `easeOut`       | å…ˆå¿«åæ…¢          |
| `easeInOut`     | æ…¢è¿›æ…¢å‡º          |
| `bounceIn/Out`  | å¼¹ç°§åå¼¹æ•ˆæœ      |
| `elasticIn/Out` | æœ‰å¼¹æ€§çš„åŠ¨ç”»æ•ˆæœ  |
| `decelerate`    | å¿«å¼€å§‹æ…¢ç»“æŸ      |
| `fastOutSlowIn` | Material åŠ¨ç”»æ¨è |
| `cubic(...)`    | è‡ªå®šä¹‰è´å¡å°”æ›²çº¿  |

#### 38.6ã€ğŸš€  é¡µé¢åˆ‡æ¢åŠ¨ç”» <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| ç±»å               | åŠŸèƒ½è¯´æ˜                           |
| ------------------ | ---------------------------------- |
| `PageRouteBuilder` | è‡ªå®šä¹‰é¡µé¢åˆ‡æ¢åŠ¨ç”»                 |
| `Hero`             | é¡µé¢å…±äº«å…ƒç´ åŠ¨ç”»ï¼ˆç¼©æ”¾/ç§»åŠ¨ï¼‰      |
| `ModalRoute.of`    | å¯è·å–é¡µé¢åŠ¨ç”»è¿›åº¦ï¼Œæ§åˆ¶å¼¹å‡ºæ•ˆæœç­‰ |
| `buildTransitions` | å¯ override ä¿®æ”¹é»˜è®¤è·¯ç”±åˆ‡æ¢æ•ˆæœ   |

### 39ã€å®‰å…¨å–ï¼ˆğŸ“šå­—å…¸ï¼‰å€¼ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

```dart
/// å®‰å…¨è·å– Map ä¸­çš„å€¼ï¼Œæ”¯æŒç±»å‹æ¨æ–­ä¸é»˜è®¤å€¼
T? safeGet<T>(Map map, dynamic key, [T? defaultValue]) {
  final value = map[key];
  if (value is T) return value;
  return defaultValue;
}
```

<details>
<summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

```dart
void main() {
  Map<String, dynamic> user = {
    "name": "Jobs",
    "age": 30,
    "isVip": true,
  };

  // âœ… æ­£å¸¸è·å–
  String? name = safeGet<String>(user, "name");
  JobsPrint(name); // è¾“å‡º: Jobs

  // âœ… è·å–ä¸å­˜åœ¨å­—æ®µï¼Œè¿”å› null
  String? gender = safeGet<String>(user, "gender");
  JobsPrint(gender); // è¾“å‡º: null

  // âœ… è·å–ä¸å­˜åœ¨å­—æ®µï¼Œæä¾›é»˜è®¤å€¼
  String gender2 = safeGet<String>(user, "gender", "ç”·")!;
  JobsPrint(gender2); // è¾“å‡º: ç”·

  // âœ… ç±»å‹å®‰å…¨ï¼šä¸ä¼šè¿”å›é”™è¯¯ç±»å‹
  bool? vip = safeGet<bool>(user, "isVip");
  JobsPrint(vip); // è¾“å‡º: true

  // âŒ é”™è¯¯ç±»å‹ä¸ä¼šå¼ºè½¬ï¼šå®‰å…¨è¿”å›é»˜è®¤å€¼
  int? wrongType = safeGet<int>(user, "name", -1);
  JobsPrint(wrongType); // è¾“å‡º: -1
}
```
</details>

## å››ã€ğŸ“ƒå…¶ä»– <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

### 1ã€ğŸ“±å…³äº**iOS**æ¨¡æ‹Ÿå™¨ï¼ˆæœ€æ–°ç‰ˆæœ¬[**XCode**](https://developer.apple.com/xcode/)ï¼š16.4ï¼‰ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

* **iOS** æ¨¡æ‹Ÿå™¨æ— æ³•è¿è¡Œ **Profile** æ¨¡å¼çš„ [**Flutter**](https://flutter.dev/) APPï¼ˆåªæ”¯æŒ **Debug æ¨¡å¼è¿è¡Œ**ï¼‰
  
  > **Profile**/**Release** => åªèƒ½æ„å»º ARM æ¶æ„ï¼Œæ¨¡æ‹Ÿå™¨æ— æ³•è¿è¡Œ
  >
  > **iOS** æ¨¡æ‹Ÿå™¨ => macOS ä¸‹è¿è¡Œçš„ x86_64/arm64 æ¨¡æ‹Ÿç¯å¢ƒ
  
* è€ç‰ˆæœ¬çš„**iOS**æ¨¡æ‹Ÿå™¨çš„å…¼å®¹

  åœ¨è®¾å¤‡é€‰æ‹©å™¨é‡Œé¢ç‚¹é€‰äº†è¾ƒä½ç‰ˆæœ¬çš„**iOS**æ¨¡æ‹Ÿå™¨ï¼ˆæ¯”å¦‚è¯´ï¼šiPhone 7ï¼‰ï¼Œåªèƒ½é€šè¿‡å‘½ä»¤è¡Œè¿›è¡Œå®ä¾‹åŒ–å¹¶æ‰“å¼€

  ```shell
  xcrun simctl list devices | grep 'iPhone 7'
  xcrun simctl boot "iPhone 7"
  ```

  ![image-20250716131840500](./assets/README/image-20250716131840500.png)
  
* å‘½ä»¤è¡Œå”¤èµ·**iOS**æ¨¡æ‹Ÿå™¨

  ```shell
  open -a Simulator
  ```

* æŸ¥çœ‹`Command Line Tools`ç‰ˆæœ¬

  ```shell
  pkgutil --pkg-info=com.apple.pkg.CLTools_Executables
  ```

* æ‰“å°æ‰€æœ‰æ¨¡æ‹Ÿå™¨å®ä¾‹è·¯å¾„å’Œè®¾å¤‡åç§°

  ```shell
  xcrun simctl list devices -j | jq -r '.devices | to_entries[] | .value[] | select(.isAvailable == true) | "\(.name) (\(.state))\nâ†ªï¸  Path: ~/Library/Developer/CoreSimulator/Devices/\(.udid)\n"'
  ```

  æˆ–ï¼Œ

  ```shell
  xcrun simctl list devices | grep -E '^    ' | while read -r line; do
    name=$(echo "$line" | cut -d '(' -f1 | xargs)
    uuid=$(echo "$line" | grep -oE '[A-F0-9\-]{36}')
    echo "$name"
    echo "â†ªï¸  Path: ~/Library/Developer/CoreSimulator/Devices/$uuid"
    echo ""
  done
  ```

* æŸ¥çœ‹ç›®å‰æœ‰çš„**iOS**æ¨¡æ‹Ÿå™¨å®‰è£…åŒ…

  ```shell
  xcrun simctl list runtimes
  ```

* **iOS**æ¨¡æ‹Ÿå™¨ç›®å½•

  * ```shell
    ~/Library/Developer/CoreSimulator/Devices/
    ```

    > <font color=red>**æœ€å¸¸ç”¨çš„ç›®å½•**</font>
    >
    > ğŸ§¼ æ¸…ç†å»ºè®®ï¼šæ¸…ç† `~/Library/Developer/CoreSimulator/Devices/` å¯ä»¥é‡Šæ”¾å¤§é‡ç©ºé—´ï¼Œä½†ä¼šç§»é™¤æ‰€æœ‰æ¨¡æ‹Ÿå™¨çš„ App å®‰è£…æ•°æ®ã€‚
    >
    > **æ¯ä¸ªæ¨¡æ‹Ÿå™¨å®ä¾‹å¯¹åº”ä¸€ä¸ª UUID å­ç›®å½•**ã€‚å­ç›®å½•åŒ…å«è¯¥æ¨¡æ‹Ÿå™¨çš„æ‰€æœ‰æ•°æ®ï¼Œä¾‹å¦‚ï¼š
    >
    > - åº”ç”¨ç¨‹åºæ•°æ®ï¼ˆApp å®‰è£…åçš„å®¹å™¨ã€æ²™ç›’ï¼‰
    > - `data/` ç›®å½•é‡Œæœ‰æ¨¡æ‹Ÿå™¨çš„ `Documents`ã€`tmp`ã€`Library` ç­‰è·¯å¾„
    > - `device.plist` å­˜å‚¨äº†æ¨¡æ‹Ÿå™¨çš„é…ç½®ä¿¡æ¯ï¼ˆåç§°ã€ç³»ç»Ÿç‰ˆæœ¬ã€çŠ¶æ€ç­‰ï¼‰
    > - `logs/` ä¿å­˜äº†æ—¥å¿—
    >
    > å½“ä½ è¿è¡Œæ¨¡æ‹Ÿå™¨ã€å®‰è£…åº”ç”¨ã€æŸ¥çœ‹æ²™ç›’è·¯å¾„ï¼Œè®¿é—®çš„å°±æ˜¯è¿™ä¸ªç›®å½•ä¸­çš„å¯¹åº”è·¯å¾„ã€‚

  * ```
    ~/Library/Developer/CoreSimulator/Volumes/
    ```

    > ğŸ§¼ æ¸…ç†å»ºè®®ï¼š`Volumes/` é€šå¸¸ç©ºé—´ä¸å¤§ï¼Œ**å¯ä»¥ç›´æ¥åˆ é™¤**ï¼Œ[**XCode**](https://developer.apple.com/xcode/) ä¼šè‡ªåŠ¨é‡æ–°åˆ›å»ºã€‚
    >
    > * å­˜æ”¾æ¨¡æ‹Ÿå™¨ç”¨åˆ°çš„ **æŒ‚è½½å·ï¼ˆVolumesï¼‰æ•°æ®**ã€‚
    >
    > - ç”¨äºæ¨¡æ‹Ÿ **iOS è®¾å¤‡çš„ç£ç›˜ç»“æ„**ï¼ŒåŒ…æ‹¬ `/Volumes` ä¸­çš„æŒ‚è½½ç‚¹ã€‚
    > - ä¸€äº› App æˆ–ç³»ç»Ÿç»„ä»¶å¯èƒ½ä¼šåœ¨æ¨¡æ‹Ÿå™¨ä¸­è®¿é—® `/Volumes` è·¯å¾„ï¼ˆç±»ä¼¼ **macOS** ç£ç›˜æŒ‚è½½ï¼‰ï¼Œå°±ä¼šæŒ‚è½½æ­¤ç›®å½•ä¸­çš„æ•°æ®ã€‚
    >
    > ä¾‹å¦‚ï¼šæ¨¡æ‹Ÿå™¨è¿è¡Œä¸­ï¼Œå¦‚æœç”¨æˆ·æˆ– App å°è¯•æŒ‚è½½å¤–éƒ¨ç£ç›˜ï¼Œæˆ–åˆ›å»ºè™šæ‹Ÿç£ç›˜ï¼ˆå¦‚` .dmg` æ–‡ä»¶ï¼‰ï¼Œå°±å¯èƒ½æ˜ å°„åˆ°è¿™ä¸ªç›®å½•ã€‚
    >
    > ğŸ“Œ æ³¨æ„äº‹é¡¹ï¼š
    >
    > - é€šå¸¸è¿™ä¸ªç›®å½•åœ¨æœªç‰¹æ®Šä½¿ç”¨æŒ‚è½½å·çš„æ¨¡æ‹Ÿå™¨ä¸­æ˜¯ç©ºçš„ã€‚
    > - å¯è¢«æ¸…ç†ï¼Œ[**XCode**](https://developer.apple.com/xcode/) ä¼šåœ¨éœ€è¦æ—¶è‡ªåŠ¨é‡æ–°åˆ›å»ºã€‚

### 2ã€`/android/build.gradle`çš„é…ç½® <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

```Groovy
/// æ˜¾å¼å£°æ˜äº† Kotlin ç‰ˆæœ¬
buildscript {
    ext.kotlin_version = '1.8.22'
    repositories {
        google()
        mavenCentral()
    }
    dependencies {
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
    }
}

allprojects {
    repositories {
        google()
        mavenCentral()
    }
}

rootProject.buildDir = '../build'
subprojects {
    project.buildDir = "${rootProject.buildDir}/${project.name}"
}
subprojects {
    project.evaluationDependsOn(':app')
}

tasks.register("clean", Delete) {
    delete rootProject.buildDir
}
```

### 3ã€ğŸ¯ **Dart** å‘½åè§„åˆ™å¤§å…¨ï¼ˆå®˜æ–¹é£æ ¼æŒ‡å—ï¼‰ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| ç±»å‹            | å‘½åè§„åˆ™                                                     | æ ¼å¼ç¤ºä¾‹                             | æ˜¯å¦å…è®¸ä¸‹åˆ’çº¿ `_`  | æ˜¯å¦å…è®¸ `$`                                         |
| --------------- | ------------------------------------------------------------ | ------------------------------------ | ------------------- | ---------------------------------------------------- |
| ç±»å / æšä¸¾     | **å¸•æ–¯å¡å‘½åæ³•** PascalCaseï¼š<br><font color=red>**é¦–å­—æ¯å¤§å†™ï¼Œ<br/>æ¯ä¸ªå•è¯é¦–å­—æ¯ä¹Ÿå¤§å†™ï¼Œ<br/>ä¸è¦ç”¨ä¸‹åˆ’çº¿**</font> | `UserModel`, `MyApp`, `ActivityType` | âŒ ä¸èƒ½æœ‰ `_`        | âœ… å…è®¸<br/>ä½†<font color=red>**ä»…é™ç”Ÿæˆä»£ç **</font> |
| æ–¹æ³• / å‡½æ•°     | **é©¼å³°å‘½åæ³•** camelCase                                     | `fetchData()`, `onTap()`             | âŒ ä¸æ¨è            | âœ… å…è®¸ä½†å°‘è§                                         |
| å˜é‡ / æˆå‘˜å˜é‡ | **é©¼å³°å‘½åæ³•** camelCase                                     | `userName`, `isLoading`              | âœ… å…è®¸ `_`ï¼ˆç§æœ‰ï¼‰  | âœ… å…è®¸ä½†å°‘è§                                         |
| å¸¸é‡ï¼ˆé¡¶çº§ï¼‰    | **å…¨å¤§å†™ + ä¸‹åˆ’çº¿**                                          | `MAX_LENGTH`, `API_KEY`              | âœ… æ¨èä½¿ç”¨ `_` åˆ†éš” | âŒ ä¸å…è®¸                                             |
| æ–‡ä»¶å / è·¯å¾„   | **è›‡å½¢å‘½åæ³•** snake_caseï¼š<br><font color=red>**æ¯ä¸ªç©ºæ ¼çš†ä»¥åº•çº¿ï¼ˆ_ï¼‰å–ä»£çš„ä¹¦å†™é£æ ¼ï¼Œ<br/>ä¸”æ¯ä¸ªå•å­—çš„ç¬¬ä¸€ä¸ªå­—æ¯çš†ä¸ºå°å†™**</font> | `user_model.dart`, `home_page.dart`  | âœ… æ¨è              | âŒ ä¸æ¨è                                             |
| ç§æœ‰å˜é‡ / æ–¹æ³• | ä¸‹åˆ’çº¿å¼€å¤´<br>**åªåœ¨å½“å‰ Dart æ–‡ä»¶é‡Œèƒ½è®¿é—®ï¼Œå…¶ä»–æ–‡ä»¶å³ä½¿å¯¼å…¥äº†ä¹Ÿè®¿é—®ä¸åˆ°** | `_user`, `_fetchData()`              | âœ… å¿…é¡»ç”¨ `_`        | âŒ ä¸æ¨è                                             |

### 4ã€ğŸ—ºï¸ é‡å®šå‘æŠ€å·§  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> ä¿ç•™å¤šä¸ªæ„é€ æ–¹å¼ï¼ˆå¦‚ builder æ¨¡å¼ vs æ™®é€š child æ¨¡å¼ï¼‰ï¼›
>
> ä¿è¯åˆå§‹åŒ–é€»è¾‘åªå†™ä¸€ä»½ï¼›
>
> æ”¯æŒ `const` è°ƒç”¨ï¼ˆå‰ææ˜¯ `_internal` æ„é€ å‡½æ•°ä¹Ÿ `const`ï¼‰ï¼›

è°ƒç”¨ `Person('Tom')` å®é™…ä¸Šæ˜¯è°ƒç”¨ `Person._internal('Tom', 18)`ï¼›

```dart
class Person {
  final String name;
  final int age;
  /// âœ… å‘½åæ„é€ å‡½æ•°
  const Person._internal(this.name, this.age);
  /// å¦‚æœä»ä¸€ä¸ªæ„é€ å‡½æ•°â€œé‡å®šå‘â€åˆ°å¦ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå¿…é¡»ç”¨ :+ this(...) çš„æ–¹å¼ã€‚
  const Person(String name) : this._internal(name, 18);
}
```

### 5ã€ğŸ’¼ package <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

* **package:**è¿™ç§è·¯å¾„å‰ç¼€åªèƒ½ç”¨äº **`lib/` ç›®å½•ä¸‹çš„ Dart æ–‡ä»¶**ã€‚ è¡¨ç¤ºä» `pubspec.yaml` ä¸­å®šä¹‰çš„åŒ…æˆ–å½“å‰é¡¹ç›®çš„ `lib/` ç›®å½•å¼€å§‹å¼•ç”¨

  âŒ **ä¸èƒ½ä½¿ç”¨ `package:` çš„æƒ…å†µ**ï¼š

  | âŒ è·¯å¾„ç±»å‹          | åŸå› è¯´æ˜                                                     |
  | ------------------- | ------------------------------------------------------------ |
  | `assets/`           | ç”¨äºåŠ è½½èµ„æºï¼Œéœ€é€šè¿‡ `AssetImage` ç­‰æ–¹å¼åŠ è½½                 |
  | `lib/` ä»¥å¤–çš„æ–‡ä»¶å¤¹ | æ¯”å¦‚ `test/`ã€`bin/`ã€`web/`ã€`ios/`ã€`android/` ç­‰ä¸èƒ½è¢« `package:` å¼•ç”¨ |
  | `lib/` å¤– Dart æ–‡ä»¶ | æ¯”å¦‚ `tools/util.dart`ï¼Œä¸æ˜¯ `lib/` ä¸‹çš„æ— æ³•è¢« `package:` è®¿é—® |

### 6ã€ğŸ”¥[**Firebase**](https://firebase.google.com/?hl=zh-cn) <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

* [**Firebase**](https://firebase.google.com/?hl=zh-cn)ï¼š**Google æä¾›çš„ä¸€æ•´å¥—åç«¯äº‘æœåŠ¡å¹³å°**ï¼Œä¸“é—¨ä¸ºç§»åŠ¨ Appï¼ˆAndroid/iOSï¼‰ã€Web åº”ç”¨å¼€å‘è€…æä¾›â€œåç«¯å³æœåŠ¡â€ï¼ˆBaaSï¼‰èƒ½åŠ›

  > ğŸ“¦ ä¸€ä¸ªä¸éœ€è¦ä½ è‡ªå·±æ­æœåŠ¡å™¨ï¼Œå°±èƒ½æ‹¥æœ‰**æ¨é€é€šçŸ¥ã€ç”¨æˆ·ç™»å½•ã€æ•°æ®åº“ã€æ–‡ä»¶å­˜å‚¨ã€åˆ†æ**ç­‰åŠŸèƒ½çš„ä¸€ç«™å¼å¹³å°ã€‚
  >
  > <font>**è™½ç„¶[**Firebase**](https://firebase.google.com/?hl=zh-cn)è·¨å¹³å°æ”¯æŒiOSï¼Œä½†æ˜¯åœ¨Appleå¹³å°çš„æ¨é€éƒ½å¿…é¡»ä¸¥æ ¼éµå¾ªè‹¹æœçš„æ ‡å‡†è®¾å®šï¼ˆAPNsï¼‰ã€‚å³ï¼Œåœ¨APNsä¸Šè¿›è¡Œäº†äºŒæ¬¡å°è£…**</font>

  | åˆ†ç±»                                                         | æ¨¡å—åç§°                                     | åŠŸèƒ½è¯´æ˜                                |
  | ------------------------------------------------------------ | -------------------------------------------- | --------------------------------------- |
  | ğŸ”” æ¨é€é€šçŸ¥                                                   | Firebase Cloud Messagingï¼ˆFCMï¼‰              | å‘ Android/iOS/Web å‘é€é€šçŸ¥æ¶ˆæ¯         |
  | ğŸ” èº«ä»½è®¤è¯                                                   | Firebase Authentication                      | ç™»å½•æ³¨å†Œï¼ˆæ”¯æŒæ‰‹æœºå·ã€é‚®ç®±ã€Google ç­‰ï¼‰ |
  | ğŸ—„ï¸ æ•°æ®åº“                                                     | Firebase Realtime DatabaseFirebase Firestore | äº‘æ•°æ®åº“ï¼Œè‡ªåŠ¨åŒæ­¥åˆ°å®¢æˆ·ç«¯              |
  | ğŸ“¦ æ–‡ä»¶å­˜å‚¨                                                   | Firebase Storage                             | å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ç­‰ä¸Šä¼ ä¸‹è½½              |
  | ğŸ“Š åº”ç”¨åˆ†æ                                                   | Firebase Analytics                           | è®°å½•ç”¨æˆ·è¡Œä¸ºã€äº‹ä»¶åŸ‹ç‚¹åˆ†æ              |
  | ğŸ§ª å´©æºƒæŠ¥å‘Š                                                   | Firebase Crashlytics                         | æ•æ‰åº”ç”¨å´©æºƒæ—¥å¿—                        |
  | â˜ï¸ äº‘å‡½æ•°                                                     | Firebase Cloud Functions                     | å†™åç«¯ä»£ç çš„ Serverless å¹³å°            |
  | ğŸŒ æ‰˜ç®¡                                                       | Firebase Hosting                             | é™æ€ Web é¡µé¢æ‰˜ç®¡                       |
  | ğŸ” A/Bæµ‹è¯•<br/>ï¼ˆé€šè¿‡å¯¹æ¯”ä¸¤ä¸ªç‰ˆæœ¬ï¼ˆA å’Œ Bï¼‰æ¥æ‰¾å‡ºå“ªä¸€ä¸ªæ•ˆæœæ›´å¥½çš„å®éªŒæ–¹æ³•ã€‚ï¼‰ | Firebase Remote ConfigFirebase A/B Testing   | è¿œç¨‹åŠ¨æ€é…ç½®ï¼Œç”¨æˆ·å®éªŒæµ‹è¯•              |

  | å¹³å°    | æ”¯æŒ [**Firebase**](https://firebase.google.com/?hl=zh-cn) å—ï¼Ÿ |
  | ------- | ------------------------------------------------------------ |
  | Android | âœ… å…¨é¢æ”¯æŒ                                                   |
  | iOS     | âœ… å…¨é¢æ”¯æŒï¼ˆæ¨é€éœ€æ¥å…¥ APNsï¼‰                                |
  | Web     | âœ… æ”¯æŒ                                                       |
  | Flutter | âœ… æœ‰å®˜æ–¹ SDK æ”¯æŒ                                            |
  | Unity   | âœ… æ”¯æŒæ¸¸æˆå¼€å‘                                               |
  | C++     | âœ… æ”¯æŒéƒ¨åˆ†æ¨¡å—                                               |

### 7ã€ğŸ“‚**Dart**.[**Flutter**](https://flutter.dev/)ç³»ç»Ÿæ–‡ä»¶ç›®å½• <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

#### 7.1ã€`~/.pub-cache/hosted/pub.dev/`

* å­˜æ”¾ä» [**pub.dev**](https://pub.dev) ä¸‹è½½çš„æ‰€æœ‰ä¾èµ–åŒ…æºç ï¼ˆåŒ…æ‹¬ç‰ˆæœ¬å·ï¼‰

* ğŸ‰‘åˆ é™¤ï¼Œæ“ä½œåä¸ä¼šå½±å“å½“å‰é¡¹ç›®ï¼›**ä¸‹æ¬¡è¿è¡Œ `flutter pub get` ä¼šé‡æ–°è”ç½‘ä¸‹è½½æ‰€æœ‰ä¾èµ–**ï¼›

  * ```shell
    /// è‡ªåŠ¨æ¸…é™¤æŸåçš„åŒ…ï¼›
    /// æ£€æŸ¥ä¾èµ–å®Œæ•´æ€§ï¼›
    /// é‡æ–°ä¸‹è½½ä¸¢å¤±çš„æˆ–æŸåçš„åŒ…ï¼›
    flutter pub cache repair
    ```

  * ```shell
    rm -rf ~/.pub-cache/hosted/pub.dev/*
    flutter pub get
    ```

  | é¡¹ç›®             | `flutter pub cache repair`    | `rm -rf ~/.pub-cache/hosted/pub.dev/* && flutter pub get` |
  | ---------------- | ----------------------------- | --------------------------------------------------------- |
  | âœ… æ˜¯å¦æ¸…é™¤ç¼“å­˜   | âœ”ï¸ æ¸…é™¤æŸå/å¼‚å¸¸çš„åŒ…ï¼ˆé€‰æ‹©æ€§ï¼‰ | âœ”ï¸ å…¨éƒ¨æ¸…é™¤ï¼ˆæš´åŠ›åˆ ï¼‰                                      |
  | âœ… æ˜¯å¦é‡æ–°ä¸‹è½½   | âœ”ï¸ ä»…ä¸‹è½½ç¼ºå¤±æˆ–æŸåçš„åŒ…        | âœ”ï¸ å…¨éƒ¨é‡æ–°ä¸‹è½½                                            |
  | âœ… æ˜¯å¦ä¿ç•™æ­£å¸¸åŒ… | âœ”ï¸ ä¼šä¿ç•™æœªæŸåçš„åŒ…            | âŒ å…¨éƒ¨åˆ é™¤                                                |
  | âœ… å®‰å…¨æ€§         | âœ”ï¸ å®˜æ–¹æ”¯æŒï¼Œä¿å®ˆä¿®å¤          | âš ï¸ æœ‰é£é™©ï¼Œå®Œå…¨æ¸…ç©ºï¼Œä¾èµ–å…¨éƒ¨é‡æ‹‰                          |
  | âœ… ä½¿ç”¨åœºæ™¯       | ä¾èµ–å¼‚å¸¸ã€ä¸‹è½½ä¸­æ–­ã€æ„å»ºå¤±è´¥  | å½»åº•æ¸…ç†åé‡å»ºç¼“å­˜ã€è§£å†³æç«¯å†²çª                          |

#### 7.2ã€`~/.pub-cache/`

| è·¯å¾„                           | è¯´æ˜                                                  | æ˜¯å¦å¯åˆ                              |
| ------------------------------ | ----------------------------------------------------- | ------------------------------------ |
| `~/.pub-cache/hosted/pub.dev/` | æ¥è‡ª pub.dev çš„æ‰€æœ‰ Dart åŒ…ç¼“å­˜                       | âœ… å¯åˆ ï¼Œ`pub get` ä¼šè‡ªåŠ¨æ¢å¤         |
| `~/.pub-cache/git/`            | é€šè¿‡ Git å®‰è£…çš„åŒ…                                     | âœ… å¯åˆ ï¼Œè‡ªåŠ¨æ¢å¤                     |
| `~/.pub-cache/bin/`            | å…¨å±€å®‰è£…çš„ Dart å‘½ä»¤è¡Œå·¥å…·ï¼ˆå¦‚ `webdev`, `melos` ç­‰ï¼‰ | âš ï¸ æ…åˆ ï¼Œåˆ äº†è¦é‡æ–°` global activate` |
| `~/.pub-cache/_temp/`          | ä¸´æ—¶ä¸‹è½½ç¼“å­˜                                          | âœ… å®‰å…¨æ¸…ç†                           |

#### 7.3ã€`~/.flutter/`

| è·¯å¾„          | è¯´æ˜                                                | æ˜¯å¦å¯åˆ                               |
| ------------- | --------------------------------------------------- | ------------------------------------- |
| `~/.flutter/` | **Flutter** å·¥å…·ç¼“å­˜ï¼ˆä¾‹å¦‚ Flutter Web çš„è°ƒè¯•èµ„æºï¼‰ | âœ… å¯åˆ ï¼Œè¿è¡Œä»»ä½• `flutter` å‘½ä»¤ä¼šé‡å»º |

#### 9.4ã€`~/Library/Flutter/` ï¼ˆæŒ‰éœ€å‡ºç°ï¼Œéå¿…å¤‡ï¼‰

> è¿™ä¸ªç›®å½•åªæœ‰åœ¨ä½ æ»¡è¶³ä»¥ä¸‹æ¡ä»¶æ—¶æ‰ä¼šå‡ºç°ï¼š
>
> | æ¡ä»¶                                                         | æè¿°                                                |
> | ------------------------------------------------------------ | --------------------------------------------------- |
> | ä½¿ç”¨ macOS ä¸”æ‰§è¡Œè¿‡ `flutter precache`                       | ä¼šæ‹‰å–ä¸€äº› Flutter tools ç¼“å­˜åˆ° `~/Library/Flutter` |
> | ä½¿ç”¨è¿‡ **Flutter** Web / Desktop                             | æŸäº›æ„å»ºäº§ç‰©å¯èƒ½ä¼šç¼“å­˜åˆ°è¿™é‡Œ                        |
> | å®‰è£…äº†æŸäº› **Flutter** æ’ä»¶ï¼ˆå¦‚ [**Firebase CLI**](https://firebase.google.com/docs/cli?hl=zh-cn)ï¼‰ | å¯èƒ½å†™å…¥é…ç½®æ–‡ä»¶                                    |
>
> ğŸ‘‰ **æ²¡ä½¿ç”¨æˆ–æœªè§¦å‘ä»¥ä¸Šè¡Œä¸ºï¼Œè¯¥è·¯å¾„å°±ä¸ä¼šåˆ›å»ºã€‚**

| è·¯å¾„                 | è¯´æ˜                          | æ˜¯å¦å¯åˆ                            |
| -------------------- | ----------------------------- | ---------------------------------- |
| `~/Library/Flutter/` | macOS ä¸“å±çš„ Flutter å·¥å…·ç¼“å­˜ | âœ… å¯åˆ ï¼ŒFlutter ä¼šé‡æ–°æ‹‰å–æ‰€éœ€å·¥å…· |

#### 7.5ã€`~/.dart/`

> **Dart** CLI çš„ç¼“å­˜ç›®å½•ï¼Œåªæœ‰åœ¨ä»¥ä¸‹æƒ…å†µå‡ºç°æ—¶æ‰ä¼šç”Ÿæˆï¼š
>
> | æ¡ä»¶                                          | æè¿°                                |
> | --------------------------------------------- | ----------------------------------- |
> | ç‹¬ç«‹å®‰è£…è¿‡ **Dart.SDK**ï¼ˆé Flutter è‡ªå¸¦ï¼‰    | ä¾‹å¦‚é€šè¿‡ `brew install dart`        |
> | ä½¿ç”¨ **Dart** CLI åˆ›å»ºé¡¹ç›®æˆ–æ‰§è¡Œè¿‡ `dart pub` | å¦‚ `dart create`ã€`dart run` ç­‰å‘½ä»¤ |
> | ä½¿ç”¨ `dart pub global activate` å®‰è£…è¿‡å…¨å±€åŒ…  | å¦‚ `melos`ã€`webdev` ç­‰å·¥å…·         |
>
> ğŸ‘‰ **å¦‚æœä½ æ˜¯é€šè¿‡ Flutter å®‰è£…çš„ Dartï¼Œå¹¶ä¸”ä¸€ç›´æ˜¯ç”¨ `flutter pub`ï¼Œé‚£è¿™ä¸ªç›®å½•å‹æ ¹ä¸ä¼šåˆ›å»ºã€‚**

| è·¯å¾„       | è¯´æ˜                                           | æ˜¯å¦å¯åˆ                                            |
| ---------- | ---------------------------------------------- | -------------------------------------------------- |
| `~/.dart/` | Dart SDK å’Œ tools çš„ç¼“å­˜ï¼ˆéƒ¨åˆ†ç‰ˆæœ¬ä¾èµ–æ­¤ç›®å½•ï¼‰ | âš ï¸ æ…åˆ ï¼Œå¦‚æœä½ ä½¿ç”¨ dart CLI é¢‘ç¹åˆ‡æ¢ SDKï¼Œå»ºè®®ä¿ç•™ |

### 8ã€ğŸ“‚**Dart.Flutteré¡¹ç›®æ–‡ä»¶ï¼ˆå¤¹ï¼‰** <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

  * <font color=red>å¦‚æœ`./android`æˆ–è€…`./ios`ç›®å½•æŸå®³ï¼Œåº”è¯¥ç”±[**Flutter**](https://flutter.dev/)è‡ªåŠ¨ç”Ÿæˆï¼ˆå®šä½åˆ°[**Flutter**](https://flutter.dev/)é¡¹ç›®æ ¹ç›®å½•ï¼Œæ‰§è¡ŒğŸ‘‰ï¼‰ï¼š`flutter create .`</font>

  * [**FVMï¼ˆ<font color=red>F</font>lutter <font color=red>V</font>ersion <font color=red>M</font>anagementï¼‰** ](https://fvm.app/) ç›¸å…³

    | è·¯å¾„                         | è¯´æ˜                                                         | æ˜¯å¦å¯åˆ                        |
    | ---------------------------- | ------------------------------------------------------------ | ------------------------------ |
    | `~/.fvm/`                    | [**FVM** ](https://fvm.app/) çš„æ‰€æœ‰ SDK å­˜æ”¾åœ°               | âš ï¸ æ…åˆ ï¼Œåˆ äº†æ—§ç‰ˆæœ¬å°±æ— æ³•ä½¿ç”¨   |
    | `.fvm/flutter_sdk`ï¼ˆé¡¹ç›®å†…ï¼‰ | æŒ‡å‘ [**FVM** ](https://fvm.app/)çš„[**Flutter**](https://flutter.dev/).SDK çš„è½¯é“¾æ¥ | âœ… æ¸…ç†å‰ç¡®ä¿ä¸æ˜¯å½“å‰é¡¹ç›®ä½¿ç”¨ä¸­ |

  * `analysis_options.yaml` 

    > æ˜¯ä¸€ä¸ªä¸ **Dart** è¯­è¨€å¼€å‘ç›¸å…³çš„æ–‡ä»¶ï¼Œå®ƒé€šå¸¸ç”¨äºé…ç½® **Dart** ä»£ç çš„é™æ€åˆ†æå’Œä»£ç é£æ ¼æ£€æŸ¥å·¥å…·ï¼›
    >
    > 1ï¸âƒ£ è¿™ä¸ªæ–‡ä»¶å®šä¹‰äº†ä¸€ç³»åˆ—çš„è§„åˆ™å’Œé…ç½®ï¼Œä»¥æŒ‡å¯¼é™æ€åˆ†æå·¥å…·ï¼ˆå¦‚ Dart Analyzerï¼‰å’Œä»£ç é£æ ¼æ£€æŸ¥å·¥å…·ï¼ˆå¦‚ Dart Linterï¼‰åœ¨æ£€æŸ¥ Dart ä»£ç æ—¶åº”è¯¥éµå¾ªçš„è§„èŒƒå’Œè¡Œä¸ºã€‚
    >
    > 2ï¸âƒ£ åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œå¯ä»¥é…ç½®è®¸å¤šä¸åŒçš„é€‰é¡¹ã€‚æ¯”å¦‚ï¼šä»£ç æ ¼å¼åŒ–è§„åˆ™ã€ä»£ç é£æ ¼è§„èŒƒã€ä»£ç è´¨é‡æ£€æŸ¥è§„åˆ™ç­‰ï¼›
    >
    > 3ï¸âƒ£ è¿™ä¸ªæ–‡ä»¶å¯ä»¥å¸®åŠ©å›¢é˜Ÿç¡®ä¿ä»–ä»¬çš„ **Dart** ä»£ç åœ¨è¯­æ³•ã€é£æ ¼å’Œè´¨é‡æ–¹é¢éƒ½ä¿æŒä¸€è‡´æ€§ï¼Œå¹¶ä¸”ç¬¦åˆå›¢é˜Ÿæˆ–é¡¹ç›®çš„è§„èŒƒï¼Œç¡®ä¿å›¢é˜Ÿçš„ä»£ç è´¨é‡å’Œä¸€è‡´æ€§ï¼›
    >
    > 4ï¸âƒ£ ä¸€ä¸ªå…¸å‹çš„ `analysis_options.yaml` æ–‡ä»¶å¯èƒ½åŒ…å«è¯¸å¦‚ä»¥ä¸‹å†…å®¹çš„é…ç½®ï¼š
    >
    > * ä»£ç é£æ ¼è§„èŒƒï¼Œæ¯”å¦‚ç¼©è¿›ã€ç©ºæ ¼ä½¿ç”¨ã€å‘½åçº¦å®šç­‰ï¼›
    > * é™æ€åˆ†æå·¥å…·çš„é…ç½®ï¼Œæ¯”å¦‚æ˜¯å¦å¯ç”¨å¼ºç±»å‹æ£€æŸ¥ã€æœªä½¿ç”¨çš„å˜é‡è­¦å‘Šç­‰ï¼›
    > * ä»£ç è´¨é‡æ£€æŸ¥è§„åˆ™ï¼Œæ¯”å¦‚æœªä½¿ç”¨çš„ä»£ç ã€ä¸å®‰å…¨çš„æ“ä½œç­‰ï¼›
    > * é¡¹ç›®ç‰¹å®šçš„è§„åˆ™å’Œé…ç½®ï¼Œæ¯”å¦‚ç¦ç”¨ç‰¹å®šçš„è­¦å‘Šã€è‡ªå®šä¹‰ä»£ç æ ¼å¼åŒ–ç­‰ï¼›

    ```yaml
    # This file configures the analyzer, which statically analyzes Dart code to
    # check for errors, warnings, and lints.
    #
    # The issues identified by the analyzer are surfaced in the UI of Dart-enabled
    # IDEs (https://dart.dev/tools#ides-and-editors). The analyzer can also be
    # invoked from the command line by running `flutter analyze`.
    
    # The following line activates a set of recommended lints for Flutter apps,
    # packages, and plugins designed to encourage good coding practices.
    analyzer:
      errors:
        # è­¦å‘Šå¿½ç•¥ï¼šåœ¨å…¬å…± API ä¸­ä½¿ç”¨ç§æœ‰ç±»å‹
        library_private_types_in_public_api: ignore
    include: package:flutter_lints/flutter.yaml
    
    linter:
      # The lint rules applied to this project can be customized in the
      # section below to disable rules from the `package:flutter_lints/flutter.yaml`
      # included above or to enable additional rules. A list of all available lints
      # and their documentation is published at https://dart.dev/lints.
      #
      # Instead of disabling a lint rule for the entire project in the
      # section below, it can also be suppressed for a single line of code
      # or a specific dart file by using the `// ignore: name_of_lint` and
      # `// ignore_for_file: name_of_lint` syntax on the line or in the file
      # producing the lint.
      rules:
        # avoid_print: false  # Uncomment to disable the `avoid_print` rule
        # prefer_single_quotes: true  # Uncomment to enable the `prefer_single_quotes` rule
    
    # Additional information about this file can be found at
    # https://dart.dev/guides/language/analysis-options
    ```

  * `pubspec.yaml` 

    > æ˜¯ Dart è¯­è¨€ä¸­ç”¨äºç®¡ç†é¡¹ç›®ä¾èµ–å’Œå…ƒæ•°æ®çš„æ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶é€šå¸¸ä½äº **Dart** é¡¹ç›®çš„æ ¹ç›®å½•ä¸­ï¼Œå…¶ä¸­åŒ…å«äº†é¡¹ç›®çš„åç§°ã€ç‰ˆæœ¬ã€ä½œè€…ä¿¡æ¯ç­‰åŸºæœ¬å…ƒæ•°æ®ï¼Œä»¥åŠé¡¹ç›®æ‰€ä¾èµ–çš„ç¬¬ä¸‰æ–¹åº“ï¼ˆé€šè¿‡ **Dart** åŒ…ç®¡ç†å™¨ pub å®‰è£…ï¼‰ï¼›
    >
    > 1ï¸âƒ£ åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œå¯ä»¥åšä»¥ä¸‹å‡ ä»¶äº‹æƒ…ï¼š
    >
    > * **æŒ‡å®šé¡¹ç›®å…ƒæ•°æ®**ï¼šä½ å¯ä»¥æŒ‡å®šé¡¹ç›®çš„åç§°ã€ç‰ˆæœ¬ã€æè¿°ã€ä½œè€…ä¿¡æ¯ç­‰å…ƒæ•°æ®ï¼Œè¿™äº›ä¿¡æ¯å°†åœ¨å‘å¸ƒåˆ° **Dart** åŒ…ä»“åº“æ—¶æ˜¾ç¤ºã€‚
    > * **å®šä¹‰é¡¹ç›®ä¾èµ–**ï¼šé€šè¿‡ `dependencies` å’Œ `dev_dependencies` éƒ¨åˆ†ï¼Œä½ å¯ä»¥æŒ‡å®šé¡¹ç›®æ‰€ä¾èµ–çš„ç¬¬ä¸‰æ–¹åº“ã€‚å…¶ä¸­ï¼Œ`dependencies` æŒ‡å®šé¡¹ç›®è¿è¡Œæ—¶ä¾èµ–çš„åº“ï¼Œè€Œ `dev_dependencies` åˆ™æ˜¯å¼€å‘æ—¶ä¾èµ–çš„åº“ï¼Œæ¯”å¦‚æµ‹è¯•æ¡†æ¶ã€ä»£ç åˆ†æå·¥å…·ç­‰ã€‚
    > * **æŒ‡å®š Dart ç‰ˆæœ¬**ï¼šä½ å¯ä»¥æŒ‡å®šé¡¹ç›®æ‰€éœ€çš„ **Dart**.SDK ç‰ˆæœ¬ï¼Œä»¥ç¡®ä¿é¡¹ç›®çš„å…¼å®¹æ€§ã€‚
    > * **æ·»åŠ å…¶ä»–é…ç½®**ï¼šé™¤äº†ä¸Šè¿°å†…å®¹å¤–ï¼Œä½ è¿˜å¯ä»¥åœ¨ `pubspec.yaml` æ–‡ä»¶ä¸­æ·»åŠ å…¶ä»–é…ç½®ï¼Œæ¯”å¦‚é¡¹ç›®çš„ç¯å¢ƒä¾èµ–ã€è„šæœ¬å‘½ä»¤ã€èµ„æºæ–‡ä»¶ç­‰ã€‚
    >
    > 2ï¸âƒ£ æŒ‡å®šç‰ˆæœ¬ä¸º`any`æˆ–è€…ä»€ä¹ˆä¹Ÿä¸å†™ï¼ˆ å¹¶ä¸ä¸€å®šä¼šä½¿ç”¨æœ€æ–°ç‰ˆï¼‰ï¼š**Flutter ä¼šè‡ªåŠ¨æ ¹æ®ä½ é¡¹ç›®çš„ç¯å¢ƒï¼ˆSDK ç‰ˆæœ¬ã€ä¾èµ–å†²çªç­‰ï¼‰é”å®šä¸€ä¸ªå…¼å®¹ç‰ˆæœ¬**ï¼Œå¹¶å†™å…¥ `pubspec.lock`
    >
    > 3ï¸âƒ£ <font color=red>`assets` **è·¯å¾„åä¸èƒ½æœ‰ä¸­æ–‡ï¼Œå¦åˆ™å¯èƒ½æ— æ³•æ­£å¸¸è¯»å–**</font>

    ```yaml
    name: my_project
    version: 1.0.0
    description: A sample Dart project
    
    dependencies:
      flutter:
        sdk: flutter
      http: ^0.13.3
      intl: ^0.17.0
    
    dev_dependencies:
      flutter_test:
        sdk: flutter
    
    flutter:
      uses-material-design: true
    
    assets: # è·¯å¾„åä¸èƒ½æœ‰ä¸­æ–‡ï¼Œå¦åˆ™å¯èƒ½æ— æ³•æ­£å¸¸è¯»å–
      - assets/
      - assets/i18n/
      - assets/CarouselAssets/
      - assets/AppLaunchAssets/
    
    #è¿™ä¸ªæ–‡ä»¶å®šä¹‰äº†ä¸€ä¸ªåä¸º `my_project` çš„ Dart é¡¹ç›®
    #å®ƒä¾èµ–äº Flutter SDK
    #å¹¶ä¸”è¿˜ä¾èµ–äº `http` å’Œ `intl` è¿™ä¸¤ä¸ªç¬¬ä¸‰æ–¹åº“
    #åŒæ—¶ï¼Œå®ƒä¹Ÿå£°æ˜äº†å¼€å‘æ—¶çš„ä¾èµ– `flutter_test`
    ```

    * ä¸€äº›å®ç”¨å‘½ä»¤

      * ç”¨äºæ£€æŸ¥é¡¹ç›®ä¾èµ–ä¸­æ˜¯å¦å­˜åœ¨å¯æ›´æ–°çš„ç‰ˆæœ¬ï¼Œä½†**æ’é™¤æ‰å¼€å‘ä¾èµ–ï¼ˆ`dev_dependencies`ï¼‰**

        ```shell
        pub outdated --no-dev-dependencies
        ```

        > | è¯­æ³•                    | å«ä¹‰è¯´æ˜                                                     |
        > | ----------------------- | ------------------------------------------------------------ |
        > | `pub outdated`          | æ˜¾ç¤ºæ‰€æœ‰ä¾èµ–é¡¹ï¼ˆåŒ…æ‹¬æ­£å¸¸ä¾èµ–ã€å¼€å‘ä¾èµ–ã€å¯é€‰ä¾èµ–ï¼‰æ˜¯å¦æœ‰æ›´æ–°ç‰ˆæœ¬ã€‚ |
        > | `--no-dev-dependencies` | **ä¸æ£€æŸ¥ `dev_dependencies` ä¸­çš„åŒ…**ã€‚åªæ£€æŸ¥ `dependencies`ã€‚ |

      * å…¨å±€å®‰è£…å·¥å…·ï¼ˆä¸éœ€è¦æ‰‹åŠ¨è®¾ç½® PATH ç­‰ï¼‰

        ```shell
        dart pub global activate <å·¥å…·å>
        ```
        
      * <font color=red>**å®‰è£…å’Œä½¿ç”¨`flutter_unused_packages`**</font>
        
        > å½“ä½ çš„ `pubspec.yaml` ä¸­ä¾èµ–è¶Šæ¥è¶Šå¤šï¼Œæƒ³æ‰¾å‡ºå¹¶æ¸…ç†ä¸å†ä½¿ç”¨çš„åŒ…æ—¶éå¸¸æœ‰ç”¨ã€‚
        >
        > æœ‰åŠ©äºå‡å°‘ç¼–è¯‘ä½“ç§¯ã€é™ä½ä¾èµ–å¤æ‚åº¦ï¼Œä¹Ÿæœ‰åˆ©äºæå‡ç»´æŠ¤æ•ˆç‡ã€‚
        
        ```shell
        # å®‰è£… flutter_unused_packages
        dart pub global activate flutter_unused_packages
        ```
        
        ```shell
        # åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆå§‹åŒ–é…ç½®ï¼ˆå¯é€‰ï¼‰ğŸ“ƒanalize_unused_packages.json 
        flutter_unused_packages --init
        ```
        
        ```shell
        # ä¸“é—¨è®¾è®¡æ¥åˆ†æ **Flutter** é¡¹ç›®ï¼Œæ£€æµ‹ `pubspec.yaml` ä¸­æœªè¢«ä½¿ç”¨çš„ä¾èµ–åŒ…ã€‚
        # å¯äº¤äº’åœ°åˆ é™¤è¿™äº›æœªä½¿ç”¨çš„ä¾èµ–ï¼Œæˆ–è‡ªåŠ¨æ¸…ç†å®ƒä»¬ã€‚
        flutter_unused_packages --analyze
        ```
        
        ```shell
        # è‡ªåŠ¨æ¸…ç†è¢«åˆ¤å®šä¸ºæœªä½¿ç”¨çš„ä¾èµ–
        flutter_unused_packages --fix
        ```

  * `pubspec.lock` 

    >  æ˜¯ **Dart** é¡¹ç›®ä¸­çš„è‡ªåŠ¨ç”Ÿæˆæ–‡ä»¶ï¼Œç”¨äºé”å®šé¡¹ç›®ä¾èµ–çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚
    >
    > 1ï¸âƒ£ æ˜¯ **Dart** é¡¹ç›®ä¸­çš„é‡è¦æ–‡ä»¶ä¹‹ä¸€ï¼Œé€šå¸¸ç”± **Dart** åŒ…ç®¡ç†å™¨ pub è‡ªåŠ¨ç”Ÿæˆï¼Œå¹¶ä¸”ä¼šéšç€ä½ è¿è¡Œ `pub get` æˆ– `pub upgrade` å‘½ä»¤è€Œæ›´æ–°ã€‚
    >
    > 2ï¸âƒ£ `pubspec.lock` æ–‡ä»¶è®°å½•äº†é¡¹ç›®ä¾èµ–åŒ…çš„ç¡®åˆ‡ç‰ˆæœ¬ä¿¡æ¯ï¼ŒåŒ…æ‹¬ä¸»è¦ä¾èµ–å’Œé—´æ¥ä¾èµ–ã€‚è¿™æ ·åšçš„ç›®çš„æ˜¯ç¡®ä¿**åœ¨ä¸åŒçš„ç¯å¢ƒä¸­**ï¼ˆæ¯”å¦‚ä¸åŒçš„å¼€å‘è€…ã€ä¸åŒçš„æ„å»ºæœåŠ¡å™¨ï¼‰è¿è¡Œç›¸åŒçš„ `pub get` æˆ– `pub upgrade` å‘½ä»¤æ—¶ï¼Œä½¿ç”¨çš„ä¾èµ–ç‰ˆæœ¬éƒ½æ˜¯ä¸€è‡´çš„ï¼Œä»è€Œé¿å…å› ä¸ºä¾èµ–ç‰ˆæœ¬ä¸ä¸€è‡´è€Œå¯¼è‡´çš„é—®é¢˜ï¼Œæé«˜äº†é¡¹ç›®çš„å¯é‡å¤æ€§å’Œç¨³å®šæ€§ï¼›
    >
    > 3ï¸âƒ£ å½“è¿è¡Œ `pub get` æˆ– `pub upgrade` å‘½ä»¤æ—¶ï¼Œpub å°†ä¼šæ ¹æ® `pubspec.yaml` ä¸­æŒ‡å®šçš„ä¾èµ–å…³ç³»ç”Ÿæˆæˆ–æ›´æ–° `pubspec.lock` æ–‡ä»¶ï¼›
    
    ```yaml
    packages:
      flutter:
        description: flutter
        source: hosted
        version: "2.5.0"
      http:
        description: http
        source: hosted
        version: "0.13.3"
      intl:
        description: intl
        source: hosted
        version: "0.17.0"
    ```


  * `.metadata` 

    >  æ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œ**Dart** é¡¹ç›®ä¸­çš„ä¸€ä¸ªéšè—æ–‡ä»¶ï¼Œé€šå¸¸å­˜å‚¨åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹ï¼Œç”¨äºä¿å­˜ä¸ **Dart**  åŒ…ç®¡ç†å™¨ `pub` ç›¸å…³çš„å…ƒæ•°æ®ä¿¡æ¯ã€‚
    >
    > 1ï¸âƒ£ è¿™ä¸ªæ–‡ä»¶é€šå¸¸ç”± `pub` è‡ªåŠ¨ç”Ÿæˆå’Œç»´æŠ¤ï¼Œå…¶ä¸­åŒ…å«äº†ä¸€äº›å…³äºé¡¹ç›®çš„ä¿¡æ¯ï¼Œæ¯”å¦‚é¡¹ç›®æ‰€ä½¿ç”¨çš„ SDK ç‰ˆæœ¬ã€ç¼“å­˜è·¯å¾„ã€ä¾èµ–åŒ…çš„è·¯å¾„ç­‰ï¼›
    >
    > 2ï¸âƒ£ ä¸éœ€è¦æ‰‹åŠ¨ç¼–è¾‘æˆ–å¤„ç† `.metadata` æ–‡ä»¶ï¼Œå› ä¸ºå®ƒæ˜¯ç”± `pub`  è‡ªåŠ¨ç”Ÿæˆå’Œç®¡ç†çš„ï¼›
    >
    > 3ï¸âƒ£ åœ¨ä¸€äº›æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½ä¼šå‘ç°è‡ªå·±éœ€è¦åˆ é™¤ `.metadata` æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼šå½“ä½ é‡åˆ°ä¸ `pub`  ç›¸å…³çš„é—®é¢˜æ—¶ï¼Œå°è¯•åˆ é™¤ `.metadata` æ–‡ä»¶å¹¶é‡æ–°æ‰§è¡Œ `pub get` æˆ– `pub upgrade` å¯èƒ½ä¼šæœ‰åŠ©äºè§£å†³é—®é¢˜ï¼›
    >
    > 4ï¸âƒ£ åˆ é™¤ `.metadata` æ–‡ä»¶åï¼Œ`pub`  ä¼šé‡æ–°ç”Ÿæˆä¸€ä¸ªæ–°çš„ `.metadata` æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«äº†å½“å‰é¡¹ç›®çš„å…ƒæ•°æ®ä¿¡æ¯ï¼›

  * `.flutter-plugins` 

    > æ˜¯ **Flutter** é¡¹ç›®ä¸­çš„ä¸€ä¸ªéšè—æ–‡ä»¶ï¼Œå®ƒç”¨äºè·Ÿè¸ª **Flutter** æ’ä»¶çš„ä¿¡æ¯ï¼›
    >
    > 1ï¸âƒ£ æ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œé€šå¸¸ä½¿ç”¨ <font color=red>UTF-8 </font>ç¼–ç ã€‚åªæ˜¯ä¸€ç§ç®€å•çš„ï¼ˆé”®å€¼å¯¹æ ¼å¼ï¼‰é…ç½®æ–‡ä»¶æ ¼å¼ï¼Œå¹¶æ²¡æœ‰ç‰¹å®šçš„ç¼–ç¨‹è¯­è¨€ä¸ä¹‹å…³è”
    >
    > 2ï¸âƒ£ è¿™ä¸ªæ–‡ä»¶çš„å­˜åœ¨ä½¿å¾— **Flutter** å·¥å…·èƒ½å¤Ÿè½»æ¾åœ°çŸ¥é“é¡¹ç›®ä¸­ä½¿ç”¨äº†å“ªäº›æ’ä»¶ï¼Œä»¥åŠå®ƒä»¬çš„è·¯å¾„ã€‚è¿™å¯¹äºæ„å»ºã€ç¼–è¯‘å’Œæ‰“åŒ…åº”ç”¨ç¨‹åºæ˜¯éå¸¸æœ‰ç”¨çš„ï¼Œå› ä¸º **Flutter** å·¥å…·éœ€è¦çŸ¥é“å“ªäº›æ’ä»¶éœ€è¦åŒ…å«åœ¨æœ€ç»ˆçš„åº”ç”¨ç¨‹åºåŒ…ä¸­ã€‚
    >
    > 3ï¸âƒ£ **Flutter** æ’ä»¶æ˜¯ç”¨æ¥æ‰©å±• **Flutter** åº”ç”¨ç¨‹åºåŠŸèƒ½çš„è½¯ä»¶åŒ…ï¼Œå®ƒä»¬é€šå¸¸ç”¨äºè®¿é—®å¹³å°ç‰¹å®šçš„åŠŸèƒ½ï¼Œæ¯”å¦‚ç›¸æœºã€åœ°ç†ä½ç½®ã€æ¨é€é€šçŸ¥ç­‰ï¼›
    >
    > 4ï¸âƒ£ æ–‡ä»¶è®°å½•äº†é¡¹ç›®ä¸­ä½¿ç”¨çš„ **Flutter** æ’ä»¶çš„åç§°å’Œè·¯å¾„ä¿¡æ¯ã€‚å½“ä½ åœ¨ Flutter **Flutter**ä¸­æ·»åŠ æˆ–ç§»é™¤ **Flutter** æ’ä»¶æ—¶ï¼Œ**Flutter** å·¥å…·ä¼šè‡ªåŠ¨æ›´æ–°è¿™ä¸ªæ–‡ä»¶ï¼›
    >
    > 5ï¸âƒ£ æ–‡ä»¶çš„æ ¼å¼é€šå¸¸æ˜¯ä¸€ä¸ªç®€å•çš„é”®å€¼å¯¹åˆ—è¡¨ï¼Œå…¶ä¸­é”®æ˜¯æ’ä»¶çš„åç§°ï¼Œå€¼æ˜¯æ’ä»¶æ‰€åœ¨çš„è·¯å¾„ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
    
    ```
    camera=plugins/camera/
    location=plugins/location/
    ```

  * `.flutter-plugins-dependencies` 

    > æ˜¯ä¸€ä¸ªç”¨æ¥å­˜å‚¨ [**Flutter**](https://flutter.dev/)æ’ä»¶ä¾èµ–ä¿¡æ¯çš„éšè—æ–‡ä»¶ï¼›
    >
    > 1ï¸âƒ£ è¿™ä¸ªæ–‡ä»¶é€šå¸¸ç”± [**Flutter**](https://flutter.dev/)å·¥å…·è‡ªåŠ¨ç”Ÿæˆå’Œç»´æŠ¤ï¼Œå¹¶ä¸”åœ¨ä½¿ç”¨ `flutter pub get` æˆ– `flutter pub upgrade` å‘½ä»¤æ—¶ä¼šè¢«æ›´æ–°ï¼›
    >
    > 2ï¸âƒ£ æ–‡ä»¶è®°å½•äº†æ¯ä¸ª[**Flutter**](https://flutter.dev/)æ’ä»¶çš„ä¾èµ–å…³ç³»ï¼ŒåŒ…æ‹¬ä¸»è¦æ’ä»¶å’Œä¾èµ–æ’ä»¶ã€‚è¿™äº›ä¿¡æ¯æœ‰åŠ©äº[**Flutter**](https://flutter.dev/)å·¥å…·æ›´å¥½åœ°ç®¡ç†æ’ä»¶åŠå…¶ä¾èµ–å…³ç³»ï¼Œå¹¶ç¡®ä¿é¡¹ç›®ä¸­ä½¿ç”¨çš„æ‰€æœ‰æ’ä»¶åŠå…¶ç›¸å…³çš„ä¾èµ–éƒ½è¢«æ­£ç¡®åœ°ä¸‹è½½å’Œç®¡ç†ï¼›

    ```yaml
    dependencies:
      camera:
        dependency: "direct main"
        description:
          name: camera
          url: "https://pub.dev/packages/camera"
          version: "0.9.4+9"
      image_picker:
        dependency: "direct main"
        description:
          name: image_picker
          url: "https://pub.dev/packages/image_picker"
          version: "0.8.4+3"
    
    # åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œ`camera` å’Œ `image_picker` æ˜¯ä¸¤ä¸ªæ’ä»¶ï¼Œå®ƒä»¬åˆ†åˆ«æœ‰è‡ªå·±çš„ä¾èµ–å…³ç³»è®°å½•ï¼ŒåŒ…æ‹¬ä¾èµ–ç±»å‹ï¼ˆ`dependency`ï¼‰ã€åç§°ï¼ˆ`name`ï¼‰ã€URL å’Œç‰ˆæœ¬å·ã€‚
    ```


  * `.idea` æ–‡ä»¶å¤¹

    > 1ï¸âƒ£ é€šå¸¸æ˜¯ [**JetBrains**](https://www.jetbrains.com/) çš„é›†æˆå¼€å‘ç¯å¢ƒï¼ˆIDEï¼‰å¦‚ [**IntelliJ IDEA**](https://www.jetbrains.com/idea/) æˆ– [**Android Studio**](https://developer.android.com/studio?hl=zh-cn) åœ¨é¡¹ç›®ä¸­ç”Ÿæˆçš„éšè—æ–‡ä»¶å¤¹
    >
    > 2ï¸âƒ£ è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­åŒ…å«äº†ä¸é¡¹ç›®ç›¸å…³çš„é…ç½®æ–‡ä»¶ã€å·¥ç¨‹æ–‡ä»¶ã€æ¨¡æ¿æ–‡ä»¶ç­‰ï¼Œ**ç”¨äºé…ç½®é¡¹ç›®åœ¨ IDE ä¸­çš„è¡Œä¸ºå’Œå¤–è§‚**ã€‚
    >
    > 3ï¸âƒ£ åœ¨ä¸€ä¸ª **Flutter** æˆ– **Dart** é¡¹ç›®ä¸­ï¼Œ`.idea` æ–‡ä»¶å¤¹å¯èƒ½åŒ…å«ä»¥ä¸‹ä¸€äº›å¸¸è§çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼š
    >
    > * **workspace.xml**ï¼šä¿å­˜äº†é¡¹ç›®çº§åˆ«çš„å·¥ä½œåŒºé…ç½®ï¼Œæ¯”å¦‚ç¼–è¾‘å™¨çš„å¸ƒå±€ã€çª—å£çŠ¶æ€ç­‰ã€‚
    > * **modules.xml**ï¼šåŒ…å«äº†é¡¹ç›®çš„æ¨¡å—ä¿¡æ¯ï¼Œå¦‚æœé¡¹ç›®è¢«åˆ†å‰²æˆäº†å¤šä¸ªæ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—çš„é…ç½®ä¿¡æ¯éƒ½ä¼šåœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ã€‚
    > * **dart.xml** æˆ– **flutter.xml**ï¼šè¿™äº›æ–‡ä»¶åŒ…å«äº†ä¸ **Dart** æˆ– [**Flutter**](https://flutter.dev/) ç›¸å…³çš„é…ç½®ä¿¡æ¯ï¼Œæ¯”å¦‚ä»£ç æ ¼å¼åŒ–è§„åˆ™ã€ä»£ç æ¨¡æ¿ã€SDK è·¯å¾„ç­‰ã€‚
    > * **libraries** æ–‡ä»¶å¤¹ï¼šä¿å­˜äº†é¡¹ç›®ä¸­ä½¿ç”¨çš„åº“çš„é…ç½®ä¿¡æ¯ï¼Œæ¯”å¦‚ **Dart.SDK** ã€[**Flutter**](https://flutter.dev/).**SDK**ã€ç¬¬ä¸‰æ–¹åº“ç­‰ã€‚
    > * **inspectionProfiles** æ–‡ä»¶å¤¹ï¼šåŒ…å«äº†ä»£ç æ£€æŸ¥å’Œé™æ€åˆ†æçš„é…ç½®æ–‡ä»¶ï¼Œç”¨äºå®šä¹‰ä»£ç é£æ ¼å’Œè´¨é‡æ£€æŸ¥çš„è§„åˆ™ã€‚
    > * å…¶ä»–å¯èƒ½çš„é…ç½®æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼Œæ¯”å¦‚ä»£ç æ¨¡æ¿ã€æ–‡ä»¶æ¨¡æ¿ã€ç‰ˆæœ¬æ§åˆ¶é…ç½®ç­‰ã€‚
    
    æ€»çš„æ¥è¯´ï¼Œ`.idea` æ–‡ä»¶å¤¹æ˜¯  [**JetBrains**](https://www.jetbrains.com/)  IDE ç”¨äºå­˜å‚¨é¡¹ç›®é…ç½®å’Œå…ƒæ•°æ®çš„æ–‡ä»¶å¤¹ï¼Œ**å®ƒé€šå¸¸ä¸åº”è¯¥è¢«ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿè·Ÿè¸ª**ï¼Œå› ä¸ºè¿™äº›é…ç½®æ–‡ä»¶é€šå¸¸æ˜¯ç‰¹å®šäºå¼€å‘è€…çš„ï¼Œå¹¶ä¸”å¯èƒ½ä¼šå› ä¸º IDE ç‰ˆæœ¬çš„ä¸åŒè€Œæœ‰æ‰€å˜åŒ–ã€‚

### 9ã€æ³¨è§£ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>
<font color=red>æ³¨è§£ï¼ˆä»¥`@JsonSerializable() `ä¸ºä¾‹ï¼‰ ğŸ†šÂ OC åˆ†ç±»ï¼ˆCategoryï¼‰</font>

* ç¡®å®éƒ½è¾¾åˆ°äº†**åœ¨ä¸æ”¹åŠ¨åŸç±»ç»“æ„ä¸‹ï¼Œå¢åŠ åŠŸèƒ½**çš„ç›®çš„

    ğŸ“Œ ç›¸åŒç‚¹

  | ç‰¹ç‚¹                          | @JsonSerializable()ï¼ˆFlutterï¼‰ | Categoryï¼ˆObjective-Cï¼‰ |
  | ----------------------------- | ------------------------------ | ----------------------- |
  | âœ… ä¸æ”¹åŠ¨ç±»çš„æ ¸å¿ƒé€»è¾‘          | æ˜¯                             | æ˜¯                      |
  | âœ… ç»™ç±»â€œåŠ åŠŸèƒ½â€                | æ˜¯ï¼ˆåŠ ä¸Šäº† JSON èƒ½åŠ›ï¼‰         | æ˜¯ï¼ˆåŠ æ–¹æ³•æˆ–å±æ€§ï¼‰      |
  | âœ… ä½¿ç”¨æ—¶åƒâ€œå£°æ˜ä¸€ä¸ªæ³¨è§£/æ‰©å±•â€ | æ˜¯                             | æ˜¯                      |
  | âœ… å¼€å‘è€…ä¸ç”¨æ‰‹å†™å¤§é‡æ ·æ¿ä»£ç   | æ˜¯                             | æ˜¯                      |

    âŒ ä¸åŒç‚¹ï¼ˆæœ¬è´¨æœºåˆ¶ä¸ä¸€æ ·ï¼‰

  | ç‰¹ç‚¹           | @JsonSerializable()ï¼ˆDartï¼‰    | Categoryï¼ˆObj-Cï¼‰               |
  | -------------- | ------------------------------ | ------------------------------- |
  | âš™ï¸ æœ¬è´¨         | é ä»£ç ç”Ÿæˆå™¨è‡ªåŠ¨ç”Ÿæˆ Dart ä»£ç  | è¿è¡Œæ—¶åŠ¨æ€å°†æ–¹æ³•åŠ å…¥ç±»          |
  | ğŸ“¦ äº§ç‰©         | ç¼–è¯‘é˜¶æ®µç”Ÿæˆ `.g.dart` æ–‡ä»¶    | è¿è¡Œæ—¶åŠ å…¥æ–°æ–¹æ³•æ˜ å°„è¡¨          |
  | ğŸ”§ å·¥ä½œæ—¶æœº     | ç¼–è¯‘é˜¶æ®µï¼ˆbuild_runnerï¼‰       | è¿è¡Œæ—¶ï¼ˆObjective-C runtimeï¼‰   |
  | ğŸ§  ç±»å‹ç³»ç»Ÿå½±å“ | æœ‰é™æ€ç±»å‹æ£€æŸ¥                 | æ— ç±»å‹æ£€æŸ¥ï¼Œé  runtime dispatch |
  | ğŸ“„ æ–°å¢æ–‡ä»¶     | ä¼šç”Ÿæˆæ–°æ–‡ä»¶                   | ä¸ä¼šç”Ÿæˆæ–°æ–‡ä»¶                  |

### 10ã€DartæŠ½è±¡ç±»+`factory` æ„é€ å‡½æ•° <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> **Dart** ä¸­çš„æŠ½è±¡ç±»å¯ä»¥å®šä¹‰ `factory` æ„é€ å‡½æ•°ï¼Œå®ƒä¸èƒ½ç›´æ¥è¢«å®ä¾‹åŒ–ï¼Œä½†å¯ä»¥é€šè¿‡è¿™ä¸ª `factory` è¿”å›å­ç±»å¯¹è±¡æˆ–å…¶ä»–å®ä¾‹ï¼Œä»è€Œèµ·åˆ°**å·¥å‚æ–¹æ³•ï¼ˆç±»æ–¹æ³•ï¼‰+ æ„é€ å™¨**çš„åŒé‡ä½œç”¨ã€‚

  * **Dart**.[**Flutter**](https://flutter.dev/)å•ä¾‹çš„å…¨éƒ¨å†™æ³•

    | ä½¿ç”¨åœºæ™¯            | æ¨èå†™æ³•                           |
    | ------------------- | ---------------------------------- |
    | ç®€å•å·¥å…·ç±»          | `factory` + ç§æœ‰æ„é€ å‡½æ•°æ‡’æ±‰å¼     |
    | èµ„æºæ•æ„Ÿ/è¦æ‡’åŠ è½½   | `factory` + `??=` åˆå§‹åŒ–           |
    | å¤§å‹é¡¹ç›® / è§£è€¦ä¾èµ– | ä½¿ç”¨ `GetIt` / `riverpod` ç®¡ç†å•ä¾‹ |
    | å¤šç±»å‹ç¼“å­˜ç®¡ç†      | æ³›å‹å•ä¾‹å°è£…æ¨¡æ¿                   |

    * âœ… æœ€æ¨èå†™æ³•ï¼ˆæ‡’æ±‰å¼ + å·¥å‚æ„é€ ï¼‰

      ```dart
      class Singleton {
        static Singleton? _instance;

        Singleton._internal(); // ç§æœ‰æ„é€ å‡½æ•°

        factory Singleton() {
          return _instance ??= Singleton._internal();
        }

        void doSomething() {
          print('Doing something...');
        }
      }
      ```

    * ğŸ“Œ é¥¿æ±‰å¼ï¼ˆç±»åŠ è½½å°±åˆ›å»ºï¼‰

      ```dart
      class Singleton {
        static final Singleton _instance = Singleton._internal();

        Singleton._internal();

        factory Singleton() => _instance;
      }
      ```

    * ğŸ“Œ é™æ€å˜é‡åˆå§‹åŒ–ï¼ˆç­‰æ•ˆé¥¿æ±‰ï¼‰

      ```dart
      class Singleton {
        Singleton._(); // ç§æœ‰æ„é€ 

        static final Singleton instance = Singleton._();

        void foo() => print('Singleton foo');
      }
      ```

      ```dart
      Singleton.instance.foo();
      ```

    * ğŸ“Œ æ‡’æ±‰å¼ `getter`ï¼ˆæ‡’åŠ è½½å†™æ³•ï¼‰

      ```dart
      class Singleton {
        static Singleton? _instance;

        Singleton._();

        static Singleton get instance {
          return _instance ??= Singleton._();
        }
      }
      ```

    * ğŸ“Œ **Dart** å•ä¾‹å®Œæ•´å°è£…æ¨¡æ¿ï¼ˆå¸¦çº¿ç¨‹å®‰å…¨/æ³›å‹æ”¯æŒï¼‰

      ```dart
      class Singleton<T> {
        static final Map<Type, Object> _cache = {};

        Singleton._();

        static T getInstance<T>(T Function() creator) {
          if (_cache.containsKey(T)) return _cache[T] as T;
          final instance = creator();
          _cache[T] = instance as Object;
          return instance;
        }
      }
      ```

      ```dart
      class MyService {
        void sayHi() => print("Hi");
      }

      final service = Singleton.getInstance(() => MyService());
      ```

    * ğŸ“Œ ä½¿ç”¨ **GetIt** å®ç°å…¨å±€å•ä¾‹ï¼ˆæ¨èç”¨äºå¤§å‹é¡¹ç›®ï¼‰

      ```dart
      import 'package:get_it/get_it.dart';
      
      final getIt = GetIt.instance;
      
      class MyService {
        void doWork() => print("Working...");
      }
      
      void setup() {
        getIt.registerLazySingleton(() => MyService());
      }
      ```

      ```dart
      // ä½¿ç”¨ï¼š
      void example() {
        getIt<MyService>().doWork();
      }
      ```

### 11ã€<font color=red>**abstract**</font> <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> 1ï¸âƒ£ é˜²æ­¢è¢«å®ä¾‹åŒ–
>
> 2ï¸âƒ£ ä¸èƒ½èƒŒç»§æ‰¿
>
> å¸¸ç”¨äº**çº¯é™æ€å·¥å…·ç±»æˆ–å¸¸é‡å®¹å™¨ç±»**çš„å®šä¹‰ã€‚æå‡ä»£ç çš„å¯è¯»æ€§å’Œè¯­ä¹‰å®‰å…¨æ€§ï¼Œæ˜¯ä¸€ç§æ›´ä¸¥è°¨çš„æ¨èå†™æ³•

### 12ã€Comparable <font color=red><b>&lt;T&gt;</b></font> <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> 1ï¸âƒ£ **Dart** ä¸­çš„ä¸€ä¸ªæ¥å£ï¼ˆmixinï¼‰ï¼Œè¡¨ç¤º **â€œå¯æ¯”è¾ƒâ€ç±»å‹**
>
> 2ï¸âƒ£ ç”¨äºæ”¯æŒæ’åºã€æŸ¥æ‰¾ã€æ¯”è¾ƒç­‰æ“ä½œ
>
> 3ï¸âƒ£ è§¦å‘`compareTo()`çš„å‡ ä¸ªæ–¹å¼ï¼š<u>ä½¿ç”¨ `List.sort()` æ’åº</u>ã€<u>ä½¿ç”¨ `<`ã€`>`, `<=`, `>=`</u>ã€<u>`Comparable.compare(a, b)`</u>ã€<u>æ˜¾ç¤ºè°ƒç”¨</u>

```dart
Comparable.compare(a, b)
```

  * è¿”å› **è´Ÿæ•°**ï¼šè¡¨ç¤º `a < b`

  * è¿”å› **0**ï¼šè¡¨ç¤º `a == b`

  * è¿”å› **æ­£æ•°**ï¼šè¡¨ç¤º `a > b`

### 13ã€**çº¯é™æ€ç±»** çš„ï¼ˆå¸¸è§ï¼‰å†™æ³• <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> 1ï¸âƒ£ Dart.Flutteré‡Œé¢æ²¡æœ‰åå°„ï¼ˆå°¤å…¶æ˜¯ release æ¨¡å¼ï¼‰æ ¹æœ¬ä¸æ”¯æŒ `dart:mirrors`ï¼ˆå¯¼å…¥æŠ¥é”™ï¼‰
>
> 2ï¸âƒ£ ä½†æ˜¯åœ¨Darté‡Œé¢å´å¯ä»¥æœ‰åå°„ï¼Œå¯ä»¥ç»•è¿‡å»ã€‚ä»è¯­æ³•å±‚é¢æ¥è®²ï¼Œä½¿ç”¨ `enum`æœ€å®‰å…¨ã€‚è€Œäº‹å®ä¸Šï¼Œå› ä¸ºFlutterä¸å­˜åœ¨åå°„æœºåˆ¶ï¼Œæ‰€ä»¥ä¸‹åˆ—3ç§å†™æ³•éƒ½æ˜¯å®‰å…¨çš„
>
> 3ï¸âƒ£ å¦‚æœåªå…³æ³¨ Flutter | ç”¨ `class Xxx._();` å°±å¤Ÿäº† âœ… ï¼›å¦‚æœå†™çš„æ˜¯ Dart å…¬å…±åŒ… / å‘½ä»¤è¡Œå·¥å…· / æœªæ¥ä¹Ÿè€ƒè™‘æœåŠ¡ç«¯ï¼Œé‚£ä¹ˆç”¨ `enum Xxx { ; }` ä¼šæ›´åŠ çš„ä¿é™© âœ…âœ…âœ…

* ç§æœ‰æ„é€ å‡½æ•°æ–¹å¼ï¼ˆæœ€å¸¸è§ï¼‰

  > 1ï¸âƒ£ æ˜ç¡®è¡¨è¾¾â€œä¸èƒ½å®ä¾‹åŒ–â€
  >
  > 2ï¸âƒ£ ç±»ä¸­åªèƒ½åŒ…å« `static` å†…å®¹
  >
  > 3ï¸âƒ£ Dartç‰ˆæœ¬è¦æ±‚ â‰¥ 2.0

  ```dart
  class AppUtils {
    AppUtils._(); // ç§æœ‰æ„é€ å‡½æ•°ï¼Œé˜²æ­¢å¤–éƒ¨å®ä¾‹åŒ–

    static void doSomething() {
      print('Doing something...');
    }

    static const version = '1.0.0';
  }
  ```

* ä½¿ç”¨ `abstract class`

  > 1ï¸âƒ£ `abstract class` ä¸èƒ½è¢«å®ä¾‹åŒ–
  >
  > 2ï¸âƒ£ ä¸éœ€è¦å†™ç§æœ‰æ„é€ å‡½æ•°
  >
  > 3ï¸âƒ£ ç±»ä¸­åªèƒ½å†™ `static` æˆå‘˜ï¼ˆå› ä¸ºæ²¡æ³• newï¼‰
  >
  > 4ï¸âƒ£ Dartç‰ˆæœ¬è¦æ±‚ â‰¥ 2.0

  ```dart
  abstract class AppUtils {
    static void doSomething() {
      print('Doing something...');
    }

    static const version = '1.0.0';
  }
  ```

* ä½¿ç”¨ `enum`

  > 1ï¸âƒ£ enum è‡ªå¸¦é˜²å®ä¾‹åŒ–ç‰¹æ€§
  >
  > 2ï¸âƒ£ `;` æ˜¯ Dart 2.17+ çš„è¯­æ³•ï¼Œç”¨äºå£°æ˜ä¸€ä¸ªç©ºçš„æšä¸¾ä½“
  >
  > 3ï¸âƒ£ æ›´å®‰å…¨ï¼Œå½»åº•ç¦æ­¢æ„é€ 
  >
  > 4ï¸âƒ£ Dartç‰ˆæœ¬è¦æ±‚ â‰¥ 2.17

  ```dart
  enum AppUtils {
    ; // Dart 2.17 å…è®¸ç©º enum è¡¨è¾¾é™æ€å·¥å…·ç±»
  
    static void doSomething() {
      print('Doing something...');
    }
  
    static const version = '1.0.0';
  }
  ```

### 14ã€âœ‚ï¸å‰ªåˆ‡æ¿è¡Œä¸º  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| æ“ä½œ                                     | å¯åŒæ­¥å‰ªè´´æ¿ï¼Ÿ | æ–¹å‘   |
| ---------------------------------------- | -------------- | ------ |
| åœ¨ **macOS ä¸Šå¤åˆ¶**ï¼Œåˆ° iOS æ¨¡æ‹Ÿå™¨ä¸­ç²˜è´´ | âœ… å¯ä»¥         | ğŸ’» âœ ğŸ“±  |
| åœ¨ **iOS æ¨¡æ‹Ÿå™¨ä¸­å¤åˆ¶**ï¼Œåˆ° macOS ä¸Šç²˜è´´ | âŒ ä¸è¡Œ         | ğŸ“± ğŸš«âœ ğŸ’» |

### 15ã€**Dart**.<font color=red>**`Symbol`**</font> <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> 1ï¸âƒ£ å†™æ³•ä¸º `#æ ‡è¯†ç¬¦`ã€‚ä¾‹å¦‚ï¼š`#name`, `#sayHello`, `#toString`
>
> 2ï¸âƒ£ ç±»å‹æ˜¯ `Symbol`ï¼š**ä¸æ˜¯ `String`ï¼Œä¸èƒ½å½“ä½œå­—ç¬¦ä¸²ç”¨**
>
> 3ï¸âƒ£ å¸¸ç”¨äºåå°„ï¼šåŠ¨æ€è®¿é—®å¯¹è±¡çš„å±æ€§/æ–¹æ³•
>
> 4ï¸âƒ£ ç¼–è¯‘æœŸä¼˜åŒ–ï¼š**Symbol** æ˜¯ Dart å†…éƒ¨ä¼˜åŒ–æœºåˆ¶çš„ä¸€éƒ¨åˆ†
>
> 5ï¸âƒ£ **ä¸èƒ½å½“é¢œè‰²å€¼ä½¿ç”¨**
>
> 6ï¸âƒ£ âœ… **99.9% çš„ Flutter é¡¹ç›®ä¸­ä½ éƒ½ç”¨ä¸åˆ° `Symbol`**

* å†™æ³•ä¸¾ä¾‹

  | å†™æ³•         | ç±»å‹     | ä¸¾ä¾‹              | ä½œç”¨                     |
  | ------------ | -------- | ----------------- | ------------------------ |
  | `'abc'`      | `String` | `'myColor'`       | è¡¨ç¤ºå­—ç¬¦ä¸²å€¼             |
  | `#abc`       | `Symbol` | `#myColor`        | è¡¨ç¤ºâ€œåç§°â€æˆ–â€œæ ‡è¯†ç¬¦â€æœ¬èº« |
  | `Color(...)` | `Color`  | `Color(0xFF0000)` | è¡¨ç¤ºé¢œè‰²å€¼               |

* ç¤ºä¾‹ä»£ç ï¼š

  ```dart
  import 'dart:mirrors';
  
  class Person {
    String name = 'Jobs';
    void sayHello() => print('Hello');
  }
  
  void main() {
    var p = Person();
    var mirror = reflect(p);
  
    // è®¿é—®å±æ€§ nameï¼š
    var nameValue = mirror.getField(#name).reflectee;
    print(nameValue); // è¾“å‡ºï¼šJobs
  
    // è°ƒç”¨æ–¹æ³• sayHelloï¼š
    mirror.invoke(#sayHello, []);
  }
  ```

* ğŸ§  ä¸ºä»€ä¹ˆè¦æœ‰ **`Symbol`**ï¼Ÿå’Œ **`String`** æœ‰å•¥åŒºåˆ«ï¼Ÿ

  | Symbol                          | String              |
  | ------------------------------- | ------------------- |
  | æ˜¯â€œåå­—â€æˆ–â€œç¬¦å·â€                | æ˜¯æ–‡å­—å†…å®¹          |
  | ç”¨æ¥å‘Šè¯‰ Dartï¼šæˆ‘è¦æ“ä½œè¿™ä¸ªåå­— | ç”¨æ¥å±•ç¤ºã€å­˜å‚¨å†…å®¹  |
  | Dart ç¼–è¯‘æ—¶ä¼šä¼˜åŒ– Symbol        | String æ˜¯è¿è¡Œæ—¶çš„å€¼ |

### 16ã€ä¸Šä¸‹æ–‡ï¼ˆ**`BuildContext`**ï¼‰ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> ğŸ§  ä¸¾ä¸ªæ¯”å–»ï¼š
>
> ä½ å¯ä»¥æŠŠ `BuildContext` ç†è§£æˆè¿™ä¸ªç»„ä»¶åœ¨ **â€œWidget æ ‘ä¸­çš„èº«ä»½è¯ + åœ°å€â€**ï¼š
>
> - è°æ˜¯å®ƒçš„çˆ¶æ¯ï¼ˆçˆ¶ç»„ä»¶ï¼‰ï¼Ÿ
> - ä¸»é¢˜é¢œè‰²ï¼ˆThemeï¼‰æ˜¯ä»€ä¹ˆï¼Ÿ
> - å±å¹•å®½åº¦å¤šå°‘ï¼ˆMediaQueryï¼‰ï¼Ÿ
> - æˆ‘è¦è·³è½¬è·¯ç”±ï¼Œæ€ä¹ˆæ‰¾ Navigatorï¼Ÿ
>
> éƒ½è¦é è¿™ä¸ª `context`ã€‚

* **ä¸æ˜¯å˜é‡ä¼ é€’**ï¼Œæ˜¯ **Flutter** æ¡†æ¶åœ¨æ„å»º **`Widget`** æ ‘æ—¶è‡ªåŠ¨æä¾›çš„

  ```dart
  class A extends StatelessWidget {
    ...
    @override
    Widget build(BuildContext context) {
      ...
    }
  }
  /// è¿™ä¸ª contextï¼š
  /// æ˜¯ A è‡ªå·±çš„ä¸Šä¸‹æ–‡
  /// å¯ä»¥ç”¨æ¥è®¿é—® Theme.of(context)ã€MediaQuery.of(context)ã€Navigator.of(context) ç­‰
  /// å¹¶ä¸ç­‰äºå…¶çˆ¶ç»„ä»¶çš„ context
  ```

### 17ã€<font id=InheritedWidget>`InheritedWidget`</font> <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

* å®˜æ–¹å®šä¹‰ï¼š`InheritedWidget` æ˜¯ä¸€ç§å¯ä»¥**å°†æ•°æ®ä»çˆ¶`Widget`å‘ä¸‹ä¼ é€’å¹¶æä¾›å“åº”å¼æ›´æ–°**çš„**`Widget`**

* âœ… æœ¬è´¨ï¼šå®ƒæ˜¯ [**Flutter**](https://flutter.dev/) å®ç°çŠ¶æ€å…±äº«ï¼ˆæ¯”å¦‚ä¸»é¢˜ã€è¯­è¨€ã€é…ç½®ç­‰ï¼‰çš„åŸºçŸ³ç»„ä»¶

* `InheritedWidget` çš„å¥½å¤„ï¼š

  * **å…±äº«æ•°æ®æ— éœ€å±‚å±‚ä¼ å‚**
  * **ä¾èµ–æ•°æ®å˜åŒ–åï¼Œè‡ªåŠ¨è§¦å‘ UI æ›´æ–°**
  * **å¯ç»“åˆ `BuildContext` è·å–æ•°æ®**

* ğŸ”ä½¿ç”¨åœºæ™¯ä¸¾ä¾‹

  | åœºæ™¯                             | æè¿°                                                         |
  | -------------------------------- | ------------------------------------------------------------ |
  | å…¨å±€ä¸»é¢˜ï¼ˆå¦‚é¢œè‰²ã€å­—ä½“ï¼‰         | [**Flutter**](https://flutter.dev/) çš„ `Theme.of(context)` å°±æ˜¯è¿™æ ·å®ç°çš„ |
  | æœ¬åœ°åŒ–/å¤šè¯­è¨€åˆ‡æ¢                | `Localizations.of(context)`                                  |
  | è®¤è¯ç”¨æˆ·çŠ¶æ€                     | å½“å‰ç™»å½•ç”¨æˆ·ä¿¡æ¯ï¼Œä»ä¸Šå±‚é¡µé¢å‘ä¸‹ä¼ é€’                         |
  | **Provider**/**Bloc** ç­‰çŠ¶æ€ç®¡ç† | éƒ½æ˜¯åŸºäº `InheritedWidget` å°è£…çš„åº•å±‚åŸç†                    |

* Demoï¼šå…±äº« counter å€¼çš„çŠ¶æ€ï¼Œä¸€æ—¦ counter å‘ç”Ÿå˜åŒ–ï¼Œæ‰€æœ‰ä¾èµ–å®ƒçš„å­ **`Widget`** ä¼šè‡ªåŠ¨å“åº”æ›´æ–°

  ```dart
  class MyDataWidget extends InheritedWidget {
    final int counter;
  
    MyDataWidget({
      required this.counter,
      required Widget child,
    }) : super(child: child);
  
    static MyDataWidget? of(BuildContext context) {
      return context.dependOnInheritedWidgetOfExactType<MyDataWidget>();
    }
  
    @override
    bool updateShouldNotify(MyDataWidget oldWidget) {
      return oldWidget.counter != counter;
    }
  }
  ```

  ```dart
  MyDataWidget(
    counter: 100,
    child: MyHomePage(),
  );
  ```

### 18ã€ğŸ”§**è‡ªåŠ¨åŒ–ä»£ç ç”Ÿæˆå·¥å…·** <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

* [<font color=red>**build_runner**</font>](https://pub.dev/packages/build_runner)

  > **Dart çš„ä»£ç ç”Ÿæˆå¼•æ“**ï¼Œç”¨äºæ ¹æ®è§„åˆ™è‡ªåŠ¨ç”Ÿæˆ Dart ä»£ç 
  >
  > ğŸ“¦ å®ƒæœ¬èº«ä¸ç”Ÿæˆä»£ç ï¼Œä½†**é©±åŠ¨å…¶ä»–æ’ä»¶å»ç”Ÿæˆä»£ç **ã€‚

  | å‘½ä»¤                                 | ä½œç”¨                               |
  | ------------------------------------ | ---------------------------------- |
  | `flutter pub run build_runner build` | ä¸€æ¬¡æ€§ç”Ÿæˆä»£ç                      |
  | `flutter pub run build_runner watch` | ç›‘å¬æºç å˜åŒ–è‡ªåŠ¨ç”Ÿæˆä»£ç            |
  | `flutter pub run build_runner clean` | æ¸…é™¤ `.dart_tool` ä¸­ç”Ÿæˆçš„ç¼“å­˜ä»£ç  |
  
  * `build_runner` æ˜¯å»ºç­‘å·¥äºº ğŸ§±ï¼ˆå®é™…å¹²æ´»çš„ï¼‰
    * `json_serializable`ã€`flutter_gen_runner`ã€`freezed` ç­‰æ˜¯è®¾è®¡å›¾ ğŸ“ï¼ˆå‘Šè¯‰ä½ è¯¥å»ºä»€ä¹ˆï¼‰
    * `.g.dart`ã€`.gen.dart` æ–‡ä»¶æ˜¯å»ºç­‘æˆæœ ğŸ ï¼ˆè‡ªåŠ¨ç”Ÿæˆçš„ä»£ç ï¼‰


* ä¾èµ–çš„å¼•å…¥**`pubspec.yaml`** ï¼ˆ[**VSCode**](https://code.visualstudio.com/)ä¿å­˜å³æ‰§è¡Œï¼š`dart pub get`ï¼‰

* <font color=red>**æ‰‹åŠ¨è¿è¡Œä¸­é—´ä»£ç ç”Ÿæˆå·¥å…·**</font>

  ```shell
  dart run build_runner build
  ```

* è‡ªåŠ¨ç›‘å¬æ–‡ä»¶å˜åŠ¨å¹¶å®æ—¶ç”Ÿæˆä»£ç ï¼ˆå¸¸é©»è¿è¡Œçš„ç›‘å¬è¿›ç¨‹ï¼‰

  * å‰å°ç»ˆç«¯è¿è¡Œæ­¤å‘½ä»¤ï¼Œåˆ™**ä¸èƒ½å…³é—­ç»ˆç«¯**ã€‚å¦åˆ™æ— æ³•è¿›è¡Œå®æ—¶ç›‘å¬

    ```shell
    dart run build_runner watch
    ```

  * **åå°è¿è¡Œï¼ˆä¸é˜»å¡ç»ˆç«¯ï¼‰**

    > åŠ ä¸Š `&` è¡¨ç¤ºåå°è¿è¡Œï¼Œä½†æ³¨æ„
    >
    > - å®ƒä¸ä¼šè¾“å‡ºé”™è¯¯æ—¥å¿—åˆ°å½“å‰çª—å£ï¼›
    > - è¿˜è¦æ‰‹åŠ¨ kill æ‰åå°è¿›ç¨‹ï¼Œä¸å¤Ÿç›´è§‚ã€‚

    ```shell
    dart run build_runner watch --delete-conflicting-outputs &
    ```

  | åŠŸèƒ½                      | æè¿°                                            |
  | ------------------------- | ----------------------------------------------- |
  | è‡ªåŠ¨ç›‘å¬ `.dart` æ–‡ä»¶å˜åŒ– | å½“ä½ ä¿®æ”¹ model / æ¥å£ç­‰æ–‡ä»¶æ—¶ï¼Œè‡ªåŠ¨è§¦å‘ä»£ç ç”Ÿæˆ |
  | å®æ—¶ç”Ÿæˆ `.g.dart` ç­‰æ–‡ä»¶ | æ— éœ€æ¯æ¬¡æ‰‹åŠ¨è¿è¡Œ `build_runner build`           |
  | å¢é‡æ„å»ºï¼Œé€Ÿåº¦æ›´å¿«        | åªæ„å»ºæœ‰å˜åŒ–çš„æ–‡ä»¶ï¼Œæ€§èƒ½ä¼˜äº `build`            |

* ä»£ç ç¤ºä¾‹ï¼š

  * [<font color=red>**flutter_gen_runner**</font>](https://pub.dev/packages/flutter_gen)

    > æ ¹æ®ä½ çš„ `pubspec.yaml` ä¸­é…ç½®çš„èµ„æºæ–‡ä»¶ï¼Œè‡ªåŠ¨ç”Ÿæˆ `assets.gen.dart` æ–‡ä»¶ï¼Œè®©ä½ ç”¨ä»£ç æ–¹å¼è®¿é—®èµ„æºï¼Œæ›´å®‰å…¨ã€æ–¹ä¾¿ã€‚

    ```yaml
    dev_dependencies:
      flutter_gen_runner: any
      build_runner: any
    
    flutter_gen:
      output: lib/gen/ # ç”Ÿæˆæ–‡ä»¶çš„ç›®å½•
    ```
    
  * <font color=blue>è‡ªåŠ¨åŒ–ä»£ç ç”Ÿæˆ**Model**</font>
  
    * ä½¿ç”¨ [<font color=red>**json_serializable**</font>](https://pub.dev/packages/json_serializable)ï¼šç”¨äº<u>åºåˆ—åŒ–</u>/<u>ååºåˆ—åŒ–</u>**JSON**æ•°æ®ï¼ˆ<font color=blue>**å‡½æ•°ã€æ–¹æ³•ã€é—­åŒ…ç­‰åœ¨ Dart ä¸­æ˜¯ä¸å¯åºåˆ—åŒ–çš„ç±»å‹**</font>ï¼‰
  
        > ```yaml
        > # pubspec.yaml ç¼–è¾‘å®Œåæ‰§è¡Œï¼šdart pub get 
        > dependencies:
        >  json_annotation: any  # ä»…è¿è¡Œæ—¶ä¾èµ–ï¼Œä¸è‡ªåŠ¨ç”Ÿæˆä»£ç æ—¶ä¹Ÿèƒ½ç”¨
        > 
        > dev_dependencies:
        >  build_runner: any     # ä»£ç ç”Ÿæˆå™¨
        >  json_serializable: any # è´Ÿè´£ç”Ÿæˆ .g.dart æ–‡ä»¶
        > ```
        >
        > **ç”Ÿæˆçš„ä¸­é—´ä»£ç ä¼šä¸æ­¤æ–‡ä»¶åœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹**
        >
        > ![image-20250727214937737](./assets/image-20250727214937737.png)
    
        ```dart
        // UserModel.dart
        import 'package:json_annotation/json_annotation.dart';
        part 'UserModel.g.dart'; // ï¼ˆ1ï¸âƒ£ ç¬¬ä¸€ä¸ªåå­—å¿…é¡»å’Œæœ¬æ–‡ä»¶åä¸€è‡´ï¼ŒåŒºåˆ†å¤§å°å†™ï¼‰2ï¸âƒ£ å¿…é¡»è‡ªåŠ¨åŒ–ç”Ÿæˆä»£ç å‰å°±è¦å†™è¿™ä¸€å¥ï¼Œå¦åˆ™ä¼šæŠ¥é”™
        
        @JsonSerializable() // 3ï¸âƒ£ ç”¨æ³¨è§£ï¼Œå°†æ­¤ç±»æ ‡æ³¨å‡ºæ¥ç”Ÿæˆä¸­é—´ä»¶ã€‚4ï¸âƒ£ @JsonSerializable()åªèƒ½ç”¨äºç±»ï¼Œä¸èƒ½ç”¨äºå˜é‡æˆ–å‡½æ•°
        class UserModel {
          final String name;
          final int age;
        
          UserModel({
            required this.name,
            required this.age,
          });
        
          /// åªæœ‰æˆåŠŸç”Ÿæˆä¸­é—´ä»£ç ä»¥åï¼š_$UserModelFromJson(json); å’Œ _$UserModelToJson(this);æ‰ä¸æŠ¥é”™
          
          /// ä» JSON è½¬ Model
          factory UserModel.fromJson(Map<String, dynamic> json) =>
              _$UserModelFromJson(json);
        
          /// ä» Model è½¬ JSON
          Map<String, dynamic> toJson() => _$UserModelToJson(this);
        }
        ```
    
    * ä½¿ç”¨ [<font color=red>**built_value**</font>](https://pub.dev/packages/built_value)
    
      > ```yaml
      > # pubspec.yaml ç¼–è¾‘å®Œåæ‰§è¡Œï¼šdart pub get 
      > dependencies:
      > built_value: any
      > 	built_collection: any
      > 
      > dev_dependencies:
      > 	build_runner: any
      > 	built_value_generator: any
      > ```
      >
      > **ç”Ÿæˆçš„ä¸­é—´ä»£ç ä¼šä¸æ­¤æ–‡ä»¶åœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹**
      >
      > ![image-20250727223708816](./assets/image-20250727223708816.png)
      
      ```dart
      /// serializers.dart
      library serializers; // âœ… åŠ ä¸Šè¿™ä¸€å¥éå¸¸å…³é”®ï¼
      
      import 'package:built_value/serializer.dart';
      import 'package:built_value/standard_json_plugin.dart';
      import 'package:jobs_flutter_base_config/JobsDemoTools/Data/Data.3rd/JSONs.analyze/built_value_demoâœ…/åˆ©ç”¨è„šæœ¬è‡ªåŠ¨ç”Ÿæˆçš„built_valueåºåˆ—åŒ–æ–‡ä»¶/video_item.dart';
      import 'package:built_collection/built_collection.dart'; // âœ… æ²¡æœ‰è¿™ä¸€å¥å°±ä¼šæ‰¾ä¸åˆ° BuiltList
      
      part 'serializers.g.dart'; // âœ… ç”Ÿæˆå™¨æ‰èƒ½è¯†åˆ«åˆ°å®ƒï¼Œå¹¶ç”Ÿæˆå¯¹åº”çš„åºåˆ—åŒ–æ–‡ä»¶
      
      @SerializersFor([
        VideoItem,
        VideoList,
      ])
      final Serializers serializers = (_$serializers.toBuilder()
            ..addPlugin(StandardJsonPlugin())
            ..addBuilderFactory(
              const FullType(BuiltList, [FullType(VideoItem)]),
              () => ListBuilder<VideoItem>(),
            ))
          .build();
      ```
      
      ```dart
      /// video_item.dart
      import 'package:built_value/built_value.dart';
      import 'package:built_value/serializer.dart';
      import 'package:built_collection/built_collection.dart';
      
      part 'video_item.g.dart'; // âœ… åŒç›®å½•å†…æ–‡ä»¶ã€‚ä¸å…è®¸è·¨æ–‡ä»¶å¤¹
      
      abstract class VideoItem implements Built<VideoItem, VideoItemBuilder> {
        String? get nick_name;
        String? get head;
        /// çœç•¥è‹¥å¹²...
      
        VideoItem._();
        factory VideoItem([void Function(VideoItemBuilder) updates]) = _$VideoItem;
      
        static Serializer<VideoItem> get serializer => _$videoItemSerializer;
      }
      
      abstract class VideoList implements Built<VideoList, VideoListBuilder> {
        BuiltList<VideoItem> get list;
      
        VideoList._();
        factory VideoList([void Function(VideoListBuilder) updates]) = _$VideoList;
      
        static Serializer<VideoList> get serializer => _$videoListSerializer;
      }
      ```


* ğŸš€ å¸¸è§çš„ä»£ç ç”Ÿæˆåº”ç”¨åœºæ™¯

  | åº”ç”¨åœºæ™¯          | ä½¿ç”¨è¯´æ˜                                           | å¸¸ç”¨åº“ / å·¥å…·                                     |
  | ----------------- | -------------------------------------------------- | ------------------------------------------------- |
  | âœ… JSON Model      | è‡ªåŠ¨ç”Ÿæˆ `fromJson()` / `toJson()`                 | `json_serializable` + `build_runner`              |
  | âœ… å¤šè¯­è¨€          | è‡ªåŠ¨ç”Ÿæˆ `AppLocalizations.of(context).xxx` çš„ä»£ç  | Flutter å®˜æ–¹ `flutter_localizations` + `gen_l10n` |
  | âœ… è·¯ç”±æ³¨å†Œ        | è‡ªåŠ¨æ³¨å†Œè·¯ç”±ï¼Œé¿å…æ‰‹å†™å­—ç¬¦ä¸²è·³è½¬                   | `auto_route`ã€`get`ã€`go_router` çš„ç”Ÿæˆå™¨         |
  | âœ… API å°è£…        | è‡ªåŠ¨ç”Ÿæˆè¯·æ±‚ç±»ã€å®ä½“ç±»ã€æ¥å£è°ƒç”¨                   | `retrofit` + `dio` + `json_serializable`          |
  | âœ… Freezed æ¨¡å‹    | è‡ªåŠ¨ç”Ÿæˆä¸å¯å˜ç±»ã€`copyWith()`ã€`==`ã€`hashCode`   | `freezed` + `build_runner`                        |
  | âœ… è¡¨è¾¾å¼å¤„ç†      | æ¯”å¦‚ `sealed_union` / `pattern matching`           | `sealed_unions`, `sum_types`, `match` ç­‰          |
  | âœ… è¡¨å•æ ¡éªŒç±»      | è‡ªåŠ¨ç”Ÿæˆè¡¨å•éªŒè¯å™¨                                 | `formz`, `reactive_forms`                         |
  | âœ… Bloc/State æ„å»º | è‡ªåŠ¨ç”Ÿæˆ Bloc çŠ¶æ€ã€äº‹ä»¶ç±»                         | `bloc` + `hydrated_bloc` + `freezed`              |
  | âœ… Equatableæ”¯æŒ   | è‡ªåŠ¨æ·»åŠ  `==` / `hashCode` æ¯”è¾ƒ                    | `freezed` å†…å»ºï¼Œæˆ– `equatable` æ‰‹åŠ¨               |
  | âœ… Hive Adapter    | è‡ªåŠ¨ç”Ÿæˆ Hive çš„ `TypeAdapter`                     | `hive_generator`                                  |
  | âœ… ORMï¼ˆæ•°æ®åº“ï¼‰   | è‡ªåŠ¨ç”Ÿæˆæ•°æ®åº“è¡¨å­—æ®µæ˜ å°„ã€æŸ¥è¯¢å‡½æ•°                 | `floor`, `moor`ï¼ˆdriftï¼‰                          |
  | âœ… æµ‹è¯• mock       | è‡ªåŠ¨ç”Ÿæˆ `@Mock()`ã€ä¼ªæ¥å£                         | `mockito` + `build_runner`                        |
  | âœ… Dart FFI        | è‡ªåŠ¨ç”Ÿæˆ FFI å¯¹åº”çš„ dart wrapper                   | `ffigen`                                          |

### 19ã€ğŸ—ï¸æ„é€ å‡½æ•° <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

#### 19.1ã€ğŸ“š å„ç§æ„é€ å‡½æ•°å½¢å¼è®²è§£

* **é»˜è®¤æ„é€ å‡½æ•°**ï¼ˆ<font color=red>**ä¸èƒ½æœ‰ä¸¤ä¸ªé»˜è®¤æ„é€ å‡½æ•°ï¼ˆåå­—ç›¸åŒï¼Œå‚æ•°ä¸åŒä¹Ÿä¸è¡Œï¼‰**</font>ï¼‰

  > é»˜è®¤æ„é€ å‡½æ•° == æ²¡å†™åå­—çš„å‘½åæ„é€ å‡½æ•°ã€‚

  ```dart
  class Person {
    final String name;
    Person(this.name); // é»˜è®¤æ„é€ å‡½æ•°ï¼ˆåªèƒ½æœ‰ä¸€ä¸ªï¼Œå‡½æ•°åå³ç±»åã€‚åå­—ç›¸åŒï¼Œå‚æ•°ä¸åŒä¹Ÿä¸è¡Œï¼‰
    // Person(int age); // âŒ æŠ¥é”™ï¼šé‡å¤å®šä¹‰æ„é€ å‡½æ•°
  }
  ```

* **å‘½åæ„é€ å‡½æ•°**ï¼ˆ<font color=red>**å¯ä»¥æœ‰å¤šä¸ªå‘½åæ„é€ å‡½æ•°ï¼Œä½†æ˜¯ï¼šå¿…é¡»æœ‰å”¯ä¸€åå­—**</font>ï¼‰

  ```dart
   class Person {
    final String name;
    final int age;
    Person(this.name, this.age); // é»˜è®¤æ„é€ å‡½æ•°ï¼ˆåªèƒ½æœ‰ä¸€ä¸ªï¼Œå‡½æ•°åå³ç±»åã€‚åå­—ç›¸åŒï¼Œå‚æ•°ä¸åŒä¹Ÿä¸è¡Œï¼‰
    Person.student(String name) : this(name, 18); // é»˜è®¤å­¦ç”Ÿ18å²
    Person.student(int age) : this("Jobs", age); // âŒ æŠ¥é”™ã€‚Dart ä¸æ”¯æŒæ„é€ å‡½æ•°çš„é‡è½½ï¼ˆä¸åƒ Java æˆ– C++ é‚£æ ·æ”¯æŒåŒåä¸åŒå‚ï¼‰
  }
  ```

  ```dart
  /// å‘½åæ„é€ å‡½æ•° çš„ç›¸å…³è°ƒç”¨
  void main() {
    var p1 = Person("Tom", 25);           // è°ƒç”¨é»˜è®¤æ„é€ å‡½æ•°
    var p2 = Person.student("Alice");     // è°ƒç”¨å‘½åæ„é€ å‡½æ•°
  
    print("${p1.name}, ${p1.age}");       // è¾“å‡º: Tom, 25
    print("${p2.name}, ${p2.age}");       // è¾“å‡º: Alice, 18
  }
  ```

* **åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•°**

  ```dart
  class User {
    final String upperName;
    // âœ… å¯¹å‚æ•°åšè½¬æ¢å¤„ç†
    User(String name) : upperName = name.toUpperCase();// å¯¹å¤–æ¥çš„å‚æ•°ï¼Œè¿›è¡Œä¸€æ¬¡å¤„ç†ä»¥åï¼Œå†èµ‹å€¼åˆ°æˆå‘˜å˜é‡ï¼ˆåˆå§‹åŒ– final å­—æ®µï¼‰
  }
  ```

  ```dart
  /// åˆå§‹åŒ–åˆ—è¡¨æ„é€ å‡½æ•° çš„ç›¸å…³è°ƒç”¨
  void main() {
    var user = User("jobs");
    print(user.upperName); // è¾“å‡ºï¼šJOBS
  }
  ```

* **`const` æ„é€ å‡½æ•°**ï¼ˆ**`Widget`** å¸¸ç”¨ï¼‰

  > | ä½œç”¨                          | å¥½å¤„                                                         |
  > | ----------------------------- | ------------------------------------------------------------ |
  > | ç¼–è¯‘æœŸå¸¸é‡                    | æé«˜æ€§èƒ½ï¼Œå‡å°‘å†…å­˜åˆ†é…                                       |
  > | æ”¯æŒ **`Widget`**  æ ‘ä¸­çš„ä¼˜åŒ– | [**Flutter**](https://flutter.dev/) çš„ `const` **`Widget`** å¯é¿å…é‡å»ºï¼Œæé«˜æ€§èƒ½ |
  > | è‡ªåŠ¨å¤ç”¨ç›¸åŒå®ä¾‹              | èŠ‚çœèµ„æºã€æé«˜æ•ˆç‡                                           |

  ```dart
  class Point {
    final int x, y;
    const Point(this.x, this.y);
  }
  ```

  ```dart
  /// æ™®é€šè°ƒç”¨ï¼ˆé constï¼‰
  void main() {
    var p = Point(3, 4);
    print('Point: (${p.x}, ${p.y})'); // è¾“å‡º: Point: (3, 4)
  }
  ```

  ```dart
  /// const è°ƒç”¨ï¼ˆç¼–è¯‘æœŸå¸¸é‡ï¼‰
  void main() {
    const p1 = Point(3, 4);
    const p2 = Point(3, 4);
    // identical(p1, p2) æ˜¯ Dart åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯â€œåŒä¸€ä¸ªå†…å­˜åœ°å€â€çš„æ–¹æ³•ã€‚
    // å› ä¸ºæ˜¯ constï¼Œæ‰€ä»¥ Dart ä¼šåœ¨ç¼–è¯‘æœŸæŠŠ (3, 4) çš„ Point å®ä¾‹ç¼“å­˜å¹¶å¤ç”¨ã€‚
    print(identical(p1, p2)); // true âœ… ç¼–è¯‘æœŸå¸¸é‡ï¼Œè‡ªåŠ¨å¤ç”¨åŒä¸€ä¸ªå¯¹è±¡
  }
  ```

* **`factory` æ„é€ å‡½æ•°**ï¼ˆé«˜çº§æ„å»ºæ–¹å¼ï¼‰

  ```dart
  class Person {
    final String name;
    Person._internal(this.name); // ç§æœ‰æ„é€ å‡½æ•°
    // å·¥å‚æ„é€ å‡½æ•°ï¼ˆå¯ä»¥ç¼“å­˜/æ§åˆ¶åˆ›å»ºï¼‰
    factory Person.fromJson(Map<String, dynamic> json) {
      return Person._internal(json['name']);
    }
  }
  ```

### 20ã€ğŸ“¦æ„å»ºæ‰“åŒ… <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

<font color=red>å¦‚æœ`./android`æˆ–è€…`./ios`ç›®å½•æŸå®³ï¼Œåº”è¯¥ç”±[**Flutter**](https://flutter.dev/)è‡ªåŠ¨ç”Ÿæˆï¼ˆå®šä½åˆ°[**Flutter**](https://flutter.dev/)é¡¹ç›®æ ¹ç›®å½•ï¼Œæ‰§è¡ŒğŸ‘‰ï¼‰ï¼š`flutter create .`</font>

> 1ï¸âƒ£ æ‰“åŒ…æ…¢ï¼Œå°¤å…¶[**Android**](https://www.android.com/)å¹³å°
>
> 2ï¸âƒ£ [**Flutter**](https://flutter.dev/) çš„3å¤§æ„å»ºæ¨¡å¼
>
> | å¯¹æ¯”é¡¹                     | `debug` æ¨¡å¼                                  | `profile` æ¨¡å¼                  | `release` æ¨¡å¼                     |
> | -------------------------- | --------------------------------------------- | ------------------------------- | ---------------------------------- |
> | âœ… **ç”¨é€”**                 | å¼€å‘è°ƒè¯•é˜¶æ®µ                                  | æ€§èƒ½åˆ†æé˜¶æ®µ                    | ä¸Šçº¿å‘å¸ƒç»™ç”¨æˆ·                     |
> | ğŸ§  **Dart æ‰§è¡Œæ–¹å¼**        | JITï¼ˆå³æ—¶ç¼–è¯‘ï¼‰                               | AOTï¼ˆæå‰ç¼–è¯‘ï¼‰+ éƒ¨åˆ†è°ƒè¯•æ”¯æŒ   | å®Œæ•´ AOT ç¼–è¯‘ï¼ˆæœ€é«˜æ€§èƒ½ï¼‰          |
> | ğŸš€ **æ€§èƒ½ä¼˜åŒ–**             | æ— ä¼˜åŒ–                                        | å¯ç”¨å¤§éƒ¨åˆ†æ€§èƒ½ä¼˜åŒ–              | å®Œå…¨ä¼˜åŒ–                           |
> | ğŸ“¦ **åŒ…ä½“ç§¯å¤§å°**           | æœ€å¤§ï¼ˆå«è°ƒè¯•ä¿¡æ¯ã€Dart VMï¼‰                   | ä¸­ç­‰                            | æœ€å°ï¼ˆæ ‘æ‘‡ä¼˜åŒ–ã€æ··æ·†ã€æ— è°ƒè¯•ä¿¡æ¯ï¼‰ |
> | ğŸ” **æ”¯æŒçƒ­é‡è½½**           | âœ… æ”¯æŒ                                        | âŒ ä¸æ”¯æŒ                        | âŒ ä¸æ”¯æŒ                           |
> | ğŸ§ª **DevTools æ”¯æŒ**        | âœ… æ”¯æŒè°ƒè¯•å’Œ DevTools                         | âœ… æ”¯æŒéƒ¨åˆ† DevToolsï¼ˆæ€§èƒ½åˆ†æï¼‰ | âŒ ä¸æ”¯æŒè°ƒè¯•å·¥å…·                   |
> | ğŸ **æ–­ç‚¹è°ƒè¯• / `print()`** | âœ… æ”¯æŒæ–­ç‚¹å’Œ `print()` è¾“å‡º                   | âœ… æ”¯æŒ `print()`ï¼ˆéƒ¨åˆ†æ–­ç‚¹ï¼‰    | âŒ `print()` é»˜è®¤ä¸è¾“å‡º / è¢«è£å‰ª    |
> | ğŸ”’ **æ··æ·†æ”¯æŒ**             | âŒ é»˜è®¤å…³é—­                                    | âŒ é»˜è®¤å…³é—­                      | âœ… å¯å¼€å¯ï¼ˆéœ€é…ç½® Proguard / R8ï¼‰   |
> | ğŸ§¬ **ä»£ç ç­¾å**             | âŒ ä¸ç­¾åï¼ˆå¼€å‘åŒ…ï¼‰                            | âœ… å¯ç­¾åï¼ˆéœ€é…ç½®ï¼‰              | âœ… å¼ºåˆ¶ç­¾åï¼ˆå‘å¸ƒåŒ…ï¼‰               |
> | ğŸ” **Flutter inspector**    | âœ… å¯ç”¨                                        | âŒ ä¸å¯ç”¨                        | âŒ ä¸å¯ç”¨                           |
> | ğŸ›  **æ„å»ºå‘½ä»¤**             | `flutter build apk --debug`                   | `flutter build apk --profile`   | `flutter build apk --release`      |
> | ğŸ“ **è¾“å‡ºè·¯å¾„**             | `build/app/outputs/flutter-apk/app-debug.apk` | `.../app-profile.apk`           | `.../app-release.apk`              |

* æ„å»ºç¯å¢ƒæ¸…ç†ä¸è¯Šæ–­å‘½ä»¤å¯¹ç…§è¡¨

  * ğŸ§¹ [**Flutter**](https://flutter.dev/) æ„å»ºç¯å¢ƒæ¸…ç†ä¸è¯Šæ–­å‘½ä»¤å¯¹ç…§è¡¨

    | ğŸ“¦ å‘½ä»¤            | ğŸ’¡ è¯´æ˜                                                       |
    | ----------------- | ------------------------------------------------------------ |
    | `flutter clean`   | æ¸…ç† [**Flutter**](https://flutter.dev/) æ„å»ºäº§ç‰©ï¼ˆé€‚ç”¨äº iOS å’Œ Androidï¼‰ï¼Œè§£å†³å¼‚å¸¸æ„å»ºã€ç¼“å­˜é—®é¢˜ |
    | `flutter pub get` | é‡æ–°è·å– Dart ä¾èµ–ï¼ˆé€šå¸¸é…åˆ clean ä¸€èµ·ä½¿ç”¨ï¼‰                |

  * ğŸ **iOS** ä¸“ç”¨å‘½ä»¤

    | å‘½ä»¤                                                         | è¯´æ˜                                                         |
    | ------------------------------------------------------------ | ------------------------------------------------------------ |
    | `rm -rf ios/Pods`                                            | åˆ é™¤ **iOS** ç¬¬ä¸‰æ–¹ä¾èµ–ï¼ˆ**Pods** æ–‡ä»¶å¤¹ï¼‰                   |
    | `rm ios/Podfile.lock`                                        | åˆ é™¤ Pod ç‰ˆæœ¬é”å®šæ–‡ä»¶                                        |
    | `pod install`                                                | å®‰è£… **iOS** ä¾èµ–ï¼Œéœ€ [**CocoaPods**](https://cocoapods.org/) æ”¯æŒ |
    | `pod update`                                                 | å‡çº§ **iOS** ä¾èµ–ï¼Œä¼šæ›´æ–°æ‰€æœ‰ **Pods** ç‰ˆæœ¬                  |
    | `arch -x86_64 pod install`ï¼ˆIntel æ„å»ºå…¼å®¹å‘½ä»¤ï¼Œé€‚ç”¨äº Apple Siliconï¼‰ | è§£å†³éƒ¨åˆ†æ’ä»¶ä¸å…¼å®¹ ARM çš„é—®é¢˜                                |
    | `flutter build ios --no-codesign`                            | æ„å»º **iOS** é¡¹ç›®ä½†è·³è¿‡ç­¾åï¼Œé€‚ç”¨äº CI æˆ–è°ƒè¯•ç¯å¢ƒ            |
    | `open ios/Runner.xcworkspace`                                | ç”¨ [**XCode**](https://developer.apple.com/xcode/) æ‰“å¼€ **iOS** å·¥ç¨‹ï¼ˆä½¿ç”¨ [**CocoaPods**](https://cocoapods.org/) ç®¡ç†æ—¶å¿…é¡»ï¼‰ |

  * ğŸ¤– **Android** ä¸“ç”¨å‘½ä»¤

    | å‘½ä»¤                                                    | è¯´æ˜                                                         |
    | ------------------------------------------------------- | ------------------------------------------------------------ |
    | `rm -rf android/.gradle`                                | åˆ é™¤ [**Android**](https://www.android.com/) å±‚çš„ gradle ç¼“å­˜ï¼Œé€‚ç”¨äºä¾èµ–å¼‚å¸¸æˆ–ç‰ˆæœ¬å†²çªé—®é¢˜ |
    | `rm -rf ~/.gradle`                                      | åˆ é™¤å…¨å±€ **gradle** ç¼“å­˜ï¼ˆæ…ç”¨ï¼‰ï¼Œè§£å†³æŸäº› **gradle** æ®‹ç•™ bug |
    | `rm -rf android/build`                                  | åˆ é™¤ [**Android**](https://www.android.com/) æ„å»ºäº§ç‰©        |
    | `flutter build apk`                                     | æ„å»º **APK** æ–‡ä»¶ï¼ˆé€‚ç”¨äºè°ƒè¯•å®‰è£…ï¼‰                          |
    | `flutter build appbundle`                               | æ„å»º **AAB** åŒ…ï¼ˆç”¨äº[**Google Play**](https://play.google.com/)ä¸Šæ¶ï¼‰ |
    | `flutter build apk --debug` / `--release` / `--profile` | æ ¹æ®æ¨¡å¼æ„å»ºå¯¹åº” **APK**                                     |
    | `./gradlew clean`ï¼ˆåœ¨ `android/` ç›®å½•ä¸‹ï¼‰               | æ‰§è¡Œ [**Android**](https://www.android.com/) åŸç”Ÿ **gradle** æ¸…ç†ï¼ˆ`Flutter clean `ä¸ä¼šæ¸…ç†å…¨éƒ¨ï¼‰ |
    | `./gradlew build`                                       | æ„å»ºå®Œæ•´ [**Android**](https://www.android.com/) åŸç”Ÿé¡¹ç›®ï¼ˆåŒ…æ‹¬ **Java**/**Kotlin** ä»£ç ï¼‰ |

  * ğŸ› ï¸ è¯Šæ–­ä¸ç¯å¢ƒæ£€æŸ¥å‘½ä»¤

    | å‘½ä»¤                   | è¯´æ˜                                                         |
    | ---------------------- | ------------------------------------------------------------ |
    | `flutter doctor -v`    | æ£€æŸ¥ [**Flutter**](https://flutter.dev/)ã€**Dart**ã€[**XCode**](https://developer.apple.com/xcode/)ã€[**Android**]([**Android**](https://www.android.com/))ã€[**CocoaPods**](https://cocoapods.org/)ã€**Java** é…ç½®ç­‰æ‰€æœ‰ç¯å¢ƒ |
    | `flutter pub outdated` | æ£€æŸ¥ `pubspec.yaml` ä¸­çš„ä¾èµ–æ˜¯å¦æœ‰æ›´æ–°                       |
    | `flutter analyze`      | åˆ†æ **Dart** ä»£ç è§„èŒƒä¸é™æ€é”™è¯¯                             |
    | `flutter upgrade`      | å‡çº§ [**Flutter**](https://flutter.dev/).**SDK** åˆ°æœ€æ–°ç‰ˆæœ¬  |
  
* ğŸ“¦ [**Flutter**](https://flutter.dev/) æ„å»ºæ¨¡å¼æ€»è§ˆè¡¨

  | æ¨¡å¼å                             | å‘½ä»¤ / é…ç½®ç¤ºä¾‹                                  | ç¼–è¯‘æ–¹å¼           | æ˜¯å¦è°ƒè¯•   | æ˜¯å¦ä¼˜åŒ–     | ä¸»è¦ç”¨é€”                          | é€‚ç”¨å¹³å°                              | å¤‡æ³¨                            |
  | ---------------------------------- | ------------------------------------------------ | ------------------ | ---------- | ------------ | --------------------------------- | ------------------------------------- | ------------------------------- |
  | <font color=red>**debug**</font>   | `flutter run``flutter build apk --debug`         | **JIT**            | âœ… æ”¯æŒ     | âŒ æ— ä¼˜åŒ–     | å¼€å‘è°ƒè¯•                          | **Android**<br/> **iOS**<br/> **Web** | é»˜è®¤æ¨¡å¼ï¼Œæ”¯æŒçƒ­é‡è½½            |
  | <font color=red>**profile**</font> | `flutter build apk --profile`                    | **AOT+Profile**    | âš ï¸ é™åˆ¶è°ƒè¯• | âœ… éƒ¨åˆ†ä¼˜åŒ–   | æ€§èƒ½åˆ†æ                          | **Android**<br/>**iOS**<br/>**Web**   | ä¸æ”¯æŒæ–­ç‚¹è°ƒè¯•ï¼Œä½†æ”¯æŒ DevTools |
  | <font color=red>**release**</font> | `flutter build apk --release`                    | **AOT**            | âŒ ç¦ç”¨     | âœ… æœ€å¤§ä¼˜åŒ–   | ä¸Šçº¿å‘å¸ƒ                          | **Android**<br/> **iOS**<br/> **Web** | æ— è°ƒè¯•ç¬¦å·ï¼Œè¿è¡Œæœ€å¿«            |
  | **web-debug**                      | `flutter run -d chrome`                          | **Dart Dev**       | âœ… æ”¯æŒ     | âŒ æ— ä¼˜åŒ–     | **Web** å¼€å‘                      | **Web**<br/>ï¼ˆChrome ç­‰ï¼‰             | å¯åŠ¨æœ¬åœ° dev-server             |
  | **web-profile**                    | `flutter build web --profile`                    | **Dart2JS **+ è°ƒè¯• | âš ï¸ é™åˆ¶è°ƒè¯• | âœ… ä¼˜åŒ–éƒ¨åˆ†   | **Web** æ€§èƒ½æµ‹è¯•                  | **Web**<br/>                          | ç”¨äº Web åŸºå‡†æµ‹è¯•               |
  | **web-release**                    | `flutter build web --release`                    | **Dart2JS** + ä¼˜åŒ– | âŒ ç¦ç”¨     | âœ… æœ€å¤§ä¼˜åŒ–   | **Web** ä¸Šçº¿                      | **Web**<br/>                          | ç”¨äºéƒ¨ç½²ç”Ÿäº§ç¯å¢ƒ                |
  | **jit_release**                    | å†…éƒ¨æµ‹è¯•é…ç½®ï¼ˆéå®˜æ–¹å…¬å¼€ï¼‰                       | **JIT (Release)**  | âš ï¸ é™åˆ¶     | âœ… ç±» release | å†…éƒ¨æµ‹è¯•ã€éªŒè¯è¡Œä¸ºå·®å¼‚            | å®éªŒæ€§/åµŒå…¥å¼åœºæ™¯                     | CLI ä¸æ”¯æŒï¼Œéœ€æ‰‹åŠ¨è®¾ç½®          |
  | **dynamic**                        | [**Flutter**](https://flutter.dev/) åŠ¨æ€é›†æˆåœºæ™¯ | **JIT + AOT**      | ä¾é¡¹ç›®é…ç½® | ä¾é¡¹ç›®é…ç½®   | Add-to-App æ··åˆå¼€å‘               | **Android**<br/>**iOS**               | åŸç”ŸåŠ¨æ€åŠ è½½ Flutter            |
  | **flavor æ¨¡å¼**                    | `flutter build apk --flavor staging`             | ä¾æ‰€é€‰æ¨¡å¼         | ä¾æ‰€é€‰æ¨¡å¼ | ä¾æ‰€é€‰æ¨¡å¼   | å¤šç¯å¢ƒæ‰“åŒ…ï¼ˆ`staging`ã€`uat` ç­‰ï¼‰ | **Android**<br/>**iOS**               | éç¼–è¯‘æ¨¡å¼ï¼Œå±äºæ„å»ºé…ç½®        |

#### 20.1ã€ğŸ“¦ [**Flutter**](https://flutter.dev/).[**Android**](https://www.android.com/)ï¼ˆè¾ƒä¸ºå¤æ‚å’Œç¹çï¼‰ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

##### 20.1.1ã€ [**`sdkmanager`**](https://developer.android.com/tools/sdkmanager?hl=zh-cn) <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

>  [**`sdkmanager`**](https://developer.android.com/tools/sdkmanager?hl=zh-cn) ï¼ˆ<font color=red>**å»ºè®®ä¿æŒæœ€æ–°**</font>ï¼‰æ˜¯[**Android**](https://www.android.com/).**SDK**å‘½ä»¤è¡Œå·¥å…·ï¼š[Android **Command Line Tools**](https://developer.android.com/tools?hl=zh-cn)çš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºç®¡ç† [**Android**](https://www.android.com/).**SDK** çš„ç»„ä»¶ã€‚å®ƒå…è®¸ä½ ä»ç»ˆç«¯å®‰è£…ã€æ›´æ–°ã€æŸ¥çœ‹å’Œå¸è½½[**Android**](https://www.android.com/).**SDK**ä¸­çš„å„ç§åŒ…ï¼Œæ¯”å¦‚ï¼š
>
>  - [**Android**](https://www.android.com/) å¹³å°ï¼ˆå¦‚ `platforms;android-34`ï¼‰
>  - æ„å»ºå·¥å…·ï¼ˆå¦‚ `build-tools;34.0.0`ï¼‰
>  - ç³»ç»Ÿé•œåƒï¼ˆå¦‚ `system-images;android-34;google_apis;x86_64`ï¼‰
>  - æ¨¡æ‹Ÿå™¨ï¼ˆå¦‚ `emulator`ï¼‰
>  - å…¶ä»–å·¥å…·ç»„ä»¶ï¼ˆå¦‚ `cmdline-tools`, `platform-tools`, `ndk`, `sources` ç­‰ï¼‰

*  [**`sdkmanager`**](https://developer.android.com/tools/sdkmanager?hl=zh-cn)çš„å®‰è£…æ–¹å¼

  * [**Android Studio**](https://developer.android.com/studio?hl=zh-cn) è‡ªå¸¦ï¼ˆæœ€å¸¸è§æ–¹å¼ï¼‰

    * å®‰è£… [**Android Studio**](https://developer.android.com/studio?hl=zh-cn) æ—¶ï¼Œä¼šè‡ªåŠ¨å®‰è£…[**Android**](https://www.android.com/).**SDK**å’Œ [**`sdkmanager`**](https://developer.android.com/tools/sdkmanager?hl=zh-cn) 

    * è·¯å¾„ä¸€èˆ¬åœ¨ï¼š

      ```shell
      # æ–°ç‰ˆæœ¬
      ~/Library/Android/sdk/cmdline-tools/latest/bin/sdkmanager
      ```

      ```shell
      # æ—§ç‰ˆæœ¬
      ~/Library/Android/sdk/tools/bin/sdkmanager
      ```

  * [**Homebrew**](https://brew.sh/) å®‰è£…ï¼ˆ<font color=red>**macOS** æ¨è</font>ï¼‰

    * ```shell
      brew install --cask android-commandlinetools
      ```

      ```shell
      cp -R /opt/homebrew/share/android-commandlinetools/cmdline-tools ~/Library/Android/sdk/cmdline-tools/latest
      ```

  * æ‰‹åŠ¨ä¸‹è½½å®‰è£…ï¼ˆ[**ğŸ”— å®˜æ–¹ zip åŒ…**](https://developer.android.com/studio#command-tools)ï¼‰ ï¼šè§£å‹åˆ° ğŸ‘‰ `~/Library/Android/sdk/cmdline-tools/latest/bin/sdkmanager`

    * ç”¨äºè‡ªå®šä¹‰ **CI/CD** ç¯å¢ƒï¼ˆå¦‚ [**Docker**](https://www.docker.com/)é•œåƒï¼‰

##### 20.1.2ã€[**Gradle**](https://gradle.org/) <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> ä¸€ä¸ªé«˜åº¦å¯é…ç½®ã€æ’ä»¶åŒ–ã€ç°ä»£åŒ–çš„è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·ï¼ˆå¹³å°æ— å…³ï¼‰

* ä» [**Flutter**](https://flutter.dev/) **3.16 èµ·**ï¼Œ[**Flutter**](https://flutter.dev/) å®˜æ–¹é»˜è®¤ä½¿ç”¨ [**Kotlin DSL**](https://docs.gradle.org/current/userguide/kotlin_dsl.html)ä½œä¸º **Android** æ„å»ºè„šæœ¬ï¼ˆä¸ºäº†æ›´å¥½æ”¯æŒç±»å‹æç¤ºå’Œç°ä»£åŒ– [**Gradle**](https://gradle.org/) æ„å»ºï¼‰

* [**Gradle**](https://gradle.org/) å®˜æ–¹å¹¶<font color=red>**ä¸æ”¯æŒ**</font> iOS æ„å»º

  | åŸå›                                            | è¯´æ˜                                                         |
  | ---------------------------------------------- | ------------------------------------------------------------ |
  | [**ğŸApple**](https://www.apple.com/)å®˜æ–¹ä¸æ”¯æŒ | [**ğŸApple**](https://www.apple.com/) çš„å·¥å…·é“¾æ˜¯[**XCode**](https://developer.apple.com/xcode/).**build** / [**fastlane**](https://fastlane.tools/)ï¼Œ[**Gradle**](https://gradle.org/) æ— æ³•å®Œå…¨æ›¿ä»£ |
  | ğŸ” ç­¾åå¤æ‚                                     | **iOS** æ„å»ºæ¶‰åŠ :`ä»£ç ç­¾å`ã€`Provisioning Profile`ã€`Entitlements` ç­‰ï¼Œä½¿ç”¨ [**Gradle**](https://gradle.org/)  ä¸å¦‚[**XCode**](https://developer.apple.com/xcode/)åŸç”Ÿå·¥å…·é¡ºç•… |
  | ğŸ”Œ æ’ä»¶è¾ƒå°‘                                     | [**Gradle**](https://gradle.org/) ç”Ÿæ€åå‘ **Java**/**Android**ï¼Œ**iOS** æ”¯æŒæ’ä»¶æå°‘ |
  | ğŸ‘¥ å›¢é˜Ÿåä½œéš¾                                   | å¤§éƒ¨åˆ† **iOS** å›¢é˜Ÿæˆå‘˜æ›´ç†Ÿæ‚‰ [**XCode**](https://developer.apple.com/xcode/)åŸç”Ÿå·¥å…·é¡ºç•…ï¼Œä¸ä¹ æƒ¯ä½¿ç”¨ [**Gradle**](https://gradle.org/) |

  ğŸ’¡ ä¾‹å¤–æƒ…å†µï¼š**Kotlin Multiplatform (KMM)**

  å¦‚æœä½¿ç”¨ **Kotlin Multiplatform Mobile (KMM)** å¼€å‘ **iOS** + **Android** åŒç«¯ä»£ç ï¼š

  - **Android**ç”¨ [**Gradle**](https://gradle.org/)  æ„å»º
  - **iOS** ä½¿ç”¨ [**Gradle**](https://gradle.org/)  ç”Ÿæˆå…±äº«æ¨¡å—ï¼ˆ`.framework`ï¼‰ï¼Œå†ç”±[**XCode**](https://developer.apple.com/xcode/) é›†æˆ

  ğŸ“Œ æ‰€ä»¥ **Gradle å¯ä»¥å‚ä¸æ„å»º iOS çš„ä¸€éƒ¨åˆ†ï¼ˆå…±äº«é€»è¾‘ï¼‰ï¼Œä½†æœ€ç»ˆç”Ÿæˆå’Œæ‰“åŒ… IPA ä»ç„¶äº¤ç»™ [XCode](https://developer.apple.com/xcode/)å®Œæˆ**ã€‚

* [**Gradle**](https://gradle.org/)çš„ä¼˜åŠ¿

  | ç‰¹æ€§         | ä¼˜åŠ¿è¯´æ˜                             |
  | ------------ | ------------------------------------ |
  | â›“ï¸ ä¾èµ–ç¼“å­˜   | ç¼“å­˜ä¾èµ–ï¼Œé¿å…é‡å¤ä¸‹è½½ï¼Œæé«˜æ„å»ºé€Ÿåº¦ |
  | ğŸ” å¢é‡æ„å»º   | åªç¼–è¯‘ä¿®æ”¹çš„éƒ¨åˆ†ï¼ŒåŠ å¿«æ„å»ºæ—¶é—´       |
  | ğŸ“œ è‡ªå®šä¹‰ä»»åŠ¡ | ä½ å¯ä»¥å†™ä»»æ„è„šæœ¬å¤„ç†å¤æ‚æ„å»ºæµç¨‹     |
  | ğŸ§© æ’ä»¶æ”¯æŒ   | ç¤¾åŒºæ’ä»¶å’Œå®˜æ–¹æ’ä»¶æ”¯æŒå¼ºå¤§æ‰©å±•æ€§     |

* ğŸ§±  [**Gradle**](https://gradle.org/) çš„åŸºæœ¬ç»„æˆ

  * **`build.gradle` æ–‡ä»¶**ï¼šæ„å»ºè„šæœ¬ï¼Œå®šä¹‰æ„å»ºé€»è¾‘ï¼ˆ**Groovy** æˆ– **Kotlin** è¯­æ³•ï¼‰
  * **Project / Module ç»“æ„**ï¼š
    - æ¯ä¸ªé¡¹ç›®æœ‰ä¸€ä¸ªæ ¹ç›®å½•çš„ `build.gradle`
    - æ¯ä¸ªæ¨¡å—ï¼ˆå¦‚ appï¼‰ä¹Ÿæœ‰è‡ªå·±çš„ `build.gradle`

* ```groovy
  plugins {
      id 'com.android.application'
      id 'kotlin-android'
  }
  
  android {
      compileSdk 34
  
      defaultConfig {
          applicationId "com.example.myapp"
          minSdk 24
          targetSdk 34
          versionCode 1
          versionName "1.0"
      }
  
      buildTypes {
          release {
              minifyEnabled false
          }
      }
  }
  
  dependencies {
      implementation "androidx.core:core-ktx:1.12.0"
      implementation "androidx.appcompat:appcompat:1.6.1"
  }
  ```

##### 20.1.3ã€<font id=AGP>[<font color=red>**AGP**</font>](https://developer.android.com/build/agp-upgrade-assistant?hl=zh-cn) = <font color=red>**A**</font>ndroid <font color=red>**G**</font>radle <font color=red>**P**</font>lugin</font> <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a> 

* ğŸ§±  [<font color=red>**AGP**</font>](https://developer.android.com/build/agp-upgrade-assistant?hl=zh-cn) æ˜¯è¿æ¥ [**Gradle**](https://gradle.org/) å’Œ **Android æ„å»ºé€»è¾‘** çš„æ¡¥æ¢

  | åŠŸèƒ½          | è¯´æ˜                                                         |
  | ------------- | ------------------------------------------------------------ |
  | ğŸ“¦ ç¼–è¯‘ & æ‰“åŒ… | æ§åˆ¶ `.java`/`.kt` æ–‡ä»¶ç¼–è¯‘ã€èµ„æºæ‰“åŒ…ã€ç”Ÿæˆ **`.apk`** / **`.aab`** |
  | ğŸ§© æ’ä»¶æ‰©å±•    | æ”¯æŒ `kotlin-android`ã€`kapt`ã€`Jetpack Compose` ç­‰æ’ä»¶      |
  | ğŸ—ï¸ æ„å»ºé…ç½®    | è§£æ `build.gradle` ä¸­çš„ `buildTypes`ã€`productFlavors` ç­‰   |
  | ğŸ è°ƒè¯•æ”¯æŒ    | æä¾›è°ƒè¯•ã€ç­¾åã€æ··æ·†ã€**Proguard** ç­‰åŠŸèƒ½                    |
  | ğŸ“¤ ä¸ IDE é…åˆ | å’Œ [**Android Studio**](https://developer.android.com/studio?hl=zh-cn) é…åˆè¿›è¡Œæ„å»ºåˆ†æã€**Lint** æ£€æŸ¥ç­‰ |

* ğŸ“ [<font color=red>**AGP**</font>](https://developer.android.com/build/agp-upgrade-assistant?hl=zh-cn) å­˜åœ¨çš„ä½ç½®ğŸ‘‡

  * è€æ—§é¡¹ç›®ï¼š`./plugins/htprotect/android/build.gradle`

    ```groovy
    /// ä»…å¯¹æœªä½¿ç”¨ plugins DSL çš„è€é¡¹ç›®ä»ç„¶ç”Ÿæ•ˆ
    /// ä¼˜å…ˆçº§ä½
    buildscript {
        dependencies {
            classpath 'com.android.tools.build:gradle:7.3.0'  // ğŸ‘ˆ AGP å°±æ˜¯è¿™é‡Œï¼
        }
    }
    ```

  * æ–°é¡¹ç›®ï¼š`./android/settings.gradle`

    ```groovy
    /// æˆ–è€…åœ¨æ–°æ¨¡æ¿ä¸­ï¼ˆä½¿ç”¨ plugins DSLï¼‰ï¼š
    /// ä¼˜å…ˆçº§é«˜
    plugins {
        id 'com.android.application' version '8.3.0' apply false
    }
    ```

* ğŸ§   [<font color=red>**AGP**</font>](https://developer.android.com/build/agp-upgrade-assistant?hl=zh-cn)  â‰   [**Gradle**](https://gradle.org/) 

  | æ¯”è¾ƒé¡¹                 | [<font color=red>**AGP**</font>](https://developer.android.com/build/agp-upgrade-assistant?hl=zh-cn) | [**Gradle**](https://gradle.org/)                  |
  | ---------------------- | ------------------------------------------------------------ | -------------------------------------------------- |
  | æ‰€å±                   | [**Android**](https://www.android.com/)  å®˜æ–¹                | [**Gradle**](https://gradle.org/)  ç¤¾åŒº            |
  | ä½œç”¨                   | æä¾› [**Android**](https://www.android.com/)  æ„å»ºé€»è¾‘       | æä¾›é€šç”¨æ„å»ºç³»ç»Ÿ                                   |
  | ç‰ˆæœ¬å…³ç³»               | ä¸åŒ [<font color=red>**AGP**</font>](https://developer.android.com/build/agp-upgrade-assistant?hl=zh-cn)  éœ€é…å¥—ä¸åŒ [**Gradle**](https://gradle.org/) | ç‹¬ç«‹æ›´æ–°                                           |
  | **Flutter** é¡¹ç›®ä¸­ä½ç½® | `build.gradle` ä¸­çš„ `classpath`                              | `gradle-wrapper.properties` ä¸­çš„ `distributionUrl` |

##### 20.1.4ã€[**Android**](https://www.android.com/)  æ‰“åŒ…çš„äº§ç‰© <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| é¡¹ç›®                 | <font color=red>**A**</font>ndroid <font color=red>**p**</font>ac<font color=red>**k**</font>age | <font color=red>**A**</font>ndroid <font color=red>**a**</font>pp <font color=red>**b**</font>undle |
| -------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| **åç¼€å**           | `.apk`                                                       | `.aab`                                                       |
| **æ„å»ºå‘½ä»¤**         | `flutter build apk --release`                                | `flutter build appbundle --release`                          |
| **æ˜¯å¦å¯å®‰è£…**       | âœ… ç›´æ¥å®‰è£…åˆ°è®¾å¤‡                                             | âŒ ä¸èƒ½ç›´æ¥å®‰è£…ï¼ˆéœ€ä½¿ç”¨ `bundletool` ç”Ÿæˆ `.apk`ï¼‰            |
| **æ˜¯å¦å¯å‘å¸ƒ**       | âœ… å¯ç”¨äºç¬¬ä¸‰æ–¹æ¸ é“ã€å†…éƒ¨æµ‹è¯•                                 | âœ… æ¨èç”¨äº [**Google Play**](https://play.google.com/) å•†åº—  |
| **æ˜¯å¦åŒ…å«å…¨éƒ¨èµ„æº** | âœ… æ˜¯ä¸€ä¸ªå®Œæ•´åº”ç”¨åŒ…ï¼ŒåŒ…å«æ‰€æœ‰æ¶æ„å’Œèµ„æº                       | âŒ ä¸åŒ…å«æœ€ç»ˆ `.apk`ï¼Œéœ€æ ¹æ®è®¾å¤‡åŠ¨æ€ç”Ÿæˆ                      |
| **å¤§å°**             | ä¸€èˆ¬æ¯”å¯¹åº” `.aab` æ›´å¤§ï¼ˆ**åŒ…å«æ‰€æœ‰èµ„æº**ï¼‰                   | æ›´å°ï¼ˆä¸Šä¼ åˆ°  [**Play**](https://play.google.com/)  ååˆ†å‘**æŒ‰éœ€ç”Ÿæˆ`.apk`**ï¼‰ |
| **è°ƒè¯•æ”¯æŒ**         | âœ… æ”¯æŒè°ƒè¯•ï¼ˆ**Debug**/**Release** éƒ½å¯ï¼‰                     | ğŸš« ä¸æ”¯æŒè°ƒè¯•                                                 |
| **ç”Ÿæˆåä½ç½®**       | `build/app/outputs/flutter-apk/app-release.apk`              | `build/app/outputs/bundle/release/app-release.aab`           |
| **å¸¸è§ç”¨é€”**         | å†…éƒ¨æµ‹è¯•ã€ç¬¬ä¸‰æ–¹åˆ†å‘ã€å®‰è£…åŒ…å¤‡ä»½                             | ä¸Šä¼  [**Google Play**](https://play.google.com/) å•†åº—        |
| **æ˜¯å¦æ¨è**         | âœ… ç¬¬ä¸‰æ–¹æˆ–ç§æœ‰æ¸ é“ä½¿ç”¨                                       | âœ… [**Google**](https://www.google.com/) å®˜æ–¹æ¨èä¸Šä¼  [**Play**](https://play.google.com/) å•†åº—ä½¿ç”¨ |

##### 20.1.5ã€[**Flutter**](https://flutter.dev/)æ‰“[**Android**](https://www.android.com/) åŒ…çš„æµç¨‹å›¾ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

```mermaid
graph TD
    A[Flutter Build] --> B[Dart Snapshot AOT Compile]
    B --> C[assembleRelease.gradle compile native .so]
    C --> D[Gradle compile Java/Kotlin]
    D --> E[Merge Manifest / Resources / Assets]
    E --> F[zipalign + apksigner]
    F --> G[Generate final APK]
```

##### 20.1.6ã€å¦‚ä½•åŠ å¿«[**Flutter**](https://flutter.dev/).[**Android**](https://www.android.com/)çš„æ‰“åŒ…é€Ÿåº¦ï¼Ÿ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| ä¼˜åŒ–æ–¹å¼                                            | æ“ä½œè¯´æ˜                                                     |
| --------------------------------------------------- | ------------------------------------------------------------ |
| âœ… å¯ç”¨  [**Gradle**](https://gradle.org/) ç¼“å­˜      | ä½¿ç”¨ `--build-cache`ï¼Œé¿å…é‡å¤ç¼–è¯‘                           |
| âœ… **ä½¿ç”¨å¢é‡ç¼–è¯‘ï¼ˆdebugï¼‰**                         | æ—¥å¸¸å¼€å‘å°½é‡ç”¨ `flutter run` æˆ– `--debug`                    |
| âœ… å¼€å¯ [**Gradle**](https://gradle.org/) **daemon** | `~/.gradle/gradle.properties` ä¸­åŠ ï¼š`org.gradle.daemon=true` |
| âœ… **æœ¬åœ°ä¾èµ–ç¼“å­˜**                                  | é…ç½® [**Gradle**](https://gradle.org/) ç¦»çº¿æ¨¡å¼ã€é•œåƒæºï¼ˆä¾‹å¦‚é˜¿é‡Œäº‘ï¼‰ |
| âœ… **é¿å…æ¸…é™¤ build/ å¤ªé¢‘ç¹**                        | ä¸è¦ç»å¸¸æ‰§è¡Œ `flutter clean`ï¼Œé™¤éå¿…é¡»                       |
| âœ… **ä½¿ç”¨ SSD æˆ–æ¸…ç†ç£ç›˜ç©ºé—´**                       | é¿å…å›  I/O æ€§èƒ½å½±å“æ„å»ºé€Ÿåº¦                                  |
| âœ… **è®¾ç½®æ„å»ºçº¿ç¨‹æ•°**                                | [**Gradle**](https://gradle.org/) ä¸­è®¾ç½®ï¼š`org.gradle.parallel=true` |
| âœ… [**Flutter**](https://flutter.dev/) **ç‰ˆæœ¬æ›´æ–°**  | æ–°ç‰ˆæœ¬é€šå¸¸å¯¹æ„å»ºæ€§èƒ½æœ‰ä¼˜åŒ–                                   |

##### 20.1.7ã€ğŸª–<font color=red>**æ„å»ºæŒ‡ä»¤**</font>ï¼š`flutter build apk` <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

| æ¨¡å¼      | å‘½ä»¤                                                   | ç®€ç§°è¯´æ˜             |
| --------- | ------------------------------------------------------ | -------------------- |
| `debug`   | `flutter build apk --debug --verbose` æˆ– `flutter run` | å¼€å‘è°ƒè¯•ç”¨ï¼ŒåŠŸèƒ½å…¨   |
| `release` | `flutter build apk --release --verbose`                | å‘å¸ƒç”¨ï¼Œé«˜æ€§èƒ½æœ€å°åŒ… |

**`flutter build apk`** ç­‰ä»·äºğŸ‘‡

```shell
cd /path/to/flutter_project/build/app/.android

./gradlew \
  -I /path/to/flutter/bin/cache/artifacts/engine/android-arm-release/flutter.gradle \
  -Ptarget=/path/to/flutter_project/lib/main.dart \
  -Ptarget-platform=android-arm,android-arm64 \
  -Pdart-defines= \
  -Pdart-obfuscation=false \
  -Ptrack-widget-creation=true \
  -Ptree-shake-icons=false \
  -Psplit-debug-info= \
  assembleRelease
```

| å‚æ•°                      | å«ä¹‰                                            |
| ------------------------- | ----------------------------------------------- |
| `-I flutter.gradle`       | æ’å…¥ Flutter åˆå§‹åŒ–è„šæœ¬ï¼ˆæ¥è‡ª Flutter SDKï¼‰     |
| `-Ptarget=xxx`            | è¦æ„å»ºçš„ Dart å…¥å£æ–‡ä»¶è·¯å¾„                      |
| `-Ptarget-platform=xxx`   | ç›®æ ‡å¹³å°ï¼Œé€šå¸¸æ˜¯ `android-arm`ã€`android-arm64` |
| `-Pdart-defines`          | ç¼–è¯‘æœŸå®šä¹‰ï¼Œä¾‹å¦‚ `flutter.env=prod` ç­‰          |
| `-Pdart-obfuscation`      | æ˜¯å¦æ··æ·† Dart ä»£ç                               |
| `-Ptrack-widget-creation` | æ˜¯å¦å¯ç”¨ widget è¿½è¸ªï¼ˆå½±å“ DevToolsï¼‰           |
| `-Ptree-shake-icons`      | æ˜¯å¦ç§»é™¤æœªä½¿ç”¨çš„å›¾æ ‡èµ„æº                        |
| `-Psplit-debug-info`      | æ˜¯å¦åˆ†ç¦»è°ƒè¯•ä¿¡æ¯                                |
| `assembleRelease`         | æ„å»º release äº§ç‰©ï¼Œæœ€ç»ˆç”Ÿæˆ `app-release.apk`   |

##### 20.1.8ã€âš™ï¸ ç›¸å…³é…ç½® <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

* [**Flutter**](https://flutter.dev/).[**Android**](https://www.android.com/) æ‰“åŒ…éœ€è¦æ¶‰åŠåˆ°**Java**ç¯å¢ƒæ¨èä½¿ç”¨[<font color=red>**openJDK**</font>](https://openjdk.org/)

* <font color=red>ä¸ºäº†ä¸æ±¡æŸ“ç³»ç»Ÿçš„å¼€å‘ç¯å¢ƒï¼Œæ¨èç”¨[**Homebrew**](https://brew.sh/)â•[**jenv**](https://formulae.brew.sh/formula/jenv)çš„å½¢å¼ã€‚æ¯ä¸ªé¡¹ç›®å•ç‹¬é…ç½®ä¸€ä¸ªç‹¬å±çš„**Java**ç¯å¢ƒ</font>

  * é“†å®šçš„**Java**ç‰ˆæœ¬å·ğŸ“è®°å½•äº[**Flutter**](https://flutter.dev/)é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ï¼š`.java-version`

* **`targetSdk`** ğŸ†š **`minSdk`** ğŸ†š **`compileSdk`**

  | é¡¹ç›®         | ä½œç”¨æ—¶é—´ç‚¹ | å†³å®šäº†ä»€ä¹ˆ                                 | å½±å“èŒƒå›´                                                     |
  | ------------ | ---------- | ------------------------------------------ | ------------------------------------------------------------ |
  | `compileSdk` | ç¼–è¯‘æ—¶     | ä½ èƒ½ç”¨çš„ API ä¸Šé™                          | é™åˆ¶ä»£ç ç¼–å†™ +  <a href="#AGP" style="font-size:17px; color:green;"><b>**AGP**</b></a> è¦æ±‚ |
  | `minSdk`     | å®‰è£…æ—¶     | **App** æœ€ä½å¯è¿è¡Œç³»ç»Ÿç‰ˆæœ¬                 | å½±å“èƒ½å¦å®‰è£…ï¼Œè¶Šä½è®¾å¤‡è¶Šå¤š                                   |
  | `targetSdk`  | è¿è¡Œæ—¶     | ç³»ç»Ÿåˆ¤æ–­ä½ æ˜¯å¦é€‚é…è¯¥ç³»ç»Ÿçš„æ–°è¡Œä¸ºï¼ˆå…¼å®¹æ€§ï¼‰ | å½±å“è¡Œä¸ºå˜æ›´ +  [**Play**](https://play.google.com/)  å®¡æ ¸è¦æ±‚ |

  * **`compileSdk`**

    > [**Android**](https://www.android.com/) æ„å»ºç³»ç»Ÿä¸­çš„ä¸€ä¸ªé…ç½®é¡¹ï¼Œç”¨äºæŒ‡å®š ç¼–è¯‘æ—¶æ‰€ä½¿ç”¨çš„ [**Android**](https://www.android.com/).SDK ç‰ˆæœ¬
    >
    > 1ï¸âƒ£ **ç¼–è¯‘æ—¶ API é™åˆ¶**ï¼šå†³å®šä½ åœ¨ä»£ç ä¸­èƒ½ä½¿ç”¨çš„ [**Android**](https://www.android.com/).API ä¸Šé™ï¼ˆåªèƒ½ç”¨ â‰¤ `compileSdk` çš„ **API**ï¼‰ã€‚
    >
    > 2ï¸âƒ£ **ä¸å½±å“è¿è¡Œç³»ç»Ÿç‰ˆæœ¬**ï¼šå®ƒä¸ä¼šå½±å“ App èƒ½è¿è¡Œåœ¨å“ªäº› [**Android**](https://www.android.com/) ç³»ç»Ÿç‰ˆæœ¬ä¸Šï¼Œè¿è¡ŒèŒƒå›´ç”± `minSdk` å’Œ `targetSdk` æ§åˆ¶ã€‚
    >
    > 3ï¸âƒ£ **å½±å“æ„å»ºå·¥å…·ç‰ˆæœ¬è¦æ±‚**ï¼š`compileSdk` è¶Šé«˜ï¼Œæ‰€éœ€çš„ <a href="#AGP" style="font-size:17px; color:green;"><b>**AGP**</b></a> ç‰ˆæœ¬ä¹Ÿå¿…é¡»è¶Šé«˜ï¼Œå¦åˆ™æ— æ³•ç¼–è¯‘ã€‚
    
    ```groovy
    android {
      compileSdk = 34 /// ä½¿ç”¨ Android SDK 34 æ¥ç¼–è¯‘è¿™ä¸ªé¡¹ç›®
    }
    ```
  
  * **`minSdk`**ï¼ˆæœ€å°æ”¯æŒç‰ˆæœ¬ï¼‰
  
    * å†³å®šæœ€ä½å¯å®‰è£…ç³»ç»Ÿç‰ˆæœ¬ï¼š**App** åªèƒ½å®‰è£…åœ¨ â‰¥ `minSdk` çš„ **Android** ç³»ç»Ÿä¸Šï¼Œä½äºè¿™ä¸ªç‰ˆæœ¬æ— æ³•å®‰è£…ï¼›
    * å½±å“å…¼å®¹æ€§ï¼šè®¾ç½®å¾—è¶Šä½ï¼Œæ”¯æŒçš„è®¾å¤‡è¶Šå¤šï¼›ä½†ä¹Ÿé™åˆ¶ä½ ä½¿ç”¨æŸäº›æ–° APIï¼ˆå¿…é¡»å…¼å®¹æ—§ç‰ˆæœ¬ï¼‰ï¼›
    * å¿…é¡»å…¼å®¹æ—§ç³»ç»Ÿï¼šä½ éœ€è¦å¯¹ä½ç‰ˆæœ¬ç³»ç»Ÿåšå…¼å®¹å¤„ç†ï¼Œå¦åˆ™ **App** ä¼šåœ¨è¿è¡Œæ—¶æŠ¥é”™ã€‚
  
  * **`targetSdk`**ï¼ˆç›®æ ‡ä¼˜åŒ–ç‰ˆæœ¬ï¼‰
  
      * å‘Šè¯‰ç³»ç»Ÿä½ ä¸ºå“ªä¸ªç‰ˆæœ¬åšäº†é€‚é…ï¼š[**Android**](https://www.android.com/)  ä¼šæ ¹æ® `targetSdk` å¯ç”¨/ç¦ç”¨æŸäº›è¡Œä¸ºå˜æ›´ï¼›
  
      * ä¸é™åˆ¶å¯å®‰è£…ç³»ç»Ÿç‰ˆæœ¬ï¼š**App** ä»ç„¶å¯ä»¥å®‰è£…åœ¨æ›´é«˜ç‰ˆæœ¬ç³»ç»Ÿä¸Šï¼Œä½†ç³»ç»Ÿä¼šä»¥ `targetSdk` ä¸ºåŸºå‡†åˆ¤æ–­å…¼å®¹æ€§ï¼›
  
      * ä¸  [**Google Play**](https://play.google.com/)  è¦æ±‚å¼ºç›¸å…³ï¼šå‘å¸ƒåˆ°  [**Play**](https://play.google.com/)  å•†åº—å¿…é¡»æ»¡è¶³å…¶æœ€æ–°çš„ `targetSdk` è¦æ±‚ï¼Œå¦åˆ™æ— æ³•ä¸Šçº¿ã€‚
      


* [**Flutter**](https://flutter.dev/).**Android** é¡¹ç›®åœ¨é¦–æ¬¡æ„å»ºæˆ–æ‰§è¡Œ `flutter clean` åä¼šé‡æ–°ä¸‹è½½ğŸ‘‡

  | èµ„æº                                                         | è¯´æ˜                                                         |
  | ------------------------------------------------------------ | ------------------------------------------------------------ |
  | [**Gradle Wrapper**](https://docs.gradle.org/current/userguide/gradle_wrapper.html) å’Œæ’ä»¶ | å¦‚ `gradle-7.5-all.zip`ã€`com.android.tools.build:gradle`    |
  | [**Kotlin**](https://kotlinlang.org/)æ’ä»¶                    | å¦‚ `org.jetbrains.kotlin:kotlin-gradle-plugin`               |
  | æ”¯æŒåº“                                                       | å„ç§ `androidx.*`ã€`support.*` ç­‰åº“                          |
  | ç¬¬ä¸‰æ–¹ä¾èµ–                                                   | æ¥è‡ª [**pub.dev**](https://pub.dev/) çš„æ’ä»¶ä¸­å£°æ˜çš„ AAR/JARï¼Œå¦‚ [`image_gallery_saver`](https://pub.dev/packages/image_gallery_saver)ã€[`engagelab`](https://pub.dev/packages?q=engagelab) |
  | [**Google Maven**](https://maven.google.com/web/index.html) / [**JCenter**](https://mvnrepository.com/repos/jcenter) / [**MavenCentral**](https://central.sonatype.com/) | é»˜è®¤æ„å»ºæºï¼Œå›½å†…è®¿é—®ä¼šæ…¢                                     |

##### 20.1.9ã€ğŸ“¦ [**Flutter**](https://flutter.dev/).**Android** æ‰“åŒ…è„šæœ¬ï¼ˆMacOSï¼‰  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

<details>
<summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

```dart
// TODO
```
</details>

##### 20.1.10ã€æ‰“åŒ…æˆå“  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> [**Flutter**](https://flutter.dev/) å’Œ [**Gradle**](https://gradle.org/)  çš„æ„å»ºç³»ç»Ÿé»˜è®¤ä¼šå°†æœ€æ–°äº§ç‰©**è¦†ç›–ä¸Šä¸€æ¬¡çš„æ„å»ºäº§ç‰©**

![image-20250724174253656](./assets/README/image-20250724174253656.png)

```
ğŸ“ build
â””â”€â”€ ğŸ“ app
    â””â”€â”€ ğŸ“ outputs
        â”œâ”€â”€ ğŸ“ flutter-apk
        â”‚   â”œâ”€â”€ ğŸ“„ app-debug.apk         ğŸ‘ˆ Flutter å±‚ç”Ÿæˆçš„ APKï¼Œé€‚ç”¨äº flutter installã€è°ƒè¯•éƒ¨ç½²
        â”‚   â””â”€â”€ ğŸ“„ app-debug.apk.sha1    ğŸ‘ˆ SHA1 æ ¡éªŒæ–‡ä»¶ï¼Œç”¨äºéªŒè¯ APK å®Œæ•´æ€§ï¼ˆFlutter å±‚äº§ç‰©ï¼‰ğŸ”
        â”‚
        â”œâ”€â”€ ğŸ“ apk
        â”‚   â””â”€â”€ ğŸ“ debug
        â”‚       â”œâ”€â”€ ğŸ“„ app-debug.apk      ğŸ‘ˆ Gradle å±‚æ ‡å‡†æ„å»ºäº§ç‰©ï¼ŒCI ç³»ç»Ÿè¯»å–ã€ç­¾åæ ¡éªŒç­‰ä½¿ç”¨
        â”‚       â””â”€â”€ ğŸ“„ output-metadata.json ğŸ‘ˆ åŒ…å«æ„å»ºäº§ç‰©çš„å…ƒä¿¡æ¯ï¼ˆç‰ˆæœ¬å·ã€æ„å»ºç±»å‹ç­‰ï¼‰ğŸ§¾
        â”‚
        â””â”€â”€ ğŸ“ bundle
            â””â”€â”€ ğŸ“ debug
                â”œâ”€â”€ ğŸ“„ app.aab           ğŸ‘ˆ Android App Bundle æ ¼å¼ï¼ˆé€‚ç”¨äº Google Play ä¸Šæ¶ï¼‰ğŸ“¦
                â””â”€â”€ ğŸ“„ output-metadata.json ğŸ‘ˆ æ„å»ºå…ƒä¿¡æ¯ï¼Œè®°å½•æ„å»ºæ—¶é—´ã€flavor ç­‰ä¿¡æ¯
```

| åœºæ™¯                                                | åº”è¯¥ä½¿ç”¨                                                 |
| --------------------------------------------------- | -------------------------------------------------------- |
| ğŸ”§ æœ¬åœ°æµ‹è¯•                                          | `flutter-apk/app-debug.apk` æˆ– `apk/debug/app-debug.apk` |
| ğŸš€ ææµ‹/å‘åŒ…                                         | `apk/release/app-release.apk`ï¼ˆéœ€ç­¾åï¼‰                  |
| ğŸŒ ä¸Šæ¶  [**Google Play**](https://play.google.com/) | `bundle/release/app-release.aab`                         |

#### 20.2ã€ğŸ“¦ [**Flutter**](https://flutter.dev/).**iOS**ï¼ˆç›¸å¯¹ç®€å•ï¼‰  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

##### 20.2.1ã€ğŸª–<font color=red>**æ„å»ºæŒ‡ä»¤**</font>ï¼š`flutter build ios` å’Œ `flutter build ipa` <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> **iOS** é¡¹ç›®ä¸»æµæ˜¯ä½¿ç”¨[**XCode**](https://developer.apple.com/xcode/) + [**XCode**](https://developer.apple.com/xcode/) **build system** æ¥è¿›è¡Œæ„å»º

| æ„å»ºç±»å‹          | æ„å»ºå‘½ä»¤                                      | è¯´æ˜                                                         |
| ----------------- | --------------------------------------------- | ------------------------------------------------------------ |
| **Debug** æ„å»º    | `flutter build ios --debug`                   | æ„å»ºç”¨äºè°ƒè¯•çš„ iOS åŒ…ï¼ˆé»˜è®¤ä½¿ç”¨æ¨¡æ‹Ÿå™¨æ¶æ„ï¼‰                  |
| **Profile** æ„å»º  | `flutter build ios --profile`                 | æ„å»ºç”¨äºæ€§èƒ½åˆ†æçš„ä¸­é—´æ€åŒ…                                   |
| **Release** æ„å»º  | `flutter build ios --release`                 | æ„å»ºç”¨äºå‘å¸ƒçš„ iOS åŒ…ï¼ˆä»…æ”¯æŒçœŸæœºï¼‰                          |
| æ„å»º `.xcarchive` | `flutter build ipa --export-method app-store` | æ„å»ºç”¨äº App Store æäº¤çš„å½’æ¡£åŒ…ï¼ˆéœ€é…ç½® [**XCode**](https://developer.apple.com/xcode/) å¯¼å‡ºé€‰é¡¹ï¼‰ |
| æ„å»º `.ipa` åŒ…    | `flutter build ipa`                           | è‡ªåŠ¨ä½¿ç”¨ Release æ¨¡å¼å½’æ¡£å¹¶å¯¼å‡º `.ipa` æ–‡ä»¶ï¼ˆé»˜è®¤å¯¼å‡ºæ–¹å¼ä¸º developmentï¼‰ |

| å‚æ•°å                   | ç¤ºä¾‹                                             | è¯´æ˜                                     |
| ------------------------ | ------------------------------------------------ | ---------------------------------------- |
| `--flavor`               | `--flavor staging`                               | æ„å»ºæŒ‡å®š **flavor**ï¼ˆå¦‚å¤šç¯å¢ƒæ„å»ºï¼‰      |
| `--export-options-plist` | `--export-options-plist=ios/ExportOptions.plist` | æŒ‡å®šå¯¼å‡º **ipa** æ‰€éœ€çš„ **plist**        |
| `--no-codesign`          | `flutter build ios --no-codesign`                | æ„å»ºæ—¶è·³è¿‡ç­¾åï¼Œå¸¸ç”¨äº CI ç¯å¢ƒæˆ–æ‰‹åŠ¨ç­¾å |

##### 20.2.2ã€ğŸ“ç”Ÿæˆçš„åŒ…ç›®å½•  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

> `build/ios/iphoneos/Runner.app`
>
> å¹¶éiOSå·¥ç¨‹æ–‡ä»¶ä¸‹çš„`Products/xxx.app` ï¼ˆæœªéªŒè¯â“ï¼‰

```
ğŸ“ build
â””â”€â”€ ğŸ“ ios
â€ƒâ””â”€â”€ ğŸ“ iphoneos
â€ƒâ€ƒâ”œâ”€â”€ ğŸ“„ Runner.app Â Â Â Â Â Â Â Â Â Â ğŸ‘ˆ çœŸæœºç”¨çš„ App åŒ…ï¼ˆRelease æ¨¡å¼æ—¶ä¼šç”Ÿæˆï¼‰ğŸ“±
â€ƒâ€ƒâ””â”€â”€ ğŸ“„ App.frameworkÂ Â Â Â Â Â Â Â ğŸ‘ˆ Dart ç¼–è¯‘åçš„æ ¸å¿ƒäºŒè¿›åˆ¶ï¼ˆAOTï¼‰ğŸ’¡
â€ƒ
â€ƒâ””â”€â”€ ğŸ“ simulator
â€ƒâ€ƒâ””â”€â”€ ğŸ“„ Runner.app Â Â Â Â Â Â Â Â Â Â ğŸ‘ˆ æ¨¡æ‹Ÿå™¨ç”¨ Appï¼ˆDebug æ„å»ºé»˜è®¤äº§ç‰©ï¼‰ğŸ–¥ï¸
â€ƒ
â””â”€â”€ ğŸ“ ios
â€ƒâ””â”€â”€ ğŸ“ archive
â€ƒâ€ƒâ””â”€â”€ ğŸ“ Runner.xcarchive Â Â ğŸ‘ˆ å½’æ¡£äº§ç‰©ï¼Œç”¨äºå¯¼å‡º .ipa æˆ–ä¸Šä¼ åˆ° TestFlight/App Store ğŸ“¦
â€ƒ
â””â”€â”€ ğŸ“ ios
â€ƒâ””â”€â”€ ğŸ“ ipa
â€ƒâ€ƒâ”œâ”€â”€ ğŸ“„ Runner.ipa Â Â Â Â Â Â Â Â Â Â Â ğŸ‘ˆ å®é™…å¯å®‰è£…çš„ iOS å®‰è£…åŒ…ï¼ˆé€šè¿‡ flutter build ipa ç”Ÿæˆï¼‰ğŸ“²
â€ƒâ€ƒâ””â”€â”€ ğŸ“„ ExportOptions.plist ğŸ‘ˆ å¯¼å‡ºé…ç½® plistï¼ˆç”¨äºæ§åˆ¶ç­¾åæ–¹å¼ã€æ˜¯å¦ä¸Šä¼ ç­‰ï¼‰ğŸ“
```

##### 20.2.3ã€ğŸ“¦ æ‰“åŒ…è„šæœ¬ï¼ˆTODOï¼‰ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

```shell
/// TODO
```

##### 20.2.4ã€âš ï¸æ³¨æ„äº‹é¡¹  <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

* å¿…é¡»è¦æœ‰è‹¹æœçš„å¼€å‘è€…è´¦å·ï¼ˆæ™®é€šè´¦æˆ·å……å€¼ï¼‰

* å¿…é¡»çœŸæœºè¿è¡Œ

* <font color=red>æ— æ³•é€šè¿‡**[XCode](https://developer.apple.com/xcode/)**ç›´æ¥ç¼–è¯‘</font>[**Flutter**](https://flutter.dev/)<font color=red>é¡¹ç›®</font>

  > æ˜¯å› ä¸ºå…¶ä¸­çš„`Podfile`æ˜¯é€šè¿‡[**Flutter**](https://flutter.dev/)è¿›è¡Œå”¤èµ·çš„ï¼Œå¹¶éæ ‡å‡†çš„iOS `Podfile` æ–‡ä»¶æ ¼å¼
  >
  > ====================================================================
  >
  > [**Flutter**](https://flutter.dev/)**ä¼šæ§åˆ¶ Pod çš„å®‰è£…å’Œç‰ˆæœ¬**ï¼Œå¹¶å†™å…¥ï¼š
  >
  > - `ios/Podfile`
  > - `ios/Podfile.lock`
  > - `.flutter-plugins`
  > - `.flutter-plugins-dependencies`
  >
  > ä»»ä½•è¯•å›¾æ‰‹åŠ¨è¿è¡Œ `pod install` è€Œæœªæ‰§è¡Œ `flutter build ios`ï¼Œéƒ½ä¼šç¼ºå°‘ `Flutter.framework` å’Œ Pod é…ç½®ï¼Œå¯¼è‡´å¦‚ä¸‹æŠ¥é”™ï¼š`Could not find Flutter.framework or Flutter.podspec`

    <details>
    <summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

    ```ruby
    # Uncomment this line to define a global platform for your project
    # platform :ios, '12.0'
  
    # CocoaPods analytics sends network stats synchronously affecting flutter build latency.
    ENV['COCOAPODS_DISABLE_STATS'] = 'true'
  
    project 'Runner', {
      'Debug' => :debug,
      'Profile' => :release,
      'Release' => :release,
    }
  
    def flutter_root
      generated_xcode_build_settings_path = File.expand_path(File.join('..', 'Flutter', 'Generated.xcconfig'), __FILE__)
      unless File.exist?(generated_xcode_build_settings_path)
        raise "#{generated_xcode_build_settings_path} must exist. If you're running pod install manually, make sure flutter pub get is executed first"
      end
  
      File.foreach(generated_xcode_build_settings_path) do |line|
        matches = line.match(/FLUTTER_ROOT\=(.*)/)
        return matches[1].strip if matches
      end
      raise "FLUTTER_ROOT not found in #{generated_xcode_build_settings_path}. Try deleting Generated.xcconfig, then run flutter pub get"
    end
  
    require File.expand_path(File.join('packages', 'flutter_tools', 'bin', 'podhelper'), flutter_root)
  
    flutter_ios_podfile_setup
  
    target 'Runner' do
      use_frameworks!
  
      flutter_install_all_ios_pods File.dirname(File.realpath(__FILE__))
      target 'RunnerTests' do
        inherit! :search_paths
      end
    end
  
    post_install do |installer|
      installer.pods_project.targets.each do |target|
        flutter_additional_ios_build_settings(target)
      end
    end
  
    ```
    </details>

## äº”ã€FAQ <a href="#å‰è¨€" style="font-size:17px; color:green;"><b>ğŸ”¼</b></a>

* **`call()`**

  ```dart
  void sayHello() {
    print("Hello!");
  }

  void main() {
    var fn = sayHello;
    fn();        // âœ… ä¼ ç»Ÿå†™æ³•ï¼šè°ƒç”¨å‡½æ•°
    fn.call();   // âœ… ç­‰ä»·å†™æ³•ï¼šæ˜¾å¼è°ƒç”¨ call æ–¹æ³•
  }
  ```

  ```dart
  /// ç”šè‡³å¯ä»¥é‡å†™ call æ–¹æ³•
  class Greeter {
    void call() {
      print("Hi, I'm callable!");
    }
  }

  void main() {
    var g = Greeter();

    g();        // âœ… åƒå‡½æ•°ä¸€æ ·è°ƒç”¨
    g.call();   // âœ… ç­‰ä»·å†™æ³•
  }
  ```

* âœ…ä»€ä¹ˆæ˜¯`ScrollController`?

  * âœ… [**Flutter**](https://flutter.dev/)ä¸ **iOS** æ»šåŠ¨æ§åˆ¶å¯¹ç…§æ€»è¡¨

    | ç”¨é€” / åŠŸèƒ½                          | [**Flutter**](https://flutter.dev/) (`ScrollController`)     | iOS (`UIScrollView + Delegate`)                       |
    | ------------------------------------ | ------------------------------------------------------------ | ----------------------------------------------------- |
    | **è·å–æ»šåŠ¨ä½ç½®**                     | `controller.offset`                                          | `scrollView.contentOffset`                            |
    | **ç›‘å¬æ»šåŠ¨äº‹ä»¶**                     | `controller.addListener()`                                   | `scrollViewDidScroll:` ç­‰ä»£ç†æ–¹æ³•                     |
    | **åˆ¤æ–­æ˜¯å¦æ»šåŠ¨åˆ°åº•éƒ¨/é¡¶éƒ¨**          | `controller.position.atEdge` + `offset` åˆ¤æ–­                 | æ‰‹åŠ¨åˆ¤æ–­ `contentOffset + frame.size` ğŸ†š `contentSize` |
    | **è·³è½¬/åŠ¨ç”»æ»šåŠ¨åˆ°æŒ‡å®šä½ç½®**          | `controller.jumpTo()` / `animateTo()`                        | `setContentOffset:animated:`                          |
    | **æ§åˆ¶å¤šä¸ªæ»šåŠ¨åŒæ­¥**                 | å¤šä¸ªç»„ä»¶ä½¿ç”¨åŒä¸€ä¸ª `ScrollController`                        | KVO / é€šçŸ¥ / delegate ç»‘å®šå¤šä¸ª `scrollView`           |
    | **æ­é…æ»šåŠ¨ç»„ä»¶ï¼ˆå¦‚ Scrollbarï¼‰ä½¿ç”¨** | ä¸ `Scrollbar`ã€`DraggableScrollbar`ã€`NestedScrollView` è”åŠ¨ | ä¸ç³»ç»Ÿæ»šåŠ¨æŒ‡ç¤ºå™¨è‡ªåŠ¨è”åŠ¨ï¼Œæ— éœ€æ‰‹åŠ¨æ§åˆ¶                |
    | **ç›‘å¬æ»šåŠ¨è¾¹ç•Œ / å¼¹æ€§çŠ¶æ€**          | `controller.position` é‡Œçš„ `extentBefore` / `extentAfter`    | æ‰‹åŠ¨åˆ¤æ–­ `contentOffset` ä¸è¾¹ç•Œ                       |
    | **æ»šåŠ¨åœæ­¢/å¼€å§‹ç­‰çŠ¶æ€ç›‘å¬**          | `ScrollNotification`ï¼ˆæ›´ç»†ç²’åº¦ï¼‰                             | `scrollViewWillBeginDragging:` ç­‰ä»£ç†æ–¹æ³•             |
    | **æ˜¯å¦æ»šåŠ¨ä¸­ / æ‹–æ‹½ä¸­**              | `controller.position.isScrollingNotifier`                    | `scrollView.isDragging`ã€`isDecelerating`             |

  * ğŸ“Œ æ€»ç»“å¯¹æ¯”é‡ç‚¹ï¼š

    | ç‰¹æ€§                            | [**Flutter**](https://flutter.dev/)          | iOS                                      |
    | ------------------------------- | -------------------------------------------- | ---------------------------------------- |
    | æ§åˆ¶ & ç›‘å¬æ˜¯å¦åˆ†ç¦»             | åˆåœ¨ `ScrollController` æˆ–é€šçŸ¥               | æ§åˆ¶é  `scrollView`ï¼Œç›‘å¬é  delegate     |
    | è”åŠ¨æ»šåŠ¨æ˜¯å¦ç®€ä¾¿                | éå¸¸æ–¹ä¾¿ï¼Œå¤šä¸ªç»„ä»¶ç»‘å®šåŒä¸€ä¸ª controller å³å¯ | æ¯”è¾ƒéº»çƒ¦ï¼Œéœ€è¦åŒæ­¥å¤šä¸ª scrollView çš„çŠ¶æ€ |
    | æ»šåŠ¨çŠ¶æ€åˆ¤å®šæ˜¯å¦æ˜“ç”¨            | `position` å±æ€§ä¸°å¯Œï¼Œå°è£…å®Œå¥½                | éœ€è¦è‡ªå·±è®¡ç®—æˆ–åˆ¤æ–­                       |
    | å¯æ‹“å±•æ€§æ˜¯å¦å¼ºï¼ˆåµŒå¥— / è‡ªå®šä¹‰ï¼‰ | éå¸¸å¼ºï¼Œå¦‚ `NestedScrollView`                | ä¸€èˆ¬ï¼Œéœ€è¦æ‰‹åŠ¨ç»„åˆ                       |

  * ç¤ºä¾‹ä»£ç ï¼š

    <details>
    <summary>ç‚¹å‡»å±•å¼€ä»£ç </summary>

    ```dart
    /// ç›‘å¬å’Œæ»šåŠ¨åˆ°æŸä¸ªä½ç½®
    class ScrollControllerDemo extends StatefulWidget {
      @override
      _ScrollControllerDemoState createState() => _ScrollControllerDemoState();
    }
    
    class _ScrollControllerDemoState extends State<ScrollControllerDemo> {
      final ScrollController _controller = ScrollController();
    
      @override
      void initState() {
        super.initState();
    
        // âœ… æ·»åŠ æ»šåŠ¨ç›‘å¬
        _controller.addListener(() {
          print('å½“å‰æ»šåŠ¨ä½ç½®: ${_controller.offset}');
        });
      }
    
      @override
      void dispose() {
        _controller.dispose(); // âœ… åˆ«å¿˜äº†é‡Šæ”¾
        super.dispose();
      }
    
      void _scrollToTop() {
        _controller.animateTo(
          0.0, // ç›®æ ‡ offset
          duration: Duration(milliseconds: 500),
          curve: Curves.easeOut,
        );
      }
    
      void _scrollToBottom() {
        _controller.animateTo(
          _controller.position.maxScrollExtent, // æœ€å¤§å¯æ»šåŠ¨è·ç¦»
          duration: Duration(milliseconds: 500),
          curve: Curves.easeInOut,
        );
      }
    
      @override
      Widget build(BuildContext context) {
        return Scaffold(
          appBar: AppBar(title: Text('ScrollController ç¤ºä¾‹')),
          body: Column(
            children: [
              Row(
                children: [
                  TextButton(onPressed: _scrollToTop, child: Text('å›åˆ°é¡¶éƒ¨')),
                  TextButton(onPressed: _scrollToBottom, child: Text('æ»‘åˆ°åº•éƒ¨')),
                ],
              ),
              Expanded(
                child: ListView.builder(
                  controller: _controller, // âœ… ç»‘å®šæ§åˆ¶å™¨
                  itemCount: 50,
                  itemBuilder: (context, index) => ListTile(title: Text('Item $index')),
                ),
              ),
            ],
          ),
        );
      }
    }
    ```
    ```dart
    /// å¤šä¸ªç»„ä»¶åŒæ­¥æ»šåŠ¨
    final controller = ScrollController();
    
    Row(
      children: [
        Expanded(
          child: ListView(controller: controller, ...),
        ),
        Expanded(
          child: ListView(controller: controller, ...), // åŒä¸€ä¸ªæ§åˆ¶å™¨ï¼
        ),
      ],
    )
    ```
    
    </details>
  
* âœ…ä»€ä¹ˆæ˜¯`external`?

  > è¿™ä¸ªæ–¹æ³•æ²¡æœ‰åœ¨ Dart å±‚å®ç°ï¼Œè€Œæ˜¯ç”± Dart VM æˆ–å¹³å°åŸç”Ÿå±‚æä¾›å®ç°ã€‚

* âœ…ä¸ºä»€ä¹ˆ**Dart**.[**Flutter**](https://flutter.dev/)ç¦æ­¢åå°„æœºåˆ¶ï¼Ÿ

  ğŸ‘‰ æ˜¯ä¸ºäº†ä¿è¯ **æ›´å¿«å¯åŠ¨ã€æ›´å°ä½“ç§¯ã€æ›´é«˜æ€§èƒ½çš„ç§»åŠ¨åº”ç”¨ä½“éªŒ**ï¼Œè¿™æ˜¯è®¾è®¡ä¸Šçš„å–èˆ

  * **AOT æ— æ³•æ”¯æŒåŠ¨æ€åå°„**

    [å®˜æ–¹æ–‡æ¡£è¯´æ˜](https://github.com/flutter/flutter/issues/2072)ï¼šâ€œ<u>We have no plans to support dart:mirrors in Flutter.</u>â€

    ```dart
    import 'dart:mirrors'; // âŒ ç›´æ¥æŠ¥é”™ï¼šUnsupported in Flutter
    ```

    åå°„æ„å‘³ç€ï¼š

    - åŠ¨æ€è°ƒç”¨æ–¹æ³•ï¼ˆé€šè¿‡å­—ç¬¦ä¸²æ–¹æ³•åï¼‰
    - åŠ¨æ€åˆ›å»ºå¯¹è±¡ï¼ˆé€šè¿‡ç±»åå­—ç¬¦ä¸²ï¼‰
    - åŠ¨æ€è¯»å–å­—æ®µï¼ˆé€šè¿‡å­—ç¬¦ä¸²å­—æ®µåï¼‰

    è¿™è¦æ±‚ Dart åœ¨è¿è¡Œæ—¶ **ä¿ç•™æ‰€æœ‰ç±»å‹ä¿¡æ¯** å’Œ **æ–¹æ³•è¡¨**ï¼Œä½† **AOT** ç¼–è¯‘æ—¶ä¼šï¼š

    - âœ… **å»æ‰æœªç”¨ä»£ç ï¼ˆTree Shakingï¼‰**
    - âœ… **å‰¥ç¦»ç±»å‹ä¿¡æ¯æ¥å‹ç¼©åŒ…ä½“ç§¯**
    - âœ… **åªä¿ç•™è¢«é™æ€è°ƒç”¨çš„ä»£ç è·¯å¾„**

    â¡ï¸ æ‰€ä»¥ **åå°„éœ€è¦çš„è¿è¡Œæ—¶ä¿¡æ¯æ ¹æœ¬å°±è¢«ç¼–è¯‘å™¨ä¼˜åŒ–æ‰äº†**ã€‚

  * **`dart:mirrors` ä¼šæå¤§å¢åŠ ä½“ç§¯å’Œå¯åŠ¨æ—¶é—´**

    * [**Flutter**](https://flutter.dev/) å®˜æ–¹æµ‹è¯•æ˜¾ç¤ºï¼š
       **å¯ç”¨ dart:mirrors ä¼šå¢åŠ å‡  MB çš„åŒ…å¤§å°**ï¼ˆå°¤å…¶æ˜¯ **iOS**ï¼‰
    * å¯åŠ¨é€Ÿåº¦ä¹Ÿä¼šæ˜æ˜¾å˜æ…¢ï¼Œå› ä¸ºè¦åŠ è½½å¤§é‡å…ƒä¿¡æ¯

  * æ›¿ä»£åå°„

    <font color=red>ç”¨çš„è¿™äº› `@JsonSerializable()`ã€`build_runner` ä»£ç ç”Ÿæˆï¼Œå…¶å®å°±æ˜¯â€œç”¨é™æ€ä»£ç ç”Ÿæˆâ€æ¥**æ›¿ä»£åå°„èƒ½åšçš„é‚£äº›äº‹**ã€‚</font>

    | ç›®çš„            | Flutter æ¨èåšæ³•                        |
    | --------------- | --------------------------------------- |
    | **JSON** è½¬æ¢   | ç”¨ `json_serializable` ç”Ÿæˆä»£ç ä»£æ›¿åå°„ |
    | è·¯ç”±æ³¨å†Œ        | ç”¨é™æ€è¡¨ / è‡ªåŠ¨ç”Ÿæˆè·¯ç”±æ³¨å†Œ             |
    | **AOP**ï¼ˆåˆ‡é¢ï¼‰ | ç”¨ **codegen** æˆ–å°è£…ä¸­é—´ä»¶å®ç°         |
    | æœåŠ¡å®šä½        | ç”¨ `GetIt` æˆ– `provider` çš„é™æ€æ³¨å…¥æœºåˆ¶ |

* <font id=Shellé¡µé¢>âœ…ä»€ä¹ˆæ˜¯**Shell**é¡µé¢ï¼Ÿ</font>

  > **Shell é¡µé¢å°±æ˜¯ä½  App çš„â€œä¸»éª¨æ¶é¡µé¢â€**ï¼Œå®ƒè´Ÿè´£æ‰¿è½½å†…å®¹ã€ç®¡ç†å¯¼èˆªç»“æ„ï¼Œè€Œä¸æ˜¯å±•ç¤ºå…·ä½“ä¸šåŠ¡æ•°æ®ã€‚

  åœ¨ **iOS** ä¸­ç­‰åŒäºï¼š

  - `UITabBarController`
  - `UINavigationController`
  - æˆ–è€…ä½ è‡ªå®šä¹‰çš„â€œä¸»å®¹å™¨ + å†…å®¹é¡µåˆ‡æ¢æ¡†æ¶â€

* <font id=æ¨¡æ€>âœ… ä»€ä¹ˆæ˜¯**æ¨¡æ€**ï¼Ÿ</font>

  > 1ï¸âƒ£ æŒ‡çš„æ˜¯ä¸€ç§**å¼ºåˆ¶ç”¨æˆ·å®ŒæˆæŸä¸ªæ“ä½œæˆ–å…³é—­å¼¹çª—ä¹‹åï¼Œæ‰èƒ½ç»§ç»­ä¸é¡µé¢å…¶ä»–éƒ¨åˆ†äº¤äº’**çš„ç•Œé¢æ–¹å¼ã€‚
  >
  > 2ï¸âƒ£ èƒ½é˜²æ­¢ç”¨æˆ·è¯¯æ“ä½œï¼Œä¹Ÿç”¨äºå¼ºè°ƒé‡è¦æ€§
  >
  > ğŸ”’ ç‰¹ç‚¹æ˜¯ï¼š**é˜»æ–­äº¤äº’**ã€‚ä¸€æ—¦å‡ºç°æ¨¡æ€ç•Œé¢ï¼š
  >
  > - èƒŒåçš„å†…å®¹å˜ç°æˆ–è¢«é®ç½©ï¼›
  > - ç”¨æˆ·æ— æ³•ç‚¹å‡»ã€æ»šåŠ¨ã€ä¸å…¶ä»–ç•Œé¢äº¤äº’ï¼›
  > - åªèƒ½æ“ä½œå¼¹å‡ºçš„æ¨¡æ€æ¡†ï¼ˆå¦‚â€œç¡®å®šâ€æˆ–â€œå–æ¶ˆâ€ï¼‰ï¼›
  > - å…³é—­å¼¹çª—åï¼Œæ‰èƒ½å›åˆ°åŸç•Œé¢ã€‚

* ğŸ”¥çˆ¶ç±»è°ƒç”¨çš„é¡ºåº

  * **ç‰¹åˆ«çš„ä¸ä¼—ä¸åŒ**

    > <font color=red>ç›®å‰ä¸»æµå¹³å°é‡Œï¼Œåªæœ‰ **Dart**.[**Flutter**](https://flutter.dev/) æ¨è â€œå…ˆè‡ªå·±åˆå§‹åŒ–ï¼Œå†è°ƒç”¨ `super.XXX`â€ã€‚</font>
    >
    > **çˆ¶ç±»ä¸ä¾èµ–å­ç±»çŠ¶æ€ï¼Œå…ˆåˆå§‹åŒ–è‡ªå·±æ›´å®‰å…¨**
  
    ```dart
    @override
    void initState() {
      // å…ˆåˆå§‹åŒ–
      super.initState(); // åè°ƒç”¨çˆ¶ç±»çš„é’©å­
    }
    ```
  
  * ```kotlin
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState) // âœ… é€šå¸¸å…ˆè°ƒç”¨
        // å†åˆå§‹åŒ–å½“å‰ Activity æˆ– Fragment çš„å†…å®¹
    }
    ```
  
  * ```swift
    override func viewDidLoad() {
        super.viewDidLoad()
        // å†åˆå§‹åŒ–å­ç±»å†…å®¹
    }
    ```
  
  * ```objective-c
    - (void)viewDidLoad {
        [super viewDidLoad];
    		// å†åˆå§‹åŒ–å­ç±»å†…å®¹
    }
    ```
  
  * ```java
    public class Child extends Parent {
        public Child() {
            super();     // âœ… å¿…é¡»æ”¾ç¬¬ä¸€è¡Œï¼Œå¦åˆ™ç¼–è¯‘æŠ¥é”™
            // åˆå§‹åŒ–å­ç±»å†…å®¹
        }
    }
    ```
  
* ğŸŒŠ**æµå¼å¸ƒå±€**

  > **`æµå¼å¸ƒå±€`**æ˜¯ä¸€ç§ç½‘é¡µæˆ–åº”ç”¨ç•Œé¢å¸ƒå±€æ–¹å¼ï¼Œå…¶æ ¸å¿ƒç†å¿µæ˜¯**å†…å®¹ä¼šæ ¹æ®å±å¹•å¤§å°è‡ªåŠ¨â€œæµåŠ¨â€å¹¶é‡æ–°æ’åˆ—**ï¼Œä»¥é€‚åº”ä¸åŒçš„è®¾å¤‡å’Œåˆ†è¾¨ç‡ã€‚å®ƒæ˜¯ä¸€ç§ç›¸å¯¹äºå›ºå®šå¸ƒå±€çš„å“åº”å¼è®¾è®¡æ–¹æ³•ï¼Œå¸¸ç”¨äºå‰ç«¯å¼€å‘å’Œ UI è®¾è®¡ä¸­ã€‚

* ğŸ”§**å®ç”¨å¿«æ·é”®**

  * å¦‚æœå¸Œæœ›åœ¨æŸä¸ª**`widget`**å¤–é¢åŒ…è£¹å¦ä¸€ä¸ª**`widget`**ï¼š**`^+.`** (å·²ä¿®æ”¹)

    > å’Œ**MacOS**å…³é—­**iOSæ¨¡æ‹Ÿå™¨**çš„çƒ­é”®å†²çªï¼ˆ**`command+.`**ï¼‰ã€‚æ‰€ä»¥ï¼Œéœ€è¦è¿›è¡Œæ›´æ”¹ä¸º**`^+.`** ï¼š
    >
    > ![image-20250726184322012](./assets/README/image-20250726184322012.png)
    >
    > ![image-20250726184439831](./assets/README/image-20250726184439831.png)
    
    ![image-20250723010750938](./assets/README/image-20250723010750938.png)
